var kn=Object.defineProperty;var yn=(t,e,n)=>e in t?kn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var tt=(t,e,n)=>(yn(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function B(){}const Ze=t=>t;function wn(t,e){for(const n in e)t[n]=e[n];return t}function on(t){return t()}function Ht(){return Object.create(null)}function re(t){t.forEach(on)}function Pe(t){return typeof t=="function"}function I(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Fe;function St(t,e){return t===e?!0:(Fe||(Fe=document.createElement("a")),Fe.href=e,t===Fe.href)}function Hn(t){return Object.keys(t).length===0}function Sn(t,...e){if(t==null){for(const l of e)l(void 0);return B}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ie(t,e,n){t.$$.on_destroy.push(Sn(e,n))}function ct(t,e,n,l){if(t){const s=cn(t,e,n,l);return t[0](s)}}function cn(t,e,n,l){return t[1]&&l?wn(n.ctx.slice(),t[1](l(e))):n.ctx}function ft(t,e,n,l){if(t[2]&&l){const s=t[2](l(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const a=[],i=Math.max(e.dirty.length,s.length);for(let r=0;r<i;r+=1)a[r]=e.dirty[r]|s[r];return a}return e.dirty|s}return e.dirty}function ut(t,e,n,l,s,a){if(s){const i=cn(e,n,l,a);t.p(i,s)}}function dt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function ge(t){return t??""}function fn(t){return t&&Pe(t.destroy)?t.destroy:B}const un=typeof window<"u";let gt=un?()=>window.performance.now():()=>Date.now(),ht=un?t=>requestAnimationFrame(t):B;const Ae=new Set;function dn(t){Ae.forEach(e=>{e.c(t)||(Ae.delete(e),e.f())}),Ae.size!==0&&ht(dn)}function mt(t){let e;return Ae.size===0&&ht(dn),{promise:new Promise(n=>{Ae.add(e={c:t,f:n})}),abort(){Ae.delete(e)}}}function g(t,e){t.appendChild(e)}function gn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Mn(t){const e=b("style");return e.textContent="/* empty */",Cn(gn(t),e),e.sheet}function Cn(t,e){return g(t.head||t,e),e.sheet}function S(t,e,n){t.insertBefore(e,n||null)}function H(t){t.parentNode&&t.parentNode.removeChild(t)}function be(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function b(t){return document.createElement(t)}function E(t){return document.createTextNode(t)}function C(){return E(" ")}function hn(){return E("")}function x(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function An(t){return Array.from(t.childNodes)}function se(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ve(t,e){t.value=e??""}function Be(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function mn(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}const We=new Map;let je=0;function Rn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Tn(t,e){const n={stylesheet:Mn(e),rules:{}};return We.set(t,n),n}function Ge(t,e,n,l,s,a,i,r=0){const o=16.666/l;let c=`{
`;for(let y=0;y<=1;y+=o){const _=e+(n-e)*a(y);c+=y*100+`%{${i(_,1-_)}}
`}const f=c+`100% {${i(n,1-n)}}
}`,u=`__svelte_${Rn(f)}_${r}`,d=gn(t),{stylesheet:p,rules:h}=We.get(d)||Tn(d,t);h[u]||(h[u]=!0,p.insertRule(`@keyframes ${u} ${f}`,p.cssRules.length));const k=t.style.animation||"";return t.style.animation=`${k?`${k}, `:""}${u} ${l}ms linear ${s}ms 1 both`,je+=1,u}function Ye(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?a=>a.indexOf(e)<0:a=>a.indexOf("__svelte")===-1),s=n.length-l.length;s&&(t.style.animation=l.join(", "),je-=s,je||Pn())}function Pn(){ht(()=>{je||(We.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&H(e)}),We.clear())})}let Le;function De(t){Le=t}function pn(){if(!Le)throw new Error("Function called outside component initialization");return Le}function On(t){pn().$$.on_mount.push(t)}function oe(){const t=pn();return(e,n,{cancelable:l=!1}={})=>{const s=t.$$.callbacks[e];if(s){const a=mn(e,n,{cancelable:l});return s.slice().forEach(i=>{i.call(t,a)}),!a.defaultPrevented}return!0}}const Ce=[],Mt=[];let Re=[];const Ct=[],Dn=Promise.resolve();let it=!1;function Ln(){it||(it=!0,Dn.then(_n))}function le(t){Re.push(t)}const nt=new Set;let Se=0;function _n(){if(Se!==0)return;const t=Le;do{try{for(;Se<Ce.length;){const e=Ce[Se];Se++,De(e),En(e.$$)}}catch(e){throw Ce.length=0,Se=0,e}for(De(null),Ce.length=0,Se=0;Mt.length;)Mt.pop()();for(let e=0;e<Re.length;e+=1){const n=Re[e];nt.has(n)||(nt.add(n),n())}Re.length=0}while(Ce.length);for(;Ct.length;)Ct.pop()();it=!1,nt.clear(),De(t)}function En(t){if(t.fragment!==null){t.update(),re(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(le)}}function Fn(t){const e=[],n=[];Re.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Re=e}let Oe;function pt(){return Oe||(Oe=Promise.resolve(),Oe.then(()=>{Oe=null})),Oe}function ye(t,e,n){t.dispatchEvent(mn(`${e?"intro":"outro"}${n}`))}const Ie=new Set;let ue;function ce(){ue={r:0,c:[],p:ue}}function fe(){ue.r||re(ue.c),ue=ue.p}function $(t,e){t&&t.i&&(Ie.delete(t),t.i(e))}function v(t,e,n,l){if(t&&t.o){if(Ie.has(t))return;Ie.add(t),ue.c.push(()=>{Ie.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const _t={duration:0};function xe(t,e,n){const l={direction:"in"};let s=e(t,n,l),a=!1,i,r,o=0;function c(){i&&Ye(t,i)}function f(){const{delay:d=0,duration:p=300,easing:h=Ze,tick:k=B,css:y}=s||_t;y&&(i=Ge(t,0,1,p,d,h,y,o++)),k(0,1);const _=gt()+d,P=_+p;r&&r.abort(),a=!0,le(()=>ye(t,!0,"start")),r=mt(q=>{if(a){if(q>=P)return k(1,0),ye(t,!0,"end"),c(),a=!1;if(q>=_){const L=h((q-_)/p);k(L,1-L)}}return a})}let u=!1;return{start(){u||(u=!0,Ye(t),Pe(s)?(s=s(l),pt().then(f)):f())},invalidate(){u=!1},end(){a&&(c(),a=!1)}}}function $t(t,e,n){const l={direction:"out"};let s=e(t,n,l),a=!0,i;const r=ue;r.r+=1;let o;function c(){const{delay:f=0,duration:u=300,easing:d=Ze,tick:p=B,css:h}=s||_t;h&&(i=Ge(t,1,0,u,f,d,h));const k=gt()+f,y=k+u;le(()=>ye(t,!1,"start")),"inert"in t&&(o=t.inert,t.inert=!0),mt(_=>{if(a){if(_>=y)return p(0,1),ye(t,!1,"end"),--r.r||re(r.c),!1;if(_>=k){const P=d((_-k)/u);p(1-P,P)}}return a})}return Pe(s)?pt().then(()=>{s=s(l),c()}):c(),{end(f){f&&"inert"in t&&(t.inert=o),f&&s.tick&&s.tick(1,0),a&&(i&&Ye(t,i),a=!1)}}}function Je(t,e,n,l){let a=e(t,n,{direction:"both"}),i=l?0:1,r=null,o=null,c=null,f;function u(){c&&Ye(t,c)}function d(h,k){const y=h.b-i;return k*=Math.abs(y),{a:i,b:h.b,d:y,duration:k,start:h.start,end:h.start+k,group:h.group}}function p(h){const{delay:k=0,duration:y=300,easing:_=Ze,tick:P=B,css:q}=a||_t,L={start:gt()+k,b:h};h||(L.group=ue,ue.r+=1),"inert"in t&&(h?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),r||o?o=L:(q&&(u(),c=Ge(t,i,h,y,k,_,q)),h&&P(0,1),r=d(L,y),le(()=>ye(t,h,"start")),mt(N=>{if(o&&N>o.start&&(r=d(o,y),o=null,ye(t,r.b,"start"),q&&(u(),c=Ge(t,i,r.b,r.duration,0,_,a.css))),r){if(N>=r.end)P(i=r.b,1-i),ye(t,r.b,"end"),o||(r.b?u():--r.group.r||re(r.group.c)),r=null;else if(N>=r.start){const F=N-r.start;i=r.a+r.d*_(F/r.duration),P(i,1-i)}}return!!(r||o)}))}return{run(h){Pe(a)?pt().then(()=>{a=a({direction:h?"in":"out"}),p(h)}):p(h)},end(){u(),r=o=null}}}function J(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function T(t){t&&t.c()}function A(t,e,n){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,n),le(()=>{const a=t.$$.on_mount.map(on).filter(Pe);t.$$.on_destroy?t.$$.on_destroy.push(...a):re(a),t.$$.on_mount=[]}),s.forEach(le)}function R(t,e){const n=t.$$;n.fragment!==null&&(Fn(n.after_update),re(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Bn(t,e){t.$$.dirty[0]===-1&&(Ce.push(t),Ln(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function V(t,e,n,l,s,a,i,r=[-1]){const o=Le;De(t);const c=t.$$={fragment:null,ctx:[],props:a,update:B,not_equal:s,bound:Ht(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:Ht(),dirty:r,skip_bound:!1,root:e.target||o.$$.root};i&&i(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(u,d,...p)=>{const h=p.length?p[0]:d;return c.ctx&&s(c.ctx[u],c.ctx[u]=h)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](h),f&&Bn(t,u)),d}):[],c.update(),f=!0,re(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const u=An(e.target);c.fragment&&c.fragment.l(u),u.forEach(H)}else c.fragment&&c.fragment.c();e.intro&&$(t.$$.fragment),A(t,e.target,e.anchor),_n()}De(o)}class W{constructor(){tt(this,"$$");tt(this,"$$set")}$destroy(){R(this,1),this.$destroy=B}$on(e,n){if(!Pe(n))return B;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!Hn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Nn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Nn);const Me=[];function ve(t,e=B){let n;const l=new Set;function s(r){if(I(t,r)&&(t=r,n)){const o=!Me.length;for(const c of l)c[1](),Me.push(c,t);if(o){for(let c=0;c<Me.length;c+=2)Me[c][0](Me[c+1]);Me.length=0}}}function a(r){s(r(t))}function i(r,o=B){const c=[r,o];return l.add(c),l.size===1&&(n=e(s,a)||B),r(t),()=>{l.delete(c),l.size===0&&n&&(n(),n=null)}}return{set:s,update:a,subscribe:i}}const O=(t=1,e=6)=>{const n=[];for(let l=0;l<t;l++){const s=Math.floor(Math.random()*e)+1;n.push(s)}return n.reduce((l,s)=>l+s,0)},zn=()=>{const{subscribe:t,set:e,update:n}=ve([{key:"4",value:4,count:0},{key:"6",value:6,count:0},{key:"8",value:8,count:0},{key:"10",value:10,count:0},{key:"12",value:12,count:0},{key:"20",value:20,count:0}]);return{subscribe:t,set:e,roll:l=>n(s=>(s.find(a=>a.key===l).count+=1,s.find(a=>a.key===l).value=O(1,+l),[...s]))}},lt=zn();function $n(t){const e=t-1;return e*e*e+1}function In(t){return t*t*t*t*t}function Ue(t){return--t*t*t*t*t+1}function Te(t,{delay:e=0,duration:n=400,easing:l=Ze}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:a=>`opacity: ${a*s}`}}function Ke(t,{delay:e=0,duration:n=400,easing:l=$n,axis:s="y"}={}){const a=getComputedStyle(t),i=+a.opacity,r=s==="y"?"height":"width",o=parseFloat(a[r]),c=s==="y"?["top","bottom"]:["left","right"],f=c.map(_=>`${_[0].toUpperCase()}${_.slice(1)}`),u=parseFloat(a[`padding${f[0]}`]),d=parseFloat(a[`padding${f[1]}`]),p=parseFloat(a[`margin${f[0]}`]),h=parseFloat(a[`margin${f[1]}`]),k=parseFloat(a[`border${f[0]}Width`]),y=parseFloat(a[`border${f[1]}Width`]);return{delay:e,duration:n,easing:l,css:_=>`overflow: hidden;opacity: ${Math.min(_*20,1)*i};${r}: ${_*o}px;padding-${c[0]}: ${_*u}px;padding-${c[1]}: ${_*d}px;margin-${c[0]}: ${_*p}px;margin-${c[1]}: ${_*h}px;border-${c[0]}-width: ${_*k}px;border-${c[1]}-width: ${_*y}px;`}}function qn(t,{delay:e=0,duration:n=400,easing:l=$n,start:s=0,opacity:a=0}={}){const i=getComputedStyle(t),r=+i.opacity,o=i.transform==="none"?"":i.transform,c=1-s,f=r*(1-a);return{delay:e,duration:n,easing:l,css:(u,d)=>`
			transform: ${o} scale(${1-c*d});
			opacity: ${r-f*d}
		`}}function At(t,e,n){const l=t.slice();return l[5]=e[n],l[7]=n,l}function Rt(t){let e,n=t[5].value+"",l,s;return{c(){e=b("span"),l=E(n),m(e,"class","svelte-mp3op8")},m(a,i){S(a,e,i),g(e,l)},p(a,i){i&1&&n!==(n=a[5].value+"")&&se(l,n)},i(a){a&&(s||le(()=>{s=xe(e,qn,{delay:150,duration:200,easing:In}),s.start()}))},o:B,d(a){a&&H(e)}}}function Tt(t){let e,n=t[5].count,l,s,a,i,r=Rt(t);function o(){return t[3](t[5],t[7])}return{c(){e=b("button"),r.c(),l=C(),m(e,"ontouchstart",""),m(e,"class",s=ge(`dice d${t[5].key}${t[1]===t[7]?" green":""}`)+" svelte-mp3op8")},m(c,f){S(c,e,f),r.m(e,null),g(e,l),a||(i=x(e,"click",o),a=!0)},p(c,f){t=c,f&1&&I(n,n=t[5].count)?(ce(),v(r,1,1,B),fe(),r=Rt(t),r.c(),$(r,1),r.m(e,l)):r.p(t,f),f&3&&s!==(s=ge(`dice d${t[5].key}${t[1]===t[7]?" green":""}`)+" svelte-mp3op8")&&m(e,"class",s)},d(c){c&&H(e),r.d(c),a=!1,i()}}}function Vn(t){let e,n=J(t[0]),l=[];for(let s=0;s<n.length;s+=1)l[s]=Tt(At(t,n,s));return{c(){e=b("div");for(let s=0;s<l.length;s+=1)l[s].c();m(e,"class","dice-list svelte-mp3op8")},m(s,a){S(s,e,a);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(s,[a]){if(a&7){n=J(s[0]);let i;for(i=0;i<n.length;i+=1){const r=At(s,n,i);l[i]?l[i].p(r,a):(l[i]=Tt(r),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},i:B,o:B,d(s){s&&H(e),be(l,s)}}}function Wn(t,e,n){let l;ie(t,lt,o=>n(4,l=o));let s=l;lt.subscribe(o=>n(0,s=o));let a;const i=(o,c)=>{lt.roll(o),n(1,a=c)};return[s,a,i,(o,c)=>i(o.key,c)]}class jn extends W{constructor(e){super(),V(this,e,Wn,Vn,I,{})}}const Gn=()=>{const{subscribe:t,set:e,update:n}=ve("");return{subscribe:t,set:e,change:l=>n(s=>(s=l,Y(),s))}},Ee=Gn(),Yn=t=>{let e;de.subscribe(l=>e=l[`${t}Max`]);const n=O(1,20);return n===1||n<=e},st=(t,e=1)=>{let n;K.subscribe(s=>n=s.hpMax);const l=O(e,6);t!=="add"?l>n?(K.setMaxHp(l),Z.addHistory(`HP has been set to ${l}.`)):Z.addHistory("HP roll result was too low, no upgrade."):(K.setMaxHp(n+l),Z.addHistory(`${l} has been added to HP.`))},at=(t,e)=>{const n=e||["","str","dex","wil"][O(1,3)];let l;de.subscribe(a=>l=a[`${n}Max`]);const s=O(3,6);if(t!=="add")l<s?(de.setMaxAbility(n,s),Z.addHistory(`${n.toUpperCase()} has been set to ${s}.`)):Z.addHistory(`${n.toUpperCase()} roll result was too low, no upgrade.`);else if(Yn(n)){const a=O(1,4);K.setMaxHp(l+a),Z.addHistory(`${a} has been added to ${n.toUpperCase()}.`)}else Z.addHistory(`${n.toUpperCase()} save was failed, no upgrade.`)},Jn=()=>{const t=[],{subscribe:e,set:n,update:l}=ve([...t]);return{subscribe:e,set:n,add:s=>l(a=>{switch(s){case 1:a=[...a,{content:`Lasting Scar on ${["","Neck","Hands","Eye","Chest","Legs","Ear"][O(1,6)]}.`}],st("change",1);break;case 2:a=[...a,{content:"Rattling Blow. You’re disoriented and shaken. Describe how you refocus."}],st("change",1);break;case 3:a=[...a,{content:"Walloped: You’re sent flying and land flat on your face, winded. You are deprived until you rest for a few hours, when resolve.",resolve:{action:"increaseHP",type:"add",num:1}}];break;case 4:a=[...a,{content:`Broken Limb: ${["","Leg","Leg","Arm","Arm","Rib","Skull"][O(1,6)]}. Once mended, resolve.`,resolve:{action:"increaseHP",type:"change",num:2}}];break;case 5:a=[...a,{content:"Diseased: You’re afflicted with a gross, uncomfortable infection. When you get over it, resolve.",resolve:{action:"increaseHP",type:"change",num:2}}];break;case 6:a=[...a,{content:"Reorienting Head Wound."}],at("change");break;case 7:a=[...a,{content:"Hamstrung: You can barely move until you get serious help and rest. After recovery, resolve.",resolve:{action:"increaseAbility",type:"change",key:"dex"}}];break;case 8:a=[...a,{content:"Deafened: You cannot hear anything until you find extraordinary aid. Regardless, resolve.",resolve:{action:"increaseAbility",type:"add",key:"wil"}}];break;case 9:a=[...a,{content:"Re-brained: Some hidden part of your psyche is knocked loose."}],at("change","wil");break;case 10:a=[...a,{content:"Sundered: An appendage is torn off, crippled or useless. The Warden will tell you which. Then resolve.",resolve:{action:"increaseAbility",type:"add",key:"wil"}}];break;case 11:a=[...a,{content:"Mortal Wound: You are deprived and out of action. You die in one hour unless healed. Upon recovery, resolve.",resolve:{action:"increaseHP",type:"change",num:2}}];break;case 12:a=[...a,{content:"Doomed: Death seemed ever so close, but somehow you survived. If your next save against critical damage is a fail, you die horribly. If you pass, resolve",resolve:{action:"increaseHP",type:"change",num:3}}];break}return setTimeout(()=>Y(),0),[...a]}),addHistory:s=>setTimeout(()=>l(a=>(a=[...a,{content:s}],setTimeout(()=>Y(),0),[...a])),0),resolve:s=>l(a=>{const i=a[s].resolve;switch(i.action){case"increaseHP":st(i.type,i.num);break;case"increaseAbility":at(i.type,i.key);break}return a[s].resolve=null,Y(),[...a]}),reset:()=>{n([...t]),Y()}}},Z=Jn(),bt=()=>{let t;_e.subscribe(r=>t=r);let e;de.subscribe(r=>e=r);let n;K.subscribe(r=>n=r);let l;we.subscribe(r=>l=r);let s;$e.subscribe(r=>s=r);let a;Z.subscribe(r=>a=r);let i;return Ee.subscribe(r=>i=r),{name:t,abilities:{str:e.str,dex:e.dex,wil:e.wil,strMax:e.strMax,dexMax:e.dexMax,wilMax:e.wilMax},stats:{hp:n.hp,hpMax:n.hpMax,armor:n.armor,deprived:n.deprived},coins:{gp:l.gp,sp:l.sp,cp:l.cp},inventory:s,scars:a,notes:i}},Y=()=>{const t=bt();localStorage.setItem("pc__character",JSON.stringify(t))},Un=()=>{const{subscribe:t,set:e,update:n}=ve({str:0,dex:0,wil:0,strMax:0,dexMax:0,wilMax:0});return{subscribe:t,set:e,increase:l=>n(s=>(s[l]+=s[l]<s[`${l}Max`]?1:0,Y(),{...s})),decrease:l=>n(s=>(s[l]-=s[l]>0?1:0,Y(),{...s})),setMaxAbility:(l,s)=>n(a=>(a[`${l}Max`]=s,Y(),{...a}))}},Kn=()=>{const{subscribe:t,set:e,update:n}=ve({hp:0,hpMax:10,armor:0,deprived:!1});return{subscribe:t,set:e,increaseHp:()=>n(l=>(l.hp+=l.hp<l.hpMax?1:0,Y(),{...l})),decreaseHp:()=>n(l=>(l.hp-=l.hp>0?1:0,Y(),{...l})),setMaxHp:l=>n(s=>(s.hpMax=l,Y(),{...s})),increaceArmor:()=>n(l=>(l.armor+=l.armor<9?1:0,Y(),{...l})),decreaseArmor:()=>n(l=>(l.armor-=l.armor>0?1:0,Y(),{...l})),changeDeprived:()=>n(l=>(l.deprived=!l.deprived,Y(),{...l}))}},Xn=()=>{const{subscribe:t,set:e,update:n}=ve({gp:"0",sp:"0",cp:"0"});return{subscribe:t,set:e,change:(l,s)=>n(a=>(a[l]=s,Y(),{...a}))}},Qn=()=>{const{subscribe:t,set:e,update:n}=ve([{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]);return{subscribe:t,set:e,change:l=>n(s=>(s=l,Y(),[...s]))}},_e=ve(""),de=Un(),K=Kn(),we=Xn(),$e=Qn();function Zn(t){let e,n;const l=t[9].default,s=ct(l,t,t[8],null);return{c(){e=b("p"),s&&s.c(),m(e,"class","svelte-12ggqjz")},m(a,i){S(a,e,i),s&&s.m(e,null),n=!0},p(a,i){s&&s.p&&(!n||i&256)&&ut(s,l,a,a[8],n?ft(l,a[8],i,null):dt(a[8]),null)},i(a){n||($(s,a),n=!0)},o(a){v(s,a),n=!1},d(a){a&&H(e),s&&s.d(a)}}}function xn(t){let e,n;return{c(){e=b("img"),m(e,"class","image svelte-12ggqjz"),St(e.src,n=t[5])||m(e,"src",n),m(e,"alt",t[6])},m(l,s){S(l,e,s)},p(l,s){s&32&&!St(e.src,n=l[5])&&m(e,"src",n),s&64&&m(e,"alt",l[6])},i:B,o:B,d(l){l&&H(e)}}}function el(t){let e,n,l,s,a,i,r,o;const c=[xn,Zn],f=[];function u(d,p){return d[5]?0:1}return n=u(t),l=f[n]=c[n](t),{c(){e=b("button"),l.c(),m(e,"ontouchstart",""),m(e,"class",s=ge(`button${t[4]?" borderless":""}`)+" svelte-12ggqjz"),e.disabled=t[3],m(e,"style",a=`
    min-width: ${t[1]}px;
    height: ${t[1]}px;
    border-radius: ${t[1]/2}px;
    padding: ${t[0]}px;
    font-size: ${t[2]};
    line-height: ${t[2]};
  `)},m(d,p){S(d,e,p),f[n].m(e,null),i=!0,r||(o=x(e,"click",t[10]),r=!0)},p(d,[p]){let h=n;n=u(d),n===h?f[n].p(d,p):(ce(),v(f[h],1,1,()=>{f[h]=null}),fe(),l=f[n],l?l.p(d,p):(l=f[n]=c[n](d),l.c()),$(l,1),l.m(e,null)),(!i||p&16&&s!==(s=ge(`button${d[4]?" borderless":""}`)+" svelte-12ggqjz"))&&m(e,"class",s),(!i||p&8)&&(e.disabled=d[3]),(!i||p&7&&a!==(a=`
    min-width: ${d[1]}px;
    height: ${d[1]}px;
    border-radius: ${d[1]/2}px;
    padding: ${d[0]}px;
    font-size: ${d[2]};
    line-height: ${d[2]};
  `))&&m(e,"style",a)},i(d){i||($(l),i=!0)},o(d){v(l),i=!1},d(d){d&&H(e),f[n].d(),r=!1,o()}}}function tl(t,e,n){let{$$slots:l={},$$scope:s}=e,{height:a=40}=e,{padding:i=0}=e,{fontSize:r="1.6rem"}=e,{disabled:o=!1}=e,{borderless:c=!1}=e,{image:f=void 0}=e,{alt:u=void 0}=e;const d=oe(),p=()=>d("click");return t.$$set=h=>{"height"in h&&n(1,a=h.height),"padding"in h&&n(0,i=h.padding),"fontSize"in h&&n(2,r=h.fontSize),"disabled"in h&&n(3,o=h.disabled),"borderless"in h&&n(4,c=h.borderless),"image"in h&&n(5,f=h.image),"alt"in h&&n(6,u=h.alt),"$$scope"in h&&n(8,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&n(0,i||(i=0))},[i,a,r,o,c,f,u,d,s,l,p]}class X extends W{constructor(e){super(),V(this,e,tl,el,I,{height:1,padding:0,fontSize:2,disabled:3,borderless:4,image:5,alt:6})}}const nl=(t="character")=>{const e=bt(),n=`${e.name}.json`,l=JSON.stringify(e),s=document.createElement("a");s.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(l)),s.setAttribute("download",n),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)},bn=t=>{const e=n=>{t&&!t.contains(n.target)&&!n.defaultPrevented&&t.dispatchEvent(new CustomEvent("click_outside",t))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}};function Pt(t){let e,n,l,s,a,i,r,o,c,f,u,d,p=t[1]&&Ot(t);const h=t[5].default,k=ct(h,t,t[9],null);i=new X({props:{$$slots:{default:[ll]},$$scope:{ctx:t}}}),i.$on("click",t[6]);let y=!t[2]&&Dt(t);return{c(){e=b("div"),p&&p.c(),n=C(),l=b("span"),k&&k.c(),s=C(),a=b("div"),T(i.$$.fragment),r=C(),y&&y.c(),m(l,"class","content svelte-1iy7ckl"),m(a,"class",o=ge(`controls${t[2]?" submission":""}`)+" svelte-1iy7ckl"),m(e,"class","modal svelte-1iy7ckl")},m(_,P){S(_,e,P),p&&p.m(e,null),g(e,n),g(e,l),k&&k.m(l,null),g(e,s),g(e,a),A(i,a,null),g(a,r),y&&y.m(a,null),f=!0,u||(d=[fn(bn.call(null,e)),x(e,"click_outside",t[8])],u=!0)},p(_,P){_[1]?p?p.p(_,P):(p=Ot(_),p.c(),p.m(e,n)):p&&(p.d(1),p=null),k&&k.p&&(!f||P&512)&&ut(k,h,_,_[9],f?ft(h,_[9],P,null):dt(_[9]),null);const q={};P&512&&(q.$$scope={dirty:P,ctx:_}),i.$set(q),_[2]?y&&(ce(),v(y,1,1,()=>{y=null}),fe()):y?(y.p(_,P),P&4&&$(y,1)):(y=Dt(_),y.c(),$(y,1),y.m(a,null)),(!f||P&4&&o!==(o=ge(`controls${_[2]?" submission":""}`)+" svelte-1iy7ckl"))&&m(a,"class",o)},i(_){f||($(k,_),$(i.$$.fragment,_),$(y),_&&le(()=>{f&&(c||(c=Je(e,Ke,{delay:250,duration:300,easing:Ue,axis:"y"},!0)),c.run(1))}),f=!0)},o(_){v(k,_),v(i.$$.fragment,_),v(y),_&&(c||(c=Je(e,Ke,{delay:250,duration:300,easing:Ue,axis:"y"},!1)),c.run(0)),f=!1},d(_){_&&H(e),p&&p.d(),k&&k.d(_),R(i),y&&y.d(),_&&c&&c.end(),u=!1,re(d)}}}function Ot(t){let e,n;return{c(){e=b("h2"),n=E(t[1]),m(e,"class","title svelte-1iy7ckl")},m(l,s){S(l,e,s),g(e,n)},p(l,s){s&2&&se(n,l[1])},d(l){l&&H(e)}}}function ll(t){let e;return{c(){e=E("Cancel")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function Dt(t){let e,n;return e=new X({props:{disabled:t[3],$$slots:{default:[sl]},$$scope:{ctx:t}}}),e.$on("click",t[7]),{c(){T(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},p(l,s){const a={};s&8&&(a.disabled=l[3]),s&512&&(a.$$scope={dirty:s,ctx:l}),e.$set(a)},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function sl(t){let e;return{c(){e=E("OK")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function al(t){let e,n,l=t[0]&&Pt(t);return{c(){l&&l.c(),e=hn()},m(s,a){l&&l.m(s,a),S(s,e,a),n=!0},p(s,[a]){s[0]?l?(l.p(s,a),a&1&&$(l,1)):(l=Pt(s),l.c(),$(l,1),l.m(e.parentNode,e)):l&&(ce(),v(l,1,1,()=>{l=null}),fe())},i(s){n||($(l),n=!0)},o(s){v(l),n=!1},d(s){s&&H(e),l&&l.d(s)}}}function il(t,e,n){let{$$slots:l={},$$scope:s}=e,{isShown:a}=e,{title:i=void 0}=e,{submission:r=!1}=e,{disableOk:o=!1}=e;const c=oe(),f=()=>c("cancel"),u=()=>c("ok"),d=()=>c("cancel");return t.$$set=p=>{"isShown"in p&&n(0,a=p.isShown),"title"in p&&n(1,i=p.title),"submission"in p&&n(2,r=p.submission),"disableOk"in p&&n(3,o=p.disableOk),"$$scope"in p&&n(9,s=p.$$scope)},[a,i,r,o,c,l,f,u,d,s]}class qe extends W{constructor(e){super(),V(this,e,il,al,I,{isShown:0,title:1,submission:2,disableOk:3})}}function Lt(t){let e,n;return{c(){e=b("span"),n=E(t[0]),m(e,"class","title svelte-mt0x83")},m(l,s){S(l,e,s),g(e,n)},p(l,s){s&1&&se(n,l[0])},d(l){l&&H(e)}}}function rl(t){let e;return{c(){e=E("−")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function Et(t){let e,n;return{c(){e=E("/ "),n=E(t[2])},m(l,s){S(l,e,s),S(l,n,s)},p(l,s){s&4&&se(n,l[2])},d(l){l&&(H(e),H(n))}}}function ol(t){let e;return{c(){e=E("+")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function cl(t){let e,n,l,s,a,i,r,o,c,f,u,d=t[0]&&Lt(t);s=new X({props:{disabled:t[1]===0,$$slots:{default:[rl]},$$scope:{ctx:t}}}),s.$on("click",t[5]);let p=!t[3]&&Et(t);return f=new X({props:{disabled:t[1]===t[2],$$slots:{default:[ol]},$$scope:{ctx:t}}}),f.$on("click",t[6]),{c(){e=b("div"),d&&d.c(),n=C(),l=b("div"),T(s.$$.fragment),a=C(),i=b("div"),r=E(t[1]),o=C(),p&&p.c(),c=C(),T(f.$$.fragment),m(i,"class","current svelte-mt0x83"),m(l,"class","controls svelte-mt0x83"),m(e,"class","ability svelte-mt0x83")},m(h,k){S(h,e,k),d&&d.m(e,null),g(e,n),g(e,l),A(s,l,null),g(l,a),g(l,i),g(i,r),g(i,o),p&&p.m(i,null),g(l,c),A(f,l,null),u=!0},p(h,[k]){h[0]?d?d.p(h,k):(d=Lt(h),d.c(),d.m(e,n)):d&&(d.d(1),d=null);const y={};k&2&&(y.disabled=h[1]===0),k&128&&(y.$$scope={dirty:k,ctx:h}),s.$set(y),(!u||k&2)&&se(r,h[1]),h[3]?p&&(p.d(1),p=null):p?p.p(h,k):(p=Et(h),p.c(),p.m(i,null));const _={};k&6&&(_.disabled=h[1]===h[2]),k&128&&(_.$$scope={dirty:k,ctx:h}),f.$set(_)},i(h){u||($(s.$$.fragment,h),$(f.$$.fragment,h),u=!0)},o(h){v(s.$$.fragment,h),v(f.$$.fragment,h),u=!1},d(h){h&&H(e),d&&d.d(),R(s),p&&p.d(),R(f)}}}function fl(t,e,n){let{title:l=""}=e,{value:s=0}=e,{maxValue:a=0}=e,{hideMaxValue:i=!1}=e;const r=oe(),o=()=>r("decrease"),c=()=>r("increase");return t.$$set=f=>{"title"in f&&n(0,l=f.title),"value"in f&&n(1,s=f.value),"maxValue"in f&&n(2,a=f.maxValue),"hideMaxValue"in f&&n(3,i=f.hideMaxValue)},[l,s,a,i,r,o,c]}class Xe extends W{constructor(e){super(),V(this,e,fl,cl,I,{title:0,value:1,maxValue:2,hideMaxValue:3})}}function Ft(t,e,n){const l=t.slice();return l[20]=e[n],l[22]=n,l}function Bt(t){let e;return{c(){e=b("div"),e.textContent="You have no scars",m(e,"class","item svelte-h3e5xc")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function ul(t){let e,n;return e=new X({props:{height:30,fontSize:"1rem",disabled:!0,$$slots:{default:[gl]},$$scope:{ctx:t}}}),{c(){T(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function dl(t){let e,n;function l(){return t[8](t[22])}return e=new X({props:{height:30,fontSize:"1rem",$$slots:{default:[hl]},$$scope:{ctx:t}}}),e.$on("click",l),{c(){T(e.$$.fragment)},m(s,a){A(e,s,a),n=!0},p(s,a){t=s;const i={};a&8388608&&(i.$$scope={dirty:a,ctx:t}),e.$set(i)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){R(e,s)}}}function gl(t){let e;return{c(){e=E("Resolved")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function hl(t){let e;return{c(){e=E("Resolve")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function Nt(t){let e,n=t[20].content+"",l,s,a,i,r,o;const c=[dl,ul],f=[];function u(d,p){return d[20].resolve?0:1}return a=u(t),i=f[a]=c[a](t),{c(){e=b("div"),l=E(n),s=C(),i.c(),r=C(),m(e,"class","item resolvable svelte-h3e5xc")},m(d,p){S(d,e,p),g(e,l),g(e,s),f[a].m(e,null),g(e,r),o=!0},p(d,p){(!o||p&16)&&n!==(n=d[20].content+"")&&se(l,n);let h=a;a=u(d),a!==h&&(ce(),v(f[h],1,1,()=>{f[h]=null}),fe(),i=f[a],i||(i=f[a]=c[a](d),i.c()),$(i,1),i.m(e,r))},i(d){o||($(i),o=!0)},o(d){v(i),o=!1},d(d){d&&H(e),f[a].d()}}}function ml(t){let e;return{c(){e=E("Add scar")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function pl(t){let e;return{c(){e=E("Download character (json)")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function _l(t){let e;return{c(){e=E("Delete character")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function $l(t){let e;return{c(){e=E(`Adding a scar is an irreversible action that enables you to advance your
    character. Have you consulted with the Warden to confirm that you can
    acquire a scar?`)},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function bl(t){let e,n,l;return n=new Xe({props:{value:t[3],maxValue:12,hideMaxValue:!0}}),n.$on("decrease",t[14]),n.$on("increase",t[15]),{c(){e=E(`How many damage points was taken?
    `),T(n.$$.fragment)},m(s,a){S(s,e,a),A(n,s,a),l=!0},p(s,a){const i={};a&8&&(i.value=s[3]),n.$set(i)},i(s){l||($(n.$$.fragment,s),l=!0)},o(s){v(n.$$.fragment,s),l=!1},d(s){s&&H(e),R(n,s)}}}function vl(t){let e;return{c(){e=E("Do you really want to delete this character?")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function kl(t){let e,n,l,s,a,i,r,o,c,f,u,d,p,h,k,y,_,P,q,L=t[4].length===0&&Bt(),N=J(t[4]),F=[];for(let M=0;M<N.length;M+=1)F[M]=Nt(Ft(t,N,M));const G=M=>v(F[M],1,1,()=>{F[M]=null});return o=new X({props:{padding:4,disabled:t[5].hp>0,$$slots:{default:[ml]},$$scope:{ctx:t}}}),o.$on("click",t[9]),f=new X({props:{padding:4,$$slots:{default:[pl]},$$scope:{ctx:t}}}),f.$on("click",t[10]),d=new X({props:{padding:4,$$slots:{default:[_l]},$$scope:{ctx:t}}}),d.$on("click",t[11]),h=new qe({props:{isShown:t[1],$$slots:{default:[$l]},$$scope:{ctx:t}}}),h.$on("cancel",t[12]),h.$on("ok",t[13]),y=new qe({props:{isShown:t[2],disableOk:t[3]===0,$$slots:{default:[bl]},$$scope:{ctx:t}}}),y.$on("cancel",t[16]),y.$on("ok",t[17]),P=new qe({props:{isShown:t[0],$$slots:{default:[vl]},$$scope:{ctx:t}}}),P.$on("cancel",t[18]),P.$on("ok",t[19]),{c(){e=b("div"),n=b("span"),n.textContent="Scars history:",l=C(),s=b("div"),a=b("div"),L&&L.c(),i=C();for(let M=0;M<F.length;M+=1)F[M].c();r=C(),T(o.$$.fragment),c=C(),T(f.$$.fragment),u=C(),T(d.$$.fragment),p=C(),T(h.$$.fragment),k=C(),T(y.$$.fragment),_=C(),T(P.$$.fragment),m(n,"class","title svelte-h3e5xc"),m(a,"class","wrap svelte-h3e5xc"),m(s,"class","scars svelte-h3e5xc"),m(e,"class","menu svelte-h3e5xc")},m(M,w){S(M,e,w),g(e,n),g(e,l),g(e,s),g(s,a),L&&L.m(a,null),g(a,i);for(let z=0;z<F.length;z+=1)F[z]&&F[z].m(a,null);g(e,r),A(o,e,null),g(e,c),A(f,e,null),g(e,u),A(d,e,null),g(e,p),A(h,e,null),g(e,k),A(y,e,null),g(e,_),A(P,e,null),q=!0},p(M,[w]){if(M[4].length===0?L||(L=Bt(),L.c(),L.m(a,i)):L&&(L.d(1),L=null),w&16){N=J(M[4]);let j;for(j=0;j<N.length;j+=1){const He=Ft(M,N,j);F[j]?(F[j].p(He,w),$(F[j],1)):(F[j]=Nt(He),F[j].c(),$(F[j],1),F[j].m(a,null))}for(ce(),j=N.length;j<F.length;j+=1)G(j);fe()}const z={};w&32&&(z.disabled=M[5].hp>0),w&8388608&&(z.$$scope={dirty:w,ctx:M}),o.$set(z);const U={};w&8388608&&(U.$$scope={dirty:w,ctx:M}),f.$set(U);const he={};w&8388608&&(he.$$scope={dirty:w,ctx:M}),d.$set(he);const ee={};w&2&&(ee.isShown=M[1]),w&8388608&&(ee.$$scope={dirty:w,ctx:M}),h.$set(ee);const me={};w&4&&(me.isShown=M[2]),w&8&&(me.disableOk=M[3]===0),w&8388616&&(me.$$scope={dirty:w,ctx:M}),y.$set(me);const pe={};w&1&&(pe.isShown=M[0]),w&8388608&&(pe.$$scope={dirty:w,ctx:M}),P.$set(pe)},i(M){if(!q){for(let w=0;w<N.length;w+=1)$(F[w]);$(o.$$.fragment,M),$(f.$$.fragment,M),$(d.$$.fragment,M),$(h.$$.fragment,M),$(y.$$.fragment,M),$(P.$$.fragment,M),q=!0}},o(M){F=F.filter(Boolean);for(let w=0;w<F.length;w+=1)v(F[w]);v(o.$$.fragment,M),v(f.$$.fragment,M),v(d.$$.fragment,M),v(h.$$.fragment,M),v(y.$$.fragment,M),v(P.$$.fragment,M),q=!1},d(M){M&&H(e),L&&L.d(),be(F,M),R(o),R(f),R(d),R(h),R(y),R(P)}}}function yl(t,e,n){let l,s;ie(t,Z,G=>n(4,l=G)),ie(t,K,G=>n(5,s=G));let a=!1,i=!1,r=!1,o=0;const c=()=>{Z.add(o),n(2,r=!1),n(3,o=0)},f=()=>{_e.set(""),Z.reset(),localStorage.removeItem("pc__character")};return[a,i,r,o,l,s,c,f,G=>Z.resolve(G),()=>n(1,i=!0),()=>nl(),()=>n(0,a=!0),()=>n(1,i=!1),()=>{n(2,r=!0),n(1,i=!1)},()=>o>0?n(3,o-=1):n(3,o),()=>o<12?n(3,o+=1):n(3,o),()=>{n(2,r=!1),n(3,o=0)},()=>c(),()=>n(0,a=!1),()=>f()]}class wl extends W{constructor(e){super(),V(this,e,yl,kl,I,{})}}function zt(t,e,n){const l=t.slice();return l[4]=e[n],l}function It(t){let e,n;function l(){return t[2](t[4])}function s(){return t[3](t[4])}return e=new Xe({props:{title:t[4],value:t[0][t[4]],maxValue:t[0][`${t[4]}Max`]}}),e.$on("decrease",l),e.$on("increase",s),{c(){T(e.$$.fragment)},m(a,i){A(e,a,i),n=!0},p(a,i){t=a;const r={};i&1&&(r.value=t[0][t[4]]),i&1&&(r.maxValue=t[0][`${t[4]}Max`]),e.$set(r)},i(a){n||($(e.$$.fragment,a),n=!0)},o(a){v(e.$$.fragment,a),n=!1},d(a){R(e,a)}}}function Hl(t){let e,n,l=J(t[1]),s=[];for(let i=0;i<l.length;i+=1)s[i]=It(zt(t,l,i));const a=i=>v(s[i],1,1,()=>{s[i]=null});return{c(){e=b("div");for(let i=0;i<s.length;i+=1)s[i].c();m(e,"class","abilities")},m(i,r){S(i,e,r);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);n=!0},p(i,[r]){if(r&3){l=J(i[1]);let o;for(o=0;o<l.length;o+=1){const c=zt(i,l,o);s[o]?(s[o].p(c,r),$(s[o],1)):(s[o]=It(c),s[o].c(),$(s[o],1),s[o].m(e,null))}for(ce(),o=l.length;o<s.length;o+=1)a(o);fe()}},i(i){if(!n){for(let r=0;r<l.length;r+=1)$(s[r]);n=!0}},o(i){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)v(s[r]);n=!1},d(i){i&&H(e),be(s,i)}}}function Sl(t,e,n){let l;return ie(t,de,r=>n(0,l=r)),[l,["str","dex","wil"],r=>de.decrease(r),r=>de.increase(r)]}class Ml extends W{constructor(e){super(),V(this,e,Sl,Hl,I,{})}}function Cl(t){let e,n,l,s,a,i,r;return{c(){e=b("label"),n=b("input"),l=C(),s=b("span"),m(n,"type","checkbox"),n.checked=t[1],m(n,"class","svelte-8qpl5n"),m(s,"class","checkmark svelte-8qpl5n"),m(e,"ontouchstart",""),m(e,"class","checkbox svelte-8qpl5n"),m(e,"style",a=`width: ${t[0]}px;height: ${t[0]}px`)},m(o,c){S(o,e,c),g(e,n),g(e,l),g(e,s),i||(r=x(n,"change",t[3]),i=!0)},p(o,[c]){c&2&&(n.checked=o[1]),c&1&&a!==(a=`width: ${o[0]}px;height: ${o[0]}px`)&&m(e,"style",a)},i:B,o:B,d(o){o&&H(e),i=!1,r()}}}function Al(t,e,n){let{size:l=0}=e,{checked:s=!1}=e;const a=oe(),i=()=>a("change");return t.$$set=r=>{"size"in r&&n(0,l=r.size),"checked"in r&&n(1,s=r.checked)},[l,s,a,i]}class rt extends W{constructor(e){super(),V(this,e,Al,Cl,I,{size:0,checked:1})}}function Rl(t){let e,n,l,s;return{c(){e=b("input"),m(e,"class","input svelte-1jfl8h"),m(e,"placeholder",t[1]),m(e,"style",n=`
    border-bottom: ${t[2]?"1px solid var(--main)":"none"};
    ${t[3]&&"padding-right: "+t[3]}
  `)},m(a,i){S(a,e,i),Ve(e,t[0]),l||(s=[x(e,"input",t[6]),x(e,"input",t[7])],l=!0)},p(a,[i]){i&2&&m(e,"placeholder",a[1]),i&12&&n!==(n=`
    border-bottom: ${a[2]?"1px solid var(--main)":"none"};
    ${a[3]&&"padding-right: "+a[3]}
  `)&&m(e,"style",n),i&1&&e.value!==a[0]&&Ve(e,a[0])},i:B,o:B,d(a){a&&H(e),l=!1,re(s)}}}function Tl(t,e,n){let{value:l="0"}=e,{placeholder:s=""}=e,{border:a=!0}=e,{numbers:i=!1}=e,{paddingRight:r=""}=e;const o=oe();function c(){l=this.value,n(0,l),n(5,i)}const f=()=>o("input",l);return t.$$set=u=>{"value"in u&&n(0,l=u.value),"placeholder"in u&&n(1,s=u.placeholder),"border"in u&&n(2,a=u.border),"numbers"in u&&n(5,i=u.numbers),"paddingRight"in u&&n(3,r=u.paddingRight)},t.$$.update=()=>{t.$$.dirty&33&&n(0,l=i?l.replace(/[^0-9]/g,""):l)},[l,s,a,r,o,i,c,f]}class vt extends W{constructor(e){super(),V(this,e,Tl,Rl,I,{value:0,placeholder:1,border:2,numbers:5,paddingRight:3})}}function qt(t,e,n){const l=t.slice();return l[5]=e[n],l[6]=e,l[7]=n,l}function Vt(t){let e,n,l,s,a,i,r,o;function c(){return t[1](t[5],t[6],t[7])}n=new rt({props:{size:20,checked:t[5].inHand}}),n.$on("change",c);function f(...d){return t[2](t[5],t[6],t[7],...d)}s=new vt({props:{placeholder:"Item",value:t[5].title,border:!1}}),s.$on("input",f);function u(){return t[3](t[5],t[6],t[7])}return i=new rt({props:{size:20,checked:t[5].fatigue}}),i.$on("change",u),{c(){e=b("div"),T(n.$$.fragment),l=C(),T(s.$$.fragment),a=C(),T(i.$$.fragment),r=C(),m(e,"class","item svelte-1volka6")},m(d,p){S(d,e,p),A(n,e,null),g(e,l),A(s,e,null),g(e,a),A(i,e,null),g(e,r),o=!0},p(d,p){t=d;const h={};p&1&&(h.checked=t[5].inHand),n.$set(h);const k={};p&1&&(k.value=t[5].title),s.$set(k);const y={};p&1&&(y.checked=t[5].fatigue),i.$set(y)},i(d){o||($(n.$$.fragment,d),$(s.$$.fragment,d),$(i.$$.fragment,d),o=!0)},o(d){v(n.$$.fragment,d),v(s.$$.fragment,d),v(i.$$.fragment,d),o=!1},d(d){d&&H(e),R(n),R(s),R(i)}}}function Pl(t){let e,n,l,s,a,i=J(t[0]),r=[];for(let c=0;c<i.length;c+=1)r[c]=Vt(qt(t,i,c));const o=c=>v(r[c],1,1,()=>{r[c]=null});return{c(){e=b("div"),n=b("div"),n.innerHTML='<span class="info svelte-1volka6">Hand</span> <span class="info svelte-1volka6">Fatigue</span>',l=C(),s=b("div");for(let c=0;c<r.length;c+=1)r[c].c();m(n,"class","heading svelte-1volka6"),m(s,"class","list svelte-1volka6"),m(e,"class","inventory svelte-1volka6")},m(c,f){S(c,e,f),g(e,n),g(e,l),g(e,s);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(s,null);a=!0},p(c,[f]){if(f&1){i=J(c[0]);let u;for(u=0;u<i.length;u+=1){const d=qt(c,i,u);r[u]?(r[u].p(d,f),$(r[u],1)):(r[u]=Vt(d),r[u].c(),$(r[u],1),r[u].m(s,null))}for(ce(),u=i.length;u<r.length;u+=1)o(u);fe()}},i(c){if(!a){for(let f=0;f<i.length;f+=1)$(r[f]);a=!0}},o(c){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)v(r[f]);a=!1},d(c){c&&H(e),be(r,c)}}}function Ol(t,e,n){let l;ie(t,$e,o=>n(4,l=o));const s=l;return[s,(o,c,f)=>{n(0,c[f].inHand=!o.inHand,s),$e.change(s)},(o,c,f,u)=>{n(0,c[f].title=u.detail,s),$e.change(s)},(o,c,f)=>{n(0,c[f].fatigue=!o.fatigue,s),$e.change(s)}]}class Dl extends W{constructor(e){super(),V(this,e,Ol,Pl,I,{})}}function Ll(t){let e,n,l,s,a,i,r,o,c,f;return n=new Xe({props:{title:"HP",value:t[0].hp,maxValue:t[0].hpMax}}),n.$on("decrease",K.decreaseHp),n.$on("increase",K.increaseHp),s=new Xe({props:{title:"Armor",value:t[0].armor,maxValue:9,hideMaxValue:!0}}),s.$on("decrease",K.decreaseArmor),s.$on("increase",K.increaceArmor),c=new rt({props:{size:40,checked:t[0].deprived}}),c.$on("change",K.changeDeprived),{c(){e=b("div"),T(n.$$.fragment),l=C(),T(s.$$.fragment),a=C(),i=b("div"),r=b("span"),r.textContent="Deprived",o=C(),T(c.$$.fragment),m(r,"class","title svelte-1xt6604"),m(i,"class","deprived svelte-1xt6604"),m(e,"class","stats")},m(u,d){S(u,e,d),A(n,e,null),g(e,l),A(s,e,null),g(e,a),g(e,i),g(i,r),g(i,o),A(c,i,null),f=!0},p(u,[d]){const p={};d&1&&(p.value=u[0].hp),d&1&&(p.maxValue=u[0].hpMax),n.$set(p);const h={};d&1&&(h.value=u[0].armor),s.$set(h);const k={};d&1&&(k.checked=u[0].deprived),c.$set(k)},i(u){f||($(n.$$.fragment,u),$(s.$$.fragment,u),$(c.$$.fragment,u),f=!0)},o(u){v(n.$$.fragment,u),v(s.$$.fragment,u),v(c.$$.fragment,u),f=!1},d(u){u&&H(e),R(n),R(s),R(c)}}}function El(t,e,n){let l;return ie(t,K,s=>n(0,l=s)),[l]}class Fl extends W{constructor(e){super(),V(this,e,El,Ll,I,{})}}function Wt(t,e,n){const l=t.slice();return l[3]=e[n],l}function jt(t){let e,n,l,s,a,i;function r(...o){return t[2](t[3],...o)}return s=new vt({props:{value:t[0][t[3]],numbers:!0}}),s.$on("input",r),{c(){e=b("div"),n=b("span"),n.textContent=`${t[3]}:`,l=C(),T(s.$$.fragment),a=C(),m(n,"class","currency svelte-1n0vni7"),m(e,"class","item svelte-1n0vni7")},m(o,c){S(o,e,c),g(e,n),g(e,l),A(s,e,null),g(e,a),i=!0},p(o,c){t=o;const f={};c&1&&(f.value=t[0][t[3]]),s.$set(f)},i(o){i||($(s.$$.fragment,o),i=!0)},o(o){v(s.$$.fragment,o),i=!1},d(o){o&&H(e),R(s)}}}function Bl(t){let e,n,l=J(t[1]),s=[];for(let i=0;i<l.length;i+=1)s[i]=jt(Wt(t,l,i));const a=i=>v(s[i],1,1,()=>{s[i]=null});return{c(){e=b("div");for(let i=0;i<s.length;i+=1)s[i].c();m(e,"class","coins svelte-1n0vni7")},m(i,r){S(i,e,r);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);n=!0},p(i,[r]){if(r&3){l=J(i[1]);let o;for(o=0;o<l.length;o+=1){const c=Wt(i,l,o);s[o]?(s[o].p(c,r),$(s[o],1)):(s[o]=jt(c),s[o].c(),$(s[o],1),s[o].m(e,null))}for(ce(),o=l.length;o<s.length;o+=1)a(o);fe()}},i(i){if(!n){for(let r=0;r<l.length;r+=1)$(s[r]);n=!0}},o(i){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)v(s[r]);n=!1},d(i){i&&H(e),be(s,i)}}}function Nl(t,e,n){let l;return ie(t,we,i=>n(0,l=i)),[l,["gp","sp","cp"],(i,r)=>{we[i]=r.detail,we.change(i,r.detail)}]}class zl extends W{constructor(e){super(),V(this,e,Nl,Bl,I,{})}}function Il(t){let e,n,l;const s=t[2].default,a=ct(s,t,t[1],null);return{c(){e=b("section"),a&&a.c(),m(e,"class",n=ge(`section ${t[0]}`)+" svelte-1wj47wp")},m(i,r){S(i,e,r),a&&a.m(e,null),l=!0},p(i,[r]){a&&a.p&&(!l||r&2)&&ut(a,s,i,i[1],l?ft(s,i[1],r,null):dt(i[1]),null),(!l||r&1&&n!==(n=ge(`section ${i[0]}`)+" svelte-1wj47wp"))&&m(e,"class",n)},i(i){l||($(a,i),l=!0)},o(i){v(a,i),l=!1},d(i){i&&H(e),a&&a.d(i)}}}function ql(t,e,n){let{$$slots:l={},$$scope:s}=e,{position:a=""}=e;return t.$$set=i=>{"position"in i&&n(0,a=i.position),"$$scope"in i&&n(1,s=i.$$scope)},[a,s,l]}class Ne extends W{constructor(e){super(),V(this,e,ql,Il,I,{position:0})}}function Vl(t){let e,n;return e=new Ml({}),{c(){T(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Wl(t){let e,n;return e=new Fl({}),{c(){T(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function jl(t){let e,n;return e=new zl({}),{c(){T(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Gl(t){let e,n;return e=new Dl({}),{c(){T(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Yl(t){let e,n,l,s,a,i,r,o,c;return n=new Ne({props:{position:"first",$$slots:{default:[Vl]},$$scope:{ctx:t}}}),s=new Ne({props:{$$slots:{default:[Wl]},$$scope:{ctx:t}}}),i=new Ne({props:{$$slots:{default:[jl]},$$scope:{ctx:t}}}),o=new Ne({props:{position:"last",$$slots:{default:[Gl]},$$scope:{ctx:t}}}),{c(){e=b("div"),T(n.$$.fragment),l=C(),T(s.$$.fragment),a=C(),T(i.$$.fragment),r=C(),T(o.$$.fragment),m(e,"class","sheet svelte-twsi6w")},m(f,u){S(f,e,u),A(n,e,null),g(e,l),A(s,e,null),g(e,a),A(i,e,null),g(e,r),A(o,e,null),c=!0},p(f,[u]){const d={};u&1&&(d.$$scope={dirty:u,ctx:f}),n.$set(d);const p={};u&1&&(p.$$scope={dirty:u,ctx:f}),s.$set(p);const h={};u&1&&(h.$$scope={dirty:u,ctx:f}),i.$set(h);const k={};u&1&&(k.$$scope={dirty:u,ctx:f}),o.$set(k)},i(f){c||($(n.$$.fragment,f),$(s.$$.fragment,f),$(i.$$.fragment,f),$(o.$$.fragment,f),c=!0)},o(f){v(n.$$.fragment,f),v(s.$$.fragment,f),v(i.$$.fragment,f),v(o.$$.fragment,f),c=!1},d(f){f&&H(e),R(n),R(s),R(i),R(o)}}}class Jl extends W{constructor(e){super(),V(this,e,null,Yl,I,{})}}const Gt="/mobile-cairn/assets/settings-8bd1b2da.svg",Yt="/mobile-cairn/assets/notes-058e4448.svg",ze="/mobile-cairn/assets/cross-5d728ea7.svg";function Ul(t){let e,n,l=t[0]+`
`,s,a,i,r,o,c;return{c(){e=b("div"),n=b("pre"),s=E(l),a=E(`
  `),i=C(),r=b("textarea"),m(n,"class","pre svelte-ebc0cv"),m(n,"aria-hidden","true"),Be(n,"min-height",t[2]),Be(n,"max-height",t[1]),m(r,"class","textarea svelte-ebc0cv"),m(e,"class","container svelte-ebc0cv")},m(f,u){S(f,e,u),g(e,n),g(n,s),g(n,a),g(e,i),g(e,r),Ve(r,t[0]),o||(c=[x(r,"input",t[6]),x(r,"input",t[7])],o=!0)},p(f,[u]){u&1&&l!==(l=f[0]+`
`)&&se(s,l),u&4&&Be(n,"min-height",f[2]),u&2&&Be(n,"max-height",f[1]),u&1&&Ve(r,f[0])},i:B,o:B,d(f){f&&H(e),o=!1,re(c)}}}function Kl(t,e,n){let l,s,{value:a=""}=e,{minRows:i=14}=e,{maxRows:r=36}=e;const o=oe();function c(){a=this.value,n(0,a)}const f=()=>o("input",a);return t.$$set=u=>{"value"in u&&n(0,a=u.value),"minRows"in u&&n(4,i=u.minRows),"maxRows"in u&&n(5,r=u.maxRows)},t.$$.update=()=>{t.$$.dirty&16&&n(2,l=`${1+i*1.2}em`),t.$$.dirty&32&&n(1,s=r?`${1+r*1.2}em`:"auto")},[a,s,l,o,i,r,c,f]}class Xl extends W{constructor(e){super(),V(this,e,Kl,Ul,I,{value:0,minRows:4,maxRows:5})}}function Ql(t){let e,n,l,s,a,i,r;return i=new Xl({props:{value:t[0]}}),i.$on("input",t[1]),{c(){e=b("div"),n=b("span"),n.textContent="Notes:",l=C(),s=b("div"),a=b("div"),T(i.$$.fragment),m(n,"class","title svelte-17i1spe"),m(a,"class","wrap svelte-17i1spe"),m(s,"class","content svelte-17i1spe"),m(e,"class","notes svelte-17i1spe")},m(o,c){S(o,e,c),g(e,n),g(e,l),g(e,s),g(s,a),A(i,a,null),r=!0},p(o,[c]){const f={};c&1&&(f.value=o[0]),i.$set(f)},i(o){r||($(i.$$.fragment,o),r=!0)},o(o){v(i.$$.fragment,o),r=!1},d(o){o&&H(e),R(i)}}}function Zl(t,e,n){let l;return ie(t,Ee,a=>n(0,l=a)),[l,a=>Ee.change(a.detail)]}class xl extends W{constructor(e){super(),V(this,e,Zl,Ql,I,{})}}function es(t){let e,n,l,s,a,i,r,o,c,f,u,d,p,h,k,y,_,P,q,L,N,F,G,M;return l=new X({props:{borderless:!0,image:t[1]?ze:Yt,alt:"notes",disabled:t[0]}}),l.$on("click",t[4]),f=new X({props:{borderless:!0,image:t[0]?ze:Gt,alt:"settings",disabled:t[1]}}),f.$on("click",t[5]),p=new xl({}),k=new Jl({}),_=new wl({}),N=new jn({}),{c(){e=b("div"),n=b("div"),T(l.$$.fragment),s=C(),a=b("div"),i=b("div"),r=b("h2"),o=E(t[3]),c=C(),T(f.$$.fragment),u=C(),d=b("div"),T(p.$$.fragment),h=C(),T(k.$$.fragment),y=C(),T(_.$$.fragment),q=C(),L=b("footer"),T(N.$$.fragment),m(r,"class","text svelte-159lma3"),m(i,"class","wrap svelte-159lma3"),m(a,"class","name svelte-159lma3"),m(n,"class","header svelte-159lma3"),m(d,"class","main svelte-159lma3"),m(d,"style",P=`left: ${t[2]()}`),m(L,"class","footer svelte-159lma3"),m(e,"class","character svelte-159lma3")},m(w,z){S(w,e,z),g(e,n),A(l,n,null),g(n,s),g(n,a),g(a,i),g(i,r),g(r,o),g(n,c),A(f,n,null),g(e,u),g(e,d),A(p,d,null),g(d,h),A(k,d,null),g(d,y),A(_,d,null),g(e,q),g(e,L),A(N,L,null),M=!0},p(w,[z]){const U={};z&2&&(U.image=w[1]?ze:Yt),z&1&&(U.disabled=w[0]),l.$set(U),(!M||z&8)&&se(o,w[3]);const he={};z&1&&(he.image=w[0]?ze:Gt),z&2&&(he.disabled=w[1]),f.$set(he),(!M||z&4&&P!==(P=`left: ${w[2]()}`))&&m(d,"style",P)},i(w){M||($(l.$$.fragment,w),$(f.$$.fragment,w),$(p.$$.fragment,w),$(k.$$.fragment,w),$(_.$$.fragment,w),$(N.$$.fragment,w),w&&le(()=>{M&&(G&&G.end(1),F=xe(e,Te,{delay:200,duration:200}),F.start())}),M=!0)},o(w){v(l.$$.fragment,w),v(f.$$.fragment,w),v(p.$$.fragment,w),v(k.$$.fragment,w),v(_.$$.fragment,w),v(N.$$.fragment,w),F&&F.invalidate(),w&&(G=$t(e,Te,{duration:200})),M=!1},d(w){w&&H(e),R(l),R(f),R(p),R(k),R(_),R(N),w&&G&&G.end()}}}function ts(t,e,n){let l,s;ie(t,_e,c=>n(3,s=c));let a=!1,i=!1;const r=()=>n(1,i=!i),o=()=>n(0,a=!a);return t.$$.update=()=>{t.$$.dirty&3&&n(2,l=()=>a?"-200%":i?"0":"-100%")},[a,i,l,s,r,o]}class ns extends W{constructor(e){super(),V(this,e,ts,es,I,{})}}const vn=t=>{const e=bt();let n=!0;return Object.keys(e).forEach(l=>{Object.keys(t).includes(l)||(console.log(e,t),n=!1)}),n},ls=t=>{if(t.target){const e=new FileReader;e.onload=()=>{if(e.result){const l=JSON.parse(e.result);vn(l)&&(_e.set(l.name),de.set(l.abilities),K.set(l.stats),we.set(l.coins),$e.set(l.inventory),Z.set(l.scars))}};const n=t.target.files;n&&e.readAsText(n[0])}};function ss(t){let e,n,l,s,a,i;return{c(){e=b("div"),n=b("input"),l=C(),s=b("label"),s.textContent="Upload the character (json)",m(n,"id","upload"),m(n,"type","file"),m(n,"class","input svelte-18yacyg"),m(s,"ontouchstart",""),m(s,"for","upload"),m(s,"class","label svelte-18yacyg"),m(e,"class","file svelte-18yacyg")},m(r,o){S(r,e,o),g(e,n),g(e,l),g(e,s),a||(i=x(n,"change",t[1]),a=!0)},p:B,i:B,o:B,d(r){r&&H(e),a=!1,i()}}}function as(t){const e=oe();return[e,l=>e("change",l)]}class is extends W{constructor(e){super(),V(this,e,as,ss,I,{})}}function rs(t){let e;return{c(){e=E("Roll a character")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function os(t){let e;return{c(){e=E("Wrong file type or json structure")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function cs(t){let e,n,l,s,a,i,r;return n=new X({props:{$$slots:{default:[rs]},$$scope:{ctx:t}}}),n.$on("click",t[3]),s=new is({}),s.$on("change",t[4]),i=new qe({props:{submission:!0,isShown:t[0],$$slots:{default:[os]},$$scope:{ctx:t}}}),i.$on("cancel",t[5]),{c(){e=b("div"),T(n.$$.fragment),l=C(),T(s.$$.fragment),a=C(),T(i.$$.fragment),m(e,"class","menu svelte-1w879tu")},m(o,c){S(o,e,c),A(n,e,null),g(e,l),A(s,e,null),S(o,a,c),A(i,o,c),r=!0},p(o,[c]){const f={};c&128&&(f.$$scope={dirty:c,ctx:o}),n.$set(f);const u={};c&1&&(u.isShown=o[0]),c&128&&(u.$$scope={dirty:c,ctx:o}),i.$set(u)},i(o){r||($(n.$$.fragment,o),$(s.$$.fragment,o),$(i.$$.fragment,o),r=!0)},o(o){v(n.$$.fragment,o),v(s.$$.fragment,o),v(i.$$.fragment,o),r=!1},d(o){o&&(H(e),H(a)),R(n),R(s),R(i,o)}}}function fs(t,e,n){let l;ie(t,_e,f=>n(6,l=f));const s=oe();let a=!1;const i=f=>{ls(f.detail),l.length||n(0,a=!0)};return[a,s,i,()=>s("show-form"),f=>i(f),()=>n(0,a=!1)]}class us extends W{constructor(e){super(),V(this,e,fs,cs,I,{})}}const ds="/mobile-cairn/assets/Inventory-c55900a0.png";function gs(t){let e,n,l,s,a,i,r;return s=new us({}),s.$on("show-form",t[1]),{c(){e=b("div"),n=b("div"),n.innerHTML=`<h1 class="title svelte-1c181qs">Pocket Cairn
      <span class="version svelte-1c181qs">v.1.0</span></h1> <img class="image svelte-1c181qs" src="${ds}" alt="inventory"/> <span class="info svelte-1c181qs">Cairn is a game created by
      <a href="https://newschoolrevolution.com" target="_blank" class="svelte-1c181qs">Yochai Gal</a><br/>
      Official game page -
      <a href="https://cairnrpg.com" target="_blank" class="svelte-1c181qs">cairnrpg.com</a><br/>
      Rate or comment this application on
      <a href="https://github.com/BrightsDays/mobile-cairn" target="_blank" class="svelte-1c181qs">GitHub</a> :)</span>`,l=C(),T(s.$$.fragment),m(n,"class","header svelte-1c181qs"),m(e,"class","creation svelte-1c181qs")},m(o,c){S(o,e,c),g(e,n),g(e,l),A(s,e,null),r=!0},p:B,i(o){r||($(s.$$.fragment,o),o&&le(()=>{r&&(i&&i.end(1),a=xe(e,Te,{delay:200,duration:200}),a.start())}),r=!0)},o(o){v(s.$$.fragment,o),a&&a.invalidate(),o&&(i=$t(e,Te,{duration:200})),r=!1},d(o){o&&H(e),R(s),o&&i&&i.end()}}}function hs(t){const e=oe();return[e,()=>e("show-form")]}class ms extends W{constructor(e){super(),V(this,e,hs,gs,I,{})}}const ot=["","Adhere","Earthquake","Masquerade","Smoke Form","Anchor","Elasticity","Miniaturize","Sniff","Animate Object","Elemental Wall","Mirror Image","Snuff","Anthropomorphize","Filch","Mirrorwalk","Sort","Arcane Eye","Flare","Multiarm","Spectacle","Astral Prison","Fog Cloud","Night Sphere","Spellsaw","Attract","Frenzy","Objectify","Spider Climb","Auditory Illusion","Gate","Ooze Form","Summon Cube","Babble","Gravity Shift","Pacify","Swarm","Bait Flower","Greed","Phobia","Telekinesis","Beast Form","Haste","Pit","Telepathy","Befuddle","Hatred","Primal Surge","Teleport","Body Swap","Hear Whispers","Push/Pull","Target Lure","Charm","Hover","Raise Dead","Thicket","Command","Hypnotize","Raise Spirit","Summon Idol","Comprehend","Icy Touch","Read Mind","Time Control","Cone of Foam","Identify Owner","Repel","True Sight","Control Plants","Illuminate","Scry","Upwell","Control Weather","Invisible Tether","Sculpt Elements","Vision","Cure Wounds","Knock","Sense","Visual Illusion","Deafen","Leap","Shield","Ward","Detect Magic","Liquid Air","Shroud","Web","Disassemble","Magic Dampener","Shuffle","Widget","Disguise","Manse","Sleep","Wizard Mark","Displace","Marble Craze","Slick	100	X-Ray Vision"],Jt=()=>{const t=[""];for(let e=1;e<=20;e++)e<=3?t.push(""):e<=14?t.push("Brigandine (1 Armor, bulky)"):e<=19?t.push("Chainmail (2 Armor, bulky)"):t.push("Plate (3 Armor, bulky)");return t},ps=()=>{const t=[""];for(let e=1;e<=20;e++)e<=13?t.push(""):e<=16?t.push("Helmet (+1 Armor)"):e<=19?t.push("Shield (+1 Armor)"):t.push("both");return t},Ut=()=>{const t=[""];for(let e=1;e<=20;e++)e<=5?t.push("Dagger/Cudgel/Staff  (d6 damage)"):e<=14?t.push("Sword/Mace/Axe (d8 damage)"):e<=16?t.push("Sling (d4 damage)"):e<=18?t.push("Bow (d6 damage, bulky)"):e<=19?t.push("Crossbow (d8 damage, bulky)"):t.push("Halberd/War Hammer/Battleaxe  (d10 damage, bulky)");return t},Kt=["","Air Bladder","Fire Oil","Manacles","Rope (25ft)","Antitoxin","Grappling Hook","Pick","Spirit Ward","Cart (+4 slots, bulky)","Large Sack","Pole (10ft)","Spyglass","Chain (10ft)","Large Trap","Pulley","Tinderbox","Dowsing Rod","Lockpicks","Repellent","Wolfsbane"],Xt=["","Bellows","Cook Pots","Grease","Net","Bucket","Crowbar","Hammer","Saw","Caltrops","Drill (Manual)","Hour Glass","Sealant","Chalk","Fishing Rod","Metal File","Shovel","Chisel","Glue","Nails","Tongs"],Qt=["","Bottle","Horn","Mirror","Soap","Card Deck","Incense","Perfume","Sponge","Dice Set","Instrument","Quill & Ink","Tar Pot","Face Paint","Lens","Salt Pack","Twine","Fake Jewels","Marbles","Small Bell","Whistle"],_s=()=>{const t=ps()[O(1,20)],e=l=>l<=3?Xt[O(1,20)]:l<=5?Qt[O(1,20)]:l<=13?Kt[O(1,20)]:l<=15?Jt()[O(1,20)]:l<=17?Ut()[O(1,20)]:`Spellbook (${ot[O(1,100)]})`;return[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:Jt()[O(1,20)],inHand:!1,fatigue:!1},{title:Ut()[O(1,20)],inHand:!1,fatigue:!1},{title:t==="both"?"Helmet (+1 Armor)":t,inHand:!1,fatigue:!1},{title:t==="both"?"Shield (+1 Armor)":"",inHand:!1,fatigue:!1},{title:Kt[O(1,20)],inHand:!1,fatigue:!1},{title:Xt[O(1,20)],inHand:!1,fatigue:!1},{title:Qt[O(1,20)],inHand:!1,fatigue:!1},{title:e(O(1,20)),inHand:!1,fatigue:!1}].sort((l,s)=>l.title>s.title?-1:1)};function Zt(t,e,n){const l=t.slice();return l[8]=e[n],l}function xt(t){let e,n,l,s,a,i,r=J(t[0]),o=[];for(let c=0;c<r.length;c+=1)o[c]=en(Zt(t,r,c));return{c(){e=b("div");for(let c=0;c<o.length;c+=1)o[c].c();m(e,"class","list svelte-1ip5b1w"),m(e,"style",n=`top: -${t[0].length/2*25}%`)},m(c,f){S(c,e,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);s=!0,a||(i=[fn(bn.call(null,e)),x(e,"click_outside",t[6])],a=!0)},p(c,f){if(f&9){r=J(c[0]);let u;for(u=0;u<r.length;u+=1){const d=Zt(c,r,u);o[u]?o[u].p(d,f):(o[u]=en(d),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}(!s||f&1&&n!==(n=`top: -${c[0].length/2*25}%`))&&m(e,"style",n)},i(c){s||(c&&le(()=>{s&&(l||(l=Je(e,Ke,{delay:100,duration:200,easing:Ue,axis:"y"},!0)),l.run(1))}),s=!0)},o(c){c&&(l||(l=Je(e,Ke,{delay:100,duration:200,easing:Ue,axis:"y"},!1)),l.run(0)),s=!1},d(c){c&&H(e),be(o,c),c&&l&&l.end(),a=!1,re(i)}}}function en(t){let e,n=t[8]+"",l,s,a,i;function r(){return t[5](t[8])}return{c(){e=b("button"),l=E(n),s=C(),m(e,"class","item svelte-1ip5b1w")},m(o,c){S(o,e,c),g(e,l),g(e,s),a||(i=x(e,"click",r),a=!0)},p(o,c){t=o,c&1&&n!==(n=t[8]+"")&&se(l,n)},d(o){o&&H(e),a=!1,i()}}}function $s(t){let e,n,l,s,a,i,r=t[2]&&xt(t);return{c(){e=b("div"),n=b("button"),l=E(t[1]),s=C(),r&&r.c(),m(n,"ontouchstart",""),m(n,"class","select svelte-1ip5b1w"),m(e,"class","input svelte-1ip5b1w")},m(o,c){S(o,e,c),g(e,n),g(n,l),g(e,s),r&&r.m(e,null),a||(i=x(n,"click",t[4]),a=!0)},p(o,[c]){c&2&&se(l,o[1]),o[2]?r?(r.p(o,c),c&4&&$(r,1)):(r=xt(o),r.c(),$(r,1),r.m(e,null)):r&&(ce(),v(r,1,1,()=>{r=null}),fe())},i(o){$(r)},o(o){v(r)},d(o){o&&H(e),r&&r.d(),a=!1,i()}}}function bs(t,e,n){let{options:l=[""]}=e,{value:s}=e;const a=oe();let i=!1;const r=u=>{n(2,i=!1),a("select",u)},o=()=>n(2,i=!0),c=u=>r(u),f=()=>n(2,i=!1);return t.$$set=u=>{"options"in u&&n(0,l=u.options),"value"in u&&n(1,s=u.value)},[l,s,i,r,o,c,f]}class vs extends W{constructor(e){super(),V(this,e,bs,$s,I,{options:0,value:1})}}const Qe=()=>[{title:"Cleric",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"War Hammer (d10, bulky)",inHand:!1,fatigue:!1},{title:"Chainmail (2 Armor, bulky)",inHand:!1,fatigue:!1},{title:"Gauntlets (+1 Armor)",inHand:!1,fatigue:!1},{title:"Cleansing Blade (d6)",inHand:!1,fatigue:!1},{title:"Holy Symbol (Ward once per day)",inHand:!1,fatigue:!1},{title:"Cloak of the Order",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Dowser",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Sickle (d6)",inHand:!1,fatigue:!1},{title:"Patchwork Doublet (+1 Armor)",inHand:!1,fatigue:!1},{title:"Dowsing Rod",inHand:!1,fatigue:!1},{title:"Eyestone (Sense if placed in fresh water)",inHand:!1,fatigue:!1},{title:"Worn Map",inHand:!1,fatigue:!1},{title:"Spyglass",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Dwarf",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Prickly Root (d6)",inHand:!1,fatigue:!1},{title:"Pinecone Lattice (1 Armor)",inHand:!1,fatigue:!1},{title:"Trowel",inHand:!1,fatigue:!1},{title:"Jar of Forest Ants",inHand:!1,fatigue:!1},{title:"Poisonous mushroom",inHand:!1,fatigue:!1},{title:"Hand Drill",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Elf",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Elegant Sword (d8)",inHand:!1,fatigue:!1},{title:"Recurve Bow (d8)",inHand:!1,fatigue:!1},{title:"Gilt Clothing (1 Armor)",inHand:!1,fatigue:!1},{title:"Spellbook (Detect Magic)",inHand:!1,fatigue:!1},{title:"Golden Flute",inHand:!1,fatigue:!1},{title:"Air Bladder",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Fighter",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Glaive (d10, bulky)",inHand:!1,fatigue:!1},{title:"Scimitar (d8)",inHand:!1,fatigue:!1},{title:"Shortsword (d6)",inHand:!1,fatigue:!1},{title:"Shortsword (d6)",inHand:!1,fatigue:!1},{title:"Tobacco Pouch & Pipe",inHand:!1,fatigue:!1},{title:"Dice Set",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Friar",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Scepter (d6)",inHand:!1,fatigue:!1},{title:"Deceptive Robes (+1 Armor)",inHand:!1,fatigue:!1},{title:"Censer & Holy Water",inHand:!1,fatigue:!1},{title:"Jug of Honey Wine",inHand:!1,fatigue:!1},{title:"Folk Songbook",inHand:!1,fatigue:!1},{title:"Cart (+4 slots, bulky)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Knight",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Longsword (d10, bulky)",inHand:!1,fatigue:!1},{title:"Chainmail (2 Armor, bulky)",inHand:!1,fatigue:!1},{title:"Helmet (+1 Armor)",inHand:!1,fatigue:!1},{title:"Heraldic Cape",inHand:!1,fatigue:!1},{title:"Manacles",inHand:!1,fatigue:!1},{title:"Fine Rope",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Magic User",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Fizzled Staff (d8, bulky)",inHand:!1,fatigue:!1},{title:"Dagger (d6)",inHand:!1,fatigue:!1},{title:`Spellbook (${ot[O(1,100)]})`,inHand:!1,fatigue:!1},{title:`Spellbook (${ot[O(1,100)]})`,inHand:!1,fatigue:!1},{title:"Ragged Clothing (hidden pockets)",inHand:!1,fatigue:!1},{title:"Leycap (x2, see Relics)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Thief",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Two daggers (d6+d6)",inHand:!1,fatigue:!1},{title:"Hooded Jerkin (1 Armor)",inHand:!1,fatigue:!1},{title:"Lockpicks",inHand:!1,fatigue:!1},{title:"Caltrops",inHand:!1,fatigue:!1},{title:"Grappling Hook",inHand:!1,fatigue:!1},{title:"Metal File",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Ranger",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Longbow (d8, bulky)",inHand:!1,fatigue:!1},{title:"Hatchet (d6)",inHand:!1,fatigue:!1},{title:"Padded Leathers (1 Armor)",inHand:!1,fatigue:!1},{title:"Large Trap",inHand:!1,fatigue:!1},{title:"Bloodhound | 2 HP, 12 DEX, bite (d6)",inHand:!1,fatigue:!1},{title:"Thundering Horn",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]}],ks=["","Arwel","Breglor","Grinwit","Melnax","Bevan","Canhoreal","Gruwid","Orthax","Boroth","Emrys","Gruwth","Triunein","Borrid","Ethex","Gwestin","Wenlan","Breagle","Gringle","Mannog","Yirmeor"],ys=["","Agune","Drelil","Lirann","Sybil","Beatrice","Elgile","Lirathil","Theune","Breagan","Esme","Lisabeth","Wenain","Bronwyn","Griya","Moralil","Ygwal","Cannora","Henaine","Morgwen","Yslen"],ws=["","Abernathy","Crumwaller","Harper","Swinney","Addercap","Dunswallow","Loomer","Thatcher","Burl","Getri","Malksmilk","Tolmen","Candlewick","Glass","Smythe","Weaver","Cormick","Harkness","Sunderman","Wolder"],Hs=["","alchemist","cleric","magician","performer","blacksmith","gambler","mercenary","pickpocket","burglar","gravedigger","merchant","smuggler","butcher","herbalist","miner","servant","carpenter","hunter","outlaw","ranger"],Ss=["","athletic","scrawny","brawny","short","flabby","statuesque","lanky","stout","rugged","towering"],Ms=["","birthmark","round","dark","soft","elongated","tanned","pockmarked","tattooed","rosy","weathered"],Cs=["","bald","long","braided","luxurious","curly","oily","filthy","wavy","frizzy","wispy"],As=["","bony","perfect","broken","rat-like","chiseled","sharp","elongated","square","pale","sunken"],Rs=["","blunt","gravelly","booming","precise","cryptic","squeaky","droning","stuttering","formal","whispery"],Ts=["","antique","frayed","bloody","frumpy","elegant","livery","filthy","rancid","foreign","soiled"],Ps=["","ambitious","honorable","cautious","humble","courageous","merciful","disciplined","serene","gregarious","tolerant"],Os=["","aggressive","lazy","bitter","nervous","craven","rude","deceitful","vain","greedy","vengeful"],Ds=["","ambitious","loafer","boor","oddball","dangerous","repulsive","entertainer","respected","honest","wise"],Ls=["","abandoned","defrauded","addicted","demoted","blackmailed","discredited","condemned","disowned","cursed","exiled"],Es="/mobile-cairn/assets/dice-9509d5d1.svg";function tn(t,e,n){const l=t.slice();return l[14]=e[n],l}function nn(t,e,n){const l=t.slice();return l[17]=e[n],l}function ln(t){let e,n,l,s=t[0][t[17]]+"",a,i,r,o,c;function f(){return t[9](t[17])}return{c(){e=b("button"),n=E(t[17]),l=E(": "),a=E(s),m(e,"ontouchstart",""),e.disabled=i=!t[2].includes(t[17])&&t[2].length>=2,m(e,"class",r=ge(`item${t[2].includes(t[17])?" selected":""}`)+" svelte-1wpeeu6")},m(u,d){S(u,e,d),g(e,n),g(e,l),g(e,a),o||(c=x(e,"click",f),o=!0)},p(u,d){t=u,d&1&&s!==(s=t[0][t[17]]+"")&&se(a,s),d&4&&i!==(i=!t[2].includes(t[17])&&t[2].length>=2)&&(e.disabled=i),d&4&&r!==(r=ge(`item${t[2].includes(t[17])?" selected":""}`)+" svelte-1wpeeu6")&&m(e,"class",r)},d(u){u&&H(e),o=!1,c()}}}function sn(t){let e,n=J(Qe().find(t[11]).inventory),l=[];for(let s=0;s<n.length;s+=1)l[s]=rn(tn(t,n,s));return{c(){e=b("div");for(let s=0;s<l.length;s+=1)l[s].c();m(e,"class","items-list")},m(s,a){S(s,e,a);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(s,a){if(a&2){n=J(Qe().find(s[11]).inventory);let i;for(i=0;i<n.length;i+=1){const r=tn(s,n,i);l[i]?l[i].p(r,a):(l[i]=rn(r),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(s){s&&H(e),be(l,s)}}}function an(t){let e,n=t[14].title+"",l;return{c(){e=b("span"),l=E(n),m(e,"class","item svelte-1wpeeu6")},m(s,a){S(s,e,a),g(e,l)},p(s,a){a&2&&n!==(n=s[14].title+"")&&se(l,n)},d(s){s&&H(e)}}}function rn(t){let e,n=t[14].title&&an(t);return{c(){n&&n.c(),e=hn()},m(l,s){n&&n.m(l,s),S(l,e,s)},p(l,s){l[14].title?n?n.p(l,s):(n=an(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(l){l&&H(e),n&&n.d(l)}}}function Fs(t){let e;return{c(){e=E("Back")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function Bs(t){let e;return{c(){e=E("Save")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function Ns(t){let e,n,l,s,a,i,r,o,c,f,u,d,p,h,k,y,_,P,q,L,N,F,G,M,w,z,U,he,ee,me,pe,j;a=new vt({props:{value:t[0].name,placeholder:"Name",paddingRight:"45px"}}),a.$on("input",t[8]),o=new X({props:{borderless:!0,image:Es,height:25}}),o.$on("click",t[5]);let He=J(["str","dex","wil"]),ae=[];for(let D=0;D<3;D+=1)ae[D]=ln(nn(t,He,D));N=new vs({props:{options:t[4],value:t[1]}}),N.$on("select",t[10]);let Q=t[1]!=="random"&&sn(t);return U=new X({props:{$$slots:{default:[Fs]},$$scope:{ctx:t}}}),U.$on("click",t[12]),ee=new X({props:{disabled:!t[0].name,$$slots:{default:[Bs]},$$scope:{ctx:t}}}),ee.$on("click",t[13]),{c(){e=b("div"),n=b("h2"),n.textContent="Create a character",l=C(),s=b("div"),T(a.$$.fragment),i=C(),r=b("div"),T(o.$$.fragment),c=C(),f=b("section"),u=b("div"),u.innerHTML='<span class="text svelte-1wpeeu6">Stats</span>',d=C(),p=b("div");for(let D=0;D<3;D+=1)ae[D].c();h=C(),k=b("span"),k.textContent=`You can swap two of your stats by selecting or deselecting them with a
        click, and the change will take effect after character creation.`,y=C(),_=b("section"),P=b("div"),P.innerHTML='<span class="text svelte-1wpeeu6">Starting gear</span>',q=C(),L=b("div"),T(N.$$.fragment),F=C(),G=b("span"),G.textContent=`You can use randomly generated starting gear or choose one of the
        starting packages.`,M=C(),Q&&Q.c(),w=C(),z=b("div"),T(U.$$.fragment),he=C(),T(ee.$$.fragment),m(n,"class","title svelte-1wpeeu6"),m(r,"class","dice svelte-1wpeeu6"),m(s,"class","name svelte-1wpeeu6"),m(u,"class","heading svelte-1wpeeu6"),m(k,"class","info svelte-1wpeeu6"),m(p,"class","stats svelte-1wpeeu6"),m(f,"class","wrap svelte-1wpeeu6"),m(P,"class","heading svelte-1wpeeu6"),m(G,"class","info svelte-1wpeeu6"),m(L,"class","inventory svelte-1wpeeu6"),m(_,"class","wrap svelte-1wpeeu6"),m(z,"class","controls svelte-1wpeeu6"),m(e,"class","form svelte-1wpeeu6")},m(D,te){S(D,e,te),g(e,n),g(e,l),g(e,s),A(a,s,null),g(s,i),g(s,r),A(o,r,null),g(e,c),g(e,f),g(f,u),g(f,d),g(f,p);for(let ke=0;ke<3;ke+=1)ae[ke]&&ae[ke].m(p,null);g(p,h),g(p,k),g(e,y),g(e,_),g(_,P),g(_,q),g(_,L),A(N,L,null),g(L,F),g(L,G),g(L,M),Q&&Q.m(L,null),g(e,w),g(e,z),A(U,z,null),g(z,he),A(ee,z,null),j=!0},p(D,[te]){const ke={};if(te&1&&(ke.value=D[0].name),a.$set(ke),te&69){He=J(["str","dex","wil"]);let ne;for(ne=0;ne<3;ne+=1){const wt=nn(D,He,ne);ae[ne]?ae[ne].p(wt,te):(ae[ne]=ln(wt),ae[ne].c(),ae[ne].m(p,h))}for(;ne<3;ne+=1)ae[ne].d(1)}const kt={};te&2&&(kt.value=D[1]),N.$set(kt),D[1]!=="random"?Q?Q.p(D,te):(Q=sn(D),Q.c(),Q.m(L,null)):Q&&(Q.d(1),Q=null);const yt={};te&1048576&&(yt.$$scope={dirty:te,ctx:D}),U.$set(yt);const et={};te&1&&(et.disabled=!D[0].name),te&1048576&&(et.$$scope={dirty:te,ctx:D}),ee.$set(et)},i(D){j||($(a.$$.fragment,D),$(o.$$.fragment,D),$(N.$$.fragment,D),$(U.$$.fragment,D),$(ee.$$.fragment,D),D&&le(()=>{j&&(pe&&pe.end(1),me=xe(e,Te,{delay:200,duration:200}),me.start())}),j=!0)},o(D){v(a.$$.fragment,D),v(o.$$.fragment,D),v(N.$$.fragment,D),v(U.$$.fragment,D),v(ee.$$.fragment,D),me&&me.invalidate(),D&&(pe=$t(e,Te,{duration:200})),j=!1},d(D){D&&H(e),R(a),R(o),be(ae,D),R(N),Q&&Q.d(),R(U),R(ee),D&&pe&&pe.end()}}}function zs(t,e,n){const l=oe();let s={name:"",str:O(3,6),dex:O(3,6),wil:O(3,6),hp:O(1,6),gp:O(3,6)},a=["random",...Qe().map(_=>_.title)],i=a[0],r=[];const o=()=>{const _=O(1,2)===1?ys[O(1,20)]:ks[O(1,20)];n(0,s.name=`${_} ${ws[O(1,20)]}`,s)},c=_=>{if(r.includes(_)){const P=r.indexOf(_,0);P!==-1&&(r.splice(P,1),n(2,r=[...r]))}else{if(r.length>=2)return;n(2,r=[...r,_])}},f=()=>{if(r.length===2){const _=s[r[0]],P=s[r[1]];n(0,s[r[0]]=P,s),n(0,s[r[1]]=_,s)}_e.set(s.name),de.set({str:s.str,dex:s.dex,wil:s.wil,strMax:s.str,dexMax:s.dex,wilMax:s.wil}),K.set({hp:s.hp,hpMax:s.hp,armor:0,deprived:!1}),we.set({gp:s.gp.toString(),sp:"0",cp:"0"}),$e.set(i==="random"?_s():Qe().find(_=>_.title===i).inventory),Ee.set(`Age: ${O(2,20)+10}, formerly a ${Hs[O(1,20)]}.
You have an ${Ss[O(1,10)]} physique, ${Ms[O(1,10)]} skin, ${Cs[O(1,10)]} hair, and a ${As[O(1,10)]} face.
You speak in a ${Rs[O(1,10)]} manner and wear ${Ts[O(1,10)]} clothing.
You are ${Os[O(1,10)]} yet ${Ps[O(1,10)]}, and are generally regarded as ${Ds[O(1,10)]}.
You have had the misfortune of being ${Ls[O(1,10)]}.`),Y(),l("hide-form")};return[s,i,r,l,a,o,c,f,_=>n(0,s.name=_.detail,s),_=>c(_),_=>n(1,i=_.detail),_=>_.title===i,()=>l("hide-form"),()=>f()]}class Is extends W{constructor(e){super(),V(this,e,zs,Ns,I,{})}}function qs(t){let e,n;return e=new Is({}),e.$on("hide-form",t[3]),{c(){T(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},p:B,i(l){n||($(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Vs(t){let e,n;return e=new ms({}),e.$on("show-form",t[2]),{c(){T(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},p:B,i(l){n||($(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Ws(t){let e,n;return e=new ns({}),{c(){T(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},p:B,i(l){n||($(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function js(t){let e,n,l,s;const a=[Ws,Vs,qs],i=[];function r(o,c){return o[0]?0:o[1]?2:1}return n=r(t),l=i[n]=a[n](t),{c(){e=b("main"),l.c(),m(e,"class","svelte-ncbruq")},m(o,c){S(o,e,c),i[n].m(e,null),s=!0},p(o,[c]){let f=n;n=r(o),n===f?i[n].p(o,c):(ce(),v(i[f],1,1,()=>{i[f]=null}),fe(),l=i[n],l?l.p(o,c):(l=i[n]=a[n](o),l.c()),$(l,1),l.m(e,null))},i(o){s||($(l),s=!0)},o(o){v(l),s=!1},d(o){o&&H(e),i[n].d()}}}function Gs(t,e,n){let l;ie(t,_e,o=>n(4,l=o));let s=l,a=!1;return _e.subscribe(o=>n(0,s=o)),On(()=>{const o=localStorage.getItem("pc__character");o&&vn(JSON.parse(o))&&(_e.set(JSON.parse(o).name),de.set(JSON.parse(o).abilities),K.set(JSON.parse(o).stats),we.set(JSON.parse(o).coins),$e.set(JSON.parse(o).inventory),Z.set(JSON.parse(o).scars),Ee.set(JSON.parse(o).notes))}),[s,a,()=>n(1,a=!0),()=>n(1,a=!1)]}class Ys extends W{constructor(e){super(),V(this,e,Gs,js,I,{})}}new Ys({target:document.getElementById("app")});
