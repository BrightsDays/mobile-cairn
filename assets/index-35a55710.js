var kn=Object.defineProperty;var yn=(t,e,n)=>e in t?kn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var tt=(t,e,n)=>(yn(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function E(){}const Ze=t=>t;function wn(t,e){for(const n in e)t[n]=e[n];return t}function on(t){return t()}function Ht(){return Object.create(null)}function te(t){t.forEach(on)}function ze(t){return typeof t=="function"}function B(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let je;function St(t,e){return t===e?!0:(je||(je=document.createElement("a")),je.href=e,t===je.href)}function Hn(t){return Object.keys(t).length===0}function Sn(t,...e){if(t==null){for(const l of e)l(void 0);return E}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function oe(t,e,n){t.$$.on_destroy.push(Sn(e,n))}function ct(t,e,n,l){if(t){const s=cn(t,e,n,l);return t[0](s)}}function cn(t,e,n,l){return t[1]&&l?wn(n.ctx.slice(),t[1](l(e))):n.ctx}function ft(t,e,n,l){if(t[2]&&l){const s=t[2](l(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const a=[],i=Math.max(e.dirty.length,s.length);for(let r=0;r<i;r+=1)a[r]=e.dirty[r]|s[r];return a}return e.dirty|s}return e.dirty}function ut(t,e,n,l,s,a){if(s){const i=cn(e,n,l,a);t.p(i,s)}}function dt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function ge(t){return t??""}function fn(t){return t&&ze(t.destroy)?t.destroy:E}const un=typeof window<"u";let gt=un?()=>window.performance.now():()=>Date.now(),ht=un?t=>requestAnimationFrame(t):E;const Ae=new Set;function dn(t){Ae.forEach(e=>{e.c(t)||(Ae.delete(e),e.f())}),Ae.size!==0&&ht(dn)}function pt(t){let e;return Ae.size===0&&ht(dn),{promise:new Promise(n=>{Ae.add(e={c:t,f:n})}),abort(){Ae.delete(e)}}}function p(t,e){t.appendChild(e)}function gn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Mn(t){const e=b("style");return e.textContent="/* empty */",Cn(gn(t),e),e.sheet}function Cn(t,e){return p(t.head||t,e),e.sheet}function S(t,e,n){t.insertBefore(e,n||null)}function H(t){t.parentNode&&t.parentNode.removeChild(t)}function be(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function b(t){return document.createElement(t)}function L(t){return document.createTextNode(t)}function C(){return L(" ")}function hn(){return L("")}function X(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function h(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function An(t){return Array.from(t.childNodes)}function ie(t,e){e=""+e,t.data!==e&&(t.data=e)}function We(t,e){t.value=e??""}function Ee(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function pn(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}const qe=new Map;let Ve=0;function Rn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Tn(t,e){const n={stylesheet:Mn(e),rules:{}};return qe.set(t,n),n}function Ge(t,e,n,l,s,a,i,r=0){const o=16.666/l;let c=`{
`;for(let y=0;y<=1;y+=o){const g=e+(n-e)*a(y);c+=y*100+`%{${i(g,1-g)}}
`}const f=c+`100% {${i(n,1-n)}}
}`,u=`__svelte_${Rn(f)}_${r}`,d=gn(t),{stylesheet:m,rules:_}=qe.get(d)||Tn(d,t);_[u]||(_[u]=!0,m.insertRule(`@keyframes ${u} ${f}`,m.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${u} ${l}ms linear ${s}ms 1 both`,Ve+=1,u}function Ye(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?a=>a.indexOf(e)<0:a=>a.indexOf("__svelte")===-1),s=n.length-l.length;s&&(t.style.animation=l.join(", "),Ve-=s,Ve||zn())}function zn(){ht(()=>{Ve||(qe.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&H(e)}),qe.clear())})}let De;function Oe(t){De=t}function mn(){if(!De)throw new Error("Function called outside component initialization");return De}function Pn(t){mn().$$.on_mount.push(t)}function ce(){const t=mn();return(e,n,{cancelable:l=!1}={})=>{const s=t.$$.callbacks[e];if(s){const a=pn(e,n,{cancelable:l});return s.slice().forEach(i=>{i.call(t,a)}),!a.defaultPrevented}return!0}}const Ce=[],Mt=[];let Re=[];const Ct=[],On=Promise.resolve();let at=!1;function Dn(){at||(at=!0,On.then(_n))}function ee(t){Re.push(t)}const nt=new Set;let Se=0;function _n(){if(Se!==0)return;const t=De;do{try{for(;Se<Ce.length;){const e=Ce[Se];Se++,Oe(e),Ln(e.$$)}}catch(e){throw Ce.length=0,Se=0,e}for(Oe(null),Ce.length=0,Se=0;Mt.length;)Mt.pop()();for(let e=0;e<Re.length;e+=1){const n=Re[e];nt.has(n)||(nt.add(n),n())}Re.length=0}while(Ce.length);for(;Ct.length;)Ct.pop()();at=!1,nt.clear(),Oe(t)}function Ln(t){if(t.fragment!==null){t.update(),te(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ee)}}function jn(t){const e=[],n=[];Re.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Re=e}let Pe;function mt(){return Pe||(Pe=Promise.resolve(),Pe.then(()=>{Pe=null})),Pe}function ye(t,e,n){t.dispatchEvent(pn(`${e?"intro":"outro"}${n}`))}const Be=new Set;let de;function fe(){de={r:0,c:[],p:de}}function ue(){de.r||te(de.c),de=de.p}function $(t,e){t&&t.i&&(Be.delete(t),t.i(e))}function k(t,e,n,l){if(t&&t.o){if(Be.has(t))return;Be.add(t),de.c.push(()=>{Be.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const _t={duration:0};function xe(t,e,n){const l={direction:"in"};let s=e(t,n,l),a=!1,i,r,o=0;function c(){i&&Ye(t,i)}function f(){const{delay:d=0,duration:m=300,easing:_=Ze,tick:v=E,css:y}=s||_t;y&&(i=Ge(t,0,1,m,d,_,y,o++)),v(0,1);const g=gt()+d,z=g+m;r&&r.abort(),a=!0,ee(()=>ye(t,!0,"start")),r=pt(I=>{if(a){if(I>=z)return v(1,0),ye(t,!0,"end"),c(),a=!1;if(I>=g){const D=_((I-g)/m);v(D,1-D)}}return a})}let u=!1;return{start(){u||(u=!0,Ye(t),ze(s)?(s=s(l),mt().then(f)):f())},invalidate(){u=!1},end(){a&&(c(),a=!1)}}}function $t(t,e,n){const l={direction:"out"};let s=e(t,n,l),a=!0,i;const r=de;r.r+=1;let o;function c(){const{delay:f=0,duration:u=300,easing:d=Ze,tick:m=E,css:_}=s||_t;_&&(i=Ge(t,1,0,u,f,d,_));const v=gt()+f,y=v+u;ee(()=>ye(t,!1,"start")),"inert"in t&&(o=t.inert,t.inert=!0),pt(g=>{if(a){if(g>=y)return m(0,1),ye(t,!1,"end"),--r.r||te(r.c),!1;if(g>=v){const z=d((g-v)/u);m(1-z,z)}}return a})}return ze(s)?mt().then(()=>{s=s(l),c()}):c(),{end(f){f&&"inert"in t&&(t.inert=o),f&&s.tick&&s.tick(1,0),a&&(i&&Ye(t,i),a=!1)}}}function Je(t,e,n,l){let a=e(t,n,{direction:"both"}),i=l?0:1,r=null,o=null,c=null,f;function u(){c&&Ye(t,c)}function d(_,v){const y=_.b-i;return v*=Math.abs(y),{a:i,b:_.b,d:y,duration:v,start:_.start,end:_.start+v,group:_.group}}function m(_){const{delay:v=0,duration:y=300,easing:g=Ze,tick:z=E,css:I}=a||_t,D={start:gt()+v,b:_};_||(D.group=de,de.r+=1),"inert"in t&&(_?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),r||o?o=D:(I&&(u(),c=Ge(t,i,_,y,v,g,I)),_&&z(0,1),r=d(D,y),ee(()=>ye(t,_,"start")),pt(F=>{if(o&&F>o.start&&(r=d(o,y),o=null,ye(t,r.b,"start"),I&&(u(),c=Ge(t,i,r.b,r.duration,0,g,a.css))),r){if(F>=r.end)z(i=r.b,1-i),ye(t,r.b,"end"),o||(r.b?u():--r.group.r||te(r.group.c)),r=null;else if(F>=r.start){const j=F-r.start;i=r.a+r.d*g(j/r.duration),z(i,1-i)}}return!!(r||o)}))}return{run(_){ze(a)?mt().then(()=>{a=a({direction:_?"in":"out"}),m(_)}):m(_)},end(){u(),r=o=null}}}function J(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function T(t){t&&t.c()}function A(t,e,n){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,n),ee(()=>{const a=t.$$.on_mount.map(on).filter(ze);t.$$.on_destroy?t.$$.on_destroy.push(...a):te(a),t.$$.on_mount=[]}),s.forEach(ee)}function R(t,e){const n=t.$$;n.fragment!==null&&(jn(n.after_update),te(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function En(t,e){t.$$.dirty[0]===-1&&(Ce.push(t),Dn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function W(t,e,n,l,s,a,i,r=[-1]){const o=De;Oe(t);const c=t.$$={fragment:null,ctx:[],props:a,update:E,not_equal:s,bound:Ht(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:Ht(),dirty:r,skip_bound:!1,root:e.target||o.$$.root};i&&i(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(u,d,...m)=>{const _=m.length?m[0]:d;return c.ctx&&s(c.ctx[u],c.ctx[u]=_)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](_),f&&En(t,u)),d}):[],c.update(),f=!0,te(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const u=An(e.target);c.fragment&&c.fragment.l(u),u.forEach(H)}else c.fragment&&c.fragment.c();e.intro&&$(t.$$.fragment),A(t,e.target,e.anchor),_n()}Oe(o)}class q{constructor(){tt(this,"$$");tt(this,"$$set")}$destroy(){R(this,1),this.$destroy=E}$on(e,n){if(!ze(n))return E;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!Hn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Fn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Fn);const Me=[];function ve(t,e=E){let n;const l=new Set;function s(r){if(B(t,r)&&(t=r,n)){const o=!Me.length;for(const c of l)c[1](),Me.push(c,t);if(o){for(let c=0;c<Me.length;c+=2)Me[c][0](Me[c+1]);Me.length=0}}}function a(r){s(r(t))}function i(r,o=E){const c=[r,o];return l.add(c),l.size===1&&(n=e(s,a)||E),r(t),()=>{l.delete(c),l.size===0&&n&&(n(),n=null)}}return{set:s,update:a,subscribe:i}}const P=(t=1,e=6)=>{const n=[];for(let l=0;l<t;l++){const s=Math.floor(Math.random()*e)+1;n.push(s)}return n.reduce((l,s)=>l+s,0)},Nn=()=>{const{subscribe:t,set:e,update:n}=ve([{key:"4",value:4,count:0},{key:"6",value:6,count:0},{key:"8",value:8,count:0},{key:"10",value:10,count:0},{key:"12",value:12,count:0},{key:"20",value:20,count:0}]);return{subscribe:t,set:e,roll:l=>n(s=>(s.find(a=>a.key===l).count+=1,s.find(a=>a.key===l).value=P(1,+l),[...s]))}},lt=Nn();function $n(t){const e=t-1;return e*e*e+1}function Bn(t){return t*t*t*t*t}function Ue(t){return--t*t*t*t*t+1}function Te(t,{delay:e=0,duration:n=400,easing:l=Ze}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:a=>`opacity: ${a*s}`}}function Ke(t,{delay:e=0,duration:n=400,easing:l=$n,axis:s="y"}={}){const a=getComputedStyle(t),i=+a.opacity,r=s==="y"?"height":"width",o=parseFloat(a[r]),c=s==="y"?["top","bottom"]:["left","right"],f=c.map(g=>`${g[0].toUpperCase()}${g.slice(1)}`),u=parseFloat(a[`padding${f[0]}`]),d=parseFloat(a[`padding${f[1]}`]),m=parseFloat(a[`margin${f[0]}`]),_=parseFloat(a[`margin${f[1]}`]),v=parseFloat(a[`border${f[0]}Width`]),y=parseFloat(a[`border${f[1]}Width`]);return{delay:e,duration:n,easing:l,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*i};${r}: ${g*o}px;padding-${c[0]}: ${g*u}px;padding-${c[1]}: ${g*d}px;margin-${c[0]}: ${g*m}px;margin-${c[1]}: ${g*_}px;border-${c[0]}-width: ${g*v}px;border-${c[1]}-width: ${g*y}px;`}}function In(t,{delay:e=0,duration:n=400,easing:l=$n,start:s=0,opacity:a=0}={}){const i=getComputedStyle(t),r=+i.opacity,o=i.transform==="none"?"":i.transform,c=1-s,f=r*(1-a);return{delay:e,duration:n,easing:l,css:(u,d)=>`
			transform: ${o} scale(${1-c*d});
			opacity: ${r-f*d}
		`}}function At(t,e,n){const l=t.slice();return l[5]=e[n],l[7]=n,l}function Rt(t){let e,n=t[5].value+"",l,s;return{c(){e=b("span"),l=L(n),h(e,"class","svelte-1sm778n")},m(a,i){S(a,e,i),p(e,l)},p(a,i){i&1&&n!==(n=a[5].value+"")&&ie(l,n)},i(a){a&&(s||ee(()=>{s=xe(e,In,{delay:150,duration:200,easing:Bn}),s.start()}))},o:E,d(a){a&&H(e)}}}function Tt(t){let e,n=t[5].count,l,s,a,i,r=Rt(t);function o(){return t[3](t[5],t[7])}return{c(){e=b("button"),r.c(),l=C(),h(e,"ontouchstart",""),h(e,"class",s=ge(`dice d${t[5].key}${t[1]===t[7]?" green":""}`)+" svelte-1sm778n")},m(c,f){S(c,e,f),r.m(e,null),p(e,l),a||(i=X(e,"click",o),a=!0)},p(c,f){t=c,f&1&&B(n,n=t[5].count)?(fe(),k(r,1,1,E),ue(),r=Rt(t),r.c(),$(r,1),r.m(e,l)):r.p(t,f),f&3&&s!==(s=ge(`dice d${t[5].key}${t[1]===t[7]?" green":""}`)+" svelte-1sm778n")&&h(e,"class",s)},d(c){c&&H(e),r.d(c),a=!1,i()}}}function Wn(t){let e,n=J(t[0]),l=[];for(let s=0;s<n.length;s+=1)l[s]=Tt(At(t,n,s));return{c(){e=b("div");for(let s=0;s<l.length;s+=1)l[s].c();h(e,"class","dice-list svelte-1sm778n")},m(s,a){S(s,e,a);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(s,[a]){if(a&7){n=J(s[0]);let i;for(i=0;i<n.length;i+=1){const r=At(s,n,i);l[i]?l[i].p(r,a):(l[i]=Tt(r),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},i:E,o:E,d(s){s&&H(e),be(l,s)}}}function qn(t,e,n){let l;oe(t,lt,o=>n(4,l=o));let s=l;lt.subscribe(o=>n(0,s=o));let a;const i=(o,c)=>{lt.roll(o),n(1,a=c)};return[s,a,i,(o,c)=>i(o.key,c)]}class Vn extends q{constructor(e){super(),W(this,e,qn,Wn,B,{})}}const Gn=()=>{const{subscribe:t,set:e,update:n}=ve("");return{subscribe:t,set:e,change:l=>n(s=>(s=l,Y(),s))}},Le=Gn(),Yn=t=>{let e;re.subscribe(l=>e=l[`${t}Max`]);const n=P(1,20);return n===1||n<=e},st=(t,e=1)=>{let n;Z.subscribe(s=>n=s.hpMax);const l=P(e,6);t!=="add"?l>n?(Z.setMaxHp(l),x.addHistory(`HP has been set to ${l}.`)):x.addHistory("HP roll result was too low, no upgrade."):(Z.setMaxHp(n+l),x.addHistory(`${l} has been added to HP.`))},it=(t,e)=>{const n=e||["","str","dex","wil"][P(1,3)];let l;re.subscribe(a=>l=a[`${n}Max`]);const s=P(3,6);if(t!=="add")l<s?(re.setMaxAbility(n,s),x.addHistory(`${n.toUpperCase()} has been set to ${s}.`)):x.addHistory(`${n.toUpperCase()} roll result was too low, no upgrade.`);else if(Yn(n)){const a=P(1,4);re.setMaxAbility(n,l+a),x.addHistory(`${a} has been added to ${n.toUpperCase()}.`)}else x.addHistory(`${n.toUpperCase()} save was failed, no upgrade.`)},Jn=()=>{const t=[],{subscribe:e,set:n,update:l}=ve([...t]);return{subscribe:e,set:n,add:s=>l(a=>{switch(s){case 1:a=[...a,{content:`Lasting Scar on ${["","Neck","Hands","Eye","Chest","Legs","Ear"][P(1,6)]}.`}],st("change",1);break;case 2:a=[...a,{content:"Rattling Blow. You’re disoriented and shaken. Describe how you refocus."}],st("change",1);break;case 3:a=[...a,{content:"Walloped: You’re sent flying and land flat on your face, winded. You are deprived until you rest for a few hours, when resolve.",resolve:{action:"increaseHP",type:"add",num:1}}];break;case 4:a=[...a,{content:`Broken Limb: ${["","Leg","Leg","Arm","Arm","Rib","Skull"][P(1,6)]}. Once mended, resolve.`,resolve:{action:"increaseHP",type:"change",num:2}}];break;case 5:a=[...a,{content:"Diseased: You’re afflicted with a gross, uncomfortable infection. When you get over it, resolve.",resolve:{action:"increaseHP",type:"change",num:2}}];break;case 6:a=[...a,{content:"Reorienting Head Wound."}],it("change");break;case 7:a=[...a,{content:"Hamstrung: You can barely move until you get serious help and rest. After recovery, resolve.",resolve:{action:"increaseAbility",type:"change",key:"dex"}}];break;case 8:a=[...a,{content:"Deafened: You cannot hear anything until you find extraordinary aid. Regardless, resolve.",resolve:{action:"increaseAbility",type:"add",key:"wil"}}];break;case 9:a=[...a,{content:"Re-brained: Some hidden part of your psyche is knocked loose."}],it("change","wil");break;case 10:a=[...a,{content:"Sundered: An appendage is torn off, crippled or useless. The Warden will tell you which. Then resolve.",resolve:{action:"increaseAbility",type:"add",key:"wil"}}];break;case 11:a=[...a,{content:"Mortal Wound: You are deprived and out of action. You die in one hour unless healed. Upon recovery, resolve.",resolve:{action:"increaseHP",type:"change",num:2}}];break;case 12:a=[...a,{content:"Doomed: Death seemed ever so close, but somehow you survived. If your next save against critical damage is a fail, you die horribly. If you pass, resolve",resolve:{action:"increaseHP",type:"change",num:3}}];break}return setTimeout(()=>Y(),0),[...a]}),addHistory:s=>setTimeout(()=>l(a=>(a=[...a,{content:s}],setTimeout(()=>Y(),0),[...a])),0),resolve:s=>l(a=>{const i=a[s].resolve;switch(i.action){case"increaseHP":st(i.type,i.num);break;case"increaseAbility":it(i.type,i.key);break}return a[s].resolve=null,Y(),[...a]}),reset:()=>{n([...t]),Y()}}},x=Jn(),bt=()=>{let t;_e.subscribe(r=>t=r);let e;re.subscribe(r=>e=r);let n;Z.subscribe(r=>n=r);let l;we.subscribe(r=>l=r);let s;$e.subscribe(r=>s=r);let a;x.subscribe(r=>a=r);let i;return Le.subscribe(r=>i=r),{name:t,abilities:{str:e.str,dex:e.dex,wil:e.wil,strMax:e.strMax,dexMax:e.dexMax,wilMax:e.wilMax},stats:{hp:n.hp,hpMax:n.hpMax,armor:n.armor,deprived:n.deprived},coins:{gp:l.gp,sp:l.sp,cp:l.cp},inventory:s,scars:a,notes:i}},Y=()=>{const t=bt();localStorage.setItem("pc__character",JSON.stringify(t))},Un=()=>{const{subscribe:t,set:e,update:n}=ve({str:0,dex:0,wil:0,strMax:0,dexMax:0,wilMax:0});return{subscribe:t,set:e,increase:l=>n(s=>(s[l]+=s[l]<s[`${l}Max`]?1:0,Y(),{...s})),decrease:l=>n(s=>(s[l]-=s[l]>0?1:0,Y(),{...s})),setMaxAbility:(l,s)=>n(a=>(a[`${l}Max`]=s,Y(),{...a}))}},Kn=()=>{const{subscribe:t,set:e,update:n}=ve({hp:0,hpMax:10,armor:0,deprived:!1});return{subscribe:t,set:e,increaseHp:()=>n(l=>(l.hp+=l.hp<l.hpMax?1:0,Y(),{...l})),decreaseHp:()=>n(l=>(l.hp-=l.hp>0?1:0,Y(),{...l})),setMaxHp:l=>n(s=>(s.hpMax=l,Y(),{...s})),increaceArmor:()=>n(l=>(l.armor+=l.armor<9?1:0,Y(),{...l})),decreaseArmor:()=>n(l=>(l.armor-=l.armor>0?1:0,Y(),{...l})),changeDeprived:()=>n(l=>(l.deprived=!l.deprived,Y(),{...l}))}},Xn=()=>{const{subscribe:t,set:e,update:n}=ve({gp:"0",sp:"0",cp:"0"});return{subscribe:t,set:e,change:(l,s)=>n(a=>(a[l]=s,Y(),{...a}))}},Qn=()=>{const{subscribe:t,set:e,update:n}=ve([{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]);return{subscribe:t,set:e,change:l=>n(s=>(s=l,Y(),[...s]))}},_e=ve(""),re=Un(),Z=Kn(),we=Xn(),$e=Qn();function Zn(t){let e,n;const l=t[11].default,s=ct(l,t,t[10],null);return{c(){e=b("p"),s&&s.c(),h(e,"class","svelte-12ggqjz")},m(a,i){S(a,e,i),s&&s.m(e,null),n=!0},p(a,i){s&&s.p&&(!n||i&1024)&&ut(s,l,a,a[10],n?ft(l,a[10],i,null):dt(a[10]),null)},i(a){n||($(s,a),n=!0)},o(a){k(s,a),n=!1},d(a){a&&H(e),s&&s.d(a)}}}function xn(t){let e,n;return{c(){e=b("img"),h(e,"class","image svelte-12ggqjz"),St(e.src,n=t[5])||h(e,"src",n),h(e,"alt",t[6])},m(l,s){S(l,e,s)},p(l,s){s&32&&!St(e.src,n=l[5])&&h(e,"src",n),s&64&&h(e,"alt",l[6])},i:E,o:E,d(l){l&&H(e)}}}function el(t){let e,n,l,s,a,i,r,o;ee(t[12]);const c=[xn,Zn],f=[];function u(d,m){return d[5]?0:1}return n=u(t),l=f[n]=c[n](t),{c(){e=b("button"),l.c(),h(e,"ontouchstart",""),h(e,"class",s=ge(`button${t[4]?" borderless":""}`)+" svelte-12ggqjz"),e.disabled=t[3],h(e,"style",a=`
    min-width: ${t[8]}px;
    height: ${t[1]}px;
    border-radius: ${t[8]/2}px;
    padding: ${t[0]}px;
    font-size: ${t[2]};
    line-height: ${t[2]};
  `)},m(d,m){S(d,e,m),f[n].m(e,null),i=!0,r||(o=[X(window,"resize",t[12]),X(e,"click",t[13])],r=!0)},p(d,[m]){let _=n;n=u(d),n===_?f[n].p(d,m):(fe(),k(f[_],1,1,()=>{f[_]=null}),ue(),l=f[n],l?l.p(d,m):(l=f[n]=c[n](d),l.c()),$(l,1),l.m(e,null)),(!i||m&16&&s!==(s=ge(`button${d[4]?" borderless":""}`)+" svelte-12ggqjz"))&&h(e,"class",s),(!i||m&8)&&(e.disabled=d[3]),(!i||m&263&&a!==(a=`
    min-width: ${d[8]}px;
    height: ${d[1]}px;
    border-radius: ${d[8]/2}px;
    padding: ${d[0]}px;
    font-size: ${d[2]};
    line-height: ${d[2]};
  `))&&h(e,"style",a)},i(d){i||($(l),i=!0)},o(d){k(l),i=!1},d(d){d&&H(e),f[n].d(),r=!1,te(o)}}}function tl(t,e,n){let l,{$$slots:s={},$$scope:a}=e,{height:i=40}=e,{padding:r=0}=e,{fontSize:o="1.6rem"}=e,{disabled:c=!1}=e,{borderless:f=!1}=e,{image:u=void 0}=e,{alt:d=void 0}=e;const m=ce();let _;function v(){n(7,_=window.innerWidth)}const y=()=>m("click");return t.$$set=g=>{"height"in g&&n(1,i=g.height),"padding"in g&&n(0,r=g.padding),"fontSize"in g&&n(2,o=g.fontSize),"disabled"in g&&n(3,c=g.disabled),"borderless"in g&&n(4,f=g.borderless),"image"in g&&n(5,u=g.image),"alt"in g&&n(6,d=g.alt),"$$scope"in g&&n(10,a=g.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&n(0,r||(r=0)),t.$$.dirty&130&&n(8,l=_>374?i:i*.75)},[r,i,o,c,f,u,d,_,l,m,a,s,v,y]}class K extends q{constructor(e){super(),W(this,e,tl,el,B,{height:1,padding:0,fontSize:2,disabled:3,borderless:4,image:5,alt:6})}}const nl=(t="character")=>{const e=bt(),n=`${e.name}.json`,l=JSON.stringify(e),s=document.createElement("a");s.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(l)),s.setAttribute("download",n),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)},bn=t=>{const e=n=>{t&&!t.contains(n.target)&&!n.defaultPrevented&&t.dispatchEvent(new CustomEvent("click_outside",t))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}};function zt(t){let e,n,l,s,a,i,r,o,c,f,u,d,m=t[1]&&Pt(t);const _=t[5].default,v=ct(_,t,t[9],null);i=new K({props:{$$slots:{default:[ll]},$$scope:{ctx:t}}}),i.$on("click",t[6]);let y=!t[2]&&Ot(t);return{c(){e=b("div"),m&&m.c(),n=C(),l=b("span"),v&&v.c(),s=C(),a=b("div"),T(i.$$.fragment),r=C(),y&&y.c(),h(l,"class","content svelte-o0uayc"),h(a,"class",o=ge(`controls${t[2]?" submission":""}`)+" svelte-o0uayc"),h(e,"class","modal svelte-o0uayc")},m(g,z){S(g,e,z),m&&m.m(e,null),p(e,n),p(e,l),v&&v.m(l,null),p(e,s),p(e,a),A(i,a,null),p(a,r),y&&y.m(a,null),f=!0,u||(d=[fn(bn.call(null,e)),X(e,"click_outside",t[8])],u=!0)},p(g,z){g[1]?m?m.p(g,z):(m=Pt(g),m.c(),m.m(e,n)):m&&(m.d(1),m=null),v&&v.p&&(!f||z&512)&&ut(v,_,g,g[9],f?ft(_,g[9],z,null):dt(g[9]),null);const I={};z&512&&(I.$$scope={dirty:z,ctx:g}),i.$set(I),g[2]?y&&(fe(),k(y,1,1,()=>{y=null}),ue()):y?(y.p(g,z),z&4&&$(y,1)):(y=Ot(g),y.c(),$(y,1),y.m(a,null)),(!f||z&4&&o!==(o=ge(`controls${g[2]?" submission":""}`)+" svelte-o0uayc"))&&h(a,"class",o)},i(g){f||($(v,g),$(i.$$.fragment,g),$(y),g&&ee(()=>{f&&(c||(c=Je(e,Ke,{delay:100,duration:200,easing:Ue,axis:"y"},!0)),c.run(1))}),f=!0)},o(g){k(v,g),k(i.$$.fragment,g),k(y),g&&(c||(c=Je(e,Ke,{delay:100,duration:200,easing:Ue,axis:"y"},!1)),c.run(0)),f=!1},d(g){g&&H(e),m&&m.d(),v&&v.d(g),R(i),y&&y.d(),g&&c&&c.end(),u=!1,te(d)}}}function Pt(t){let e,n;return{c(){e=b("h2"),n=L(t[1]),h(e,"class","title svelte-o0uayc")},m(l,s){S(l,e,s),p(e,n)},p(l,s){s&2&&ie(n,l[1])},d(l){l&&H(e)}}}function ll(t){let e;return{c(){e=L("Cancel")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function Ot(t){let e,n;return e=new K({props:{disabled:t[3],$$slots:{default:[sl]},$$scope:{ctx:t}}}),e.$on("click",t[7]),{c(){T(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},p(l,s){const a={};s&8&&(a.disabled=l[3]),s&512&&(a.$$scope={dirty:s,ctx:l}),e.$set(a)},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function sl(t){let e;return{c(){e=L("OK")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function il(t){let e,n,l=t[0]&&zt(t);return{c(){l&&l.c(),e=hn()},m(s,a){l&&l.m(s,a),S(s,e,a),n=!0},p(s,[a]){s[0]?l?(l.p(s,a),a&1&&$(l,1)):(l=zt(s),l.c(),$(l,1),l.m(e.parentNode,e)):l&&(fe(),k(l,1,1,()=>{l=null}),ue())},i(s){n||($(l),n=!0)},o(s){k(l),n=!1},d(s){s&&H(e),l&&l.d(s)}}}function al(t,e,n){let{$$slots:l={},$$scope:s}=e,{isShown:a}=e,{title:i=void 0}=e,{submission:r=!1}=e,{disableOk:o=!1}=e;const c=ce(),f=()=>c("cancel"),u=()=>c("ok"),d=()=>c("cancel");return t.$$set=m=>{"isShown"in m&&n(0,a=m.isShown),"title"in m&&n(1,i=m.title),"submission"in m&&n(2,r=m.submission),"disableOk"in m&&n(3,o=m.disableOk),"$$scope"in m&&n(9,s=m.$$scope)},[a,i,r,o,c,l,f,u,d,s]}class Ie extends q{constructor(e){super(),W(this,e,al,il,B,{isShown:0,title:1,submission:2,disableOk:3})}}function Dt(t){let e,n;return{c(){e=b("span"),n=L(t[0]),h(e,"class","title svelte-1ecyomr")},m(l,s){S(l,e,s),p(e,n)},p(l,s){s&1&&ie(n,l[0])},d(l){l&&H(e)}}}function rl(t){let e;return{c(){e=L("−")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function Lt(t){let e,n;return{c(){e=L("/ "),n=L(t[2])},m(l,s){S(l,e,s),S(l,n,s)},p(l,s){s&4&&ie(n,l[2])},d(l){l&&(H(e),H(n))}}}function ol(t){let e;return{c(){e=L("+")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function cl(t){let e,n,l,s,a,i,r,o,c,f,u,d=t[0]&&Dt(t);s=new K({props:{disabled:t[1]===0,$$slots:{default:[rl]},$$scope:{ctx:t}}}),s.$on("click",t[5]);let m=!t[3]&&Lt(t);return f=new K({props:{disabled:t[1]===t[2],$$slots:{default:[ol]},$$scope:{ctx:t}}}),f.$on("click",t[6]),{c(){e=b("div"),d&&d.c(),n=C(),l=b("div"),T(s.$$.fragment),a=C(),i=b("div"),r=L(t[1]),o=C(),m&&m.c(),c=C(),T(f.$$.fragment),h(i,"class","current svelte-1ecyomr"),h(l,"class","controls svelte-1ecyomr"),h(e,"class","ability svelte-1ecyomr")},m(_,v){S(_,e,v),d&&d.m(e,null),p(e,n),p(e,l),A(s,l,null),p(l,a),p(l,i),p(i,r),p(i,o),m&&m.m(i,null),p(l,c),A(f,l,null),u=!0},p(_,[v]){_[0]?d?d.p(_,v):(d=Dt(_),d.c(),d.m(e,n)):d&&(d.d(1),d=null);const y={};v&2&&(y.disabled=_[1]===0),v&128&&(y.$$scope={dirty:v,ctx:_}),s.$set(y),(!u||v&2)&&ie(r,_[1]),_[3]?m&&(m.d(1),m=null):m?m.p(_,v):(m=Lt(_),m.c(),m.m(i,null));const g={};v&6&&(g.disabled=_[1]===_[2]),v&128&&(g.$$scope={dirty:v,ctx:_}),f.$set(g)},i(_){u||($(s.$$.fragment,_),$(f.$$.fragment,_),u=!0)},o(_){k(s.$$.fragment,_),k(f.$$.fragment,_),u=!1},d(_){_&&H(e),d&&d.d(),R(s),m&&m.d(),R(f)}}}function fl(t,e,n){let{title:l=""}=e,{value:s=0}=e,{maxValue:a=0}=e,{hideMaxValue:i=!1}=e;const r=ce(),o=()=>r("decrease"),c=()=>r("increase");return t.$$set=f=>{"title"in f&&n(0,l=f.title),"value"in f&&n(1,s=f.value),"maxValue"in f&&n(2,a=f.maxValue),"hideMaxValue"in f&&n(3,i=f.hideMaxValue)},[l,s,a,i,r,o,c]}class Xe extends q{constructor(e){super(),W(this,e,fl,cl,B,{title:0,value:1,maxValue:2,hideMaxValue:3})}}function jt(t,e,n){const l=t.slice();return l[20]=e[n],l[22]=n,l}function Et(t){let e;return{c(){e=b("div"),e.textContent="You have no scars",h(e,"class","item svelte-ug8e1t")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function ul(t){let e,n;return e=new K({props:{height:30,fontSize:"1rem",disabled:!0,$$slots:{default:[gl]},$$scope:{ctx:t}}}),{c(){T(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function dl(t){let e,n;function l(){return t[8](t[22])}return e=new K({props:{height:30,fontSize:"1rem",$$slots:{default:[hl]},$$scope:{ctx:t}}}),e.$on("click",l),{c(){T(e.$$.fragment)},m(s,a){A(e,s,a),n=!0},p(s,a){t=s;const i={};a&8388608&&(i.$$scope={dirty:a,ctx:t}),e.$set(i)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){k(e.$$.fragment,s),n=!1},d(s){R(e,s)}}}function gl(t){let e;return{c(){e=L("Resolved")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function hl(t){let e;return{c(){e=L("Resolve")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function Ft(t){let e,n=t[20].content+"",l,s,a,i,r,o;const c=[dl,ul],f=[];function u(d,m){return d[20].resolve?0:1}return a=u(t),i=f[a]=c[a](t),{c(){e=b("div"),l=L(n),s=C(),i.c(),r=C(),h(e,"class","item resolvable svelte-ug8e1t")},m(d,m){S(d,e,m),p(e,l),p(e,s),f[a].m(e,null),p(e,r),o=!0},p(d,m){(!o||m&16)&&n!==(n=d[20].content+"")&&ie(l,n);let _=a;a=u(d),a!==_&&(fe(),k(f[_],1,1,()=>{f[_]=null}),ue(),i=f[a],i||(i=f[a]=c[a](d),i.c()),$(i,1),i.m(e,r))},i(d){o||($(i),o=!0)},o(d){k(i),o=!1},d(d){d&&H(e),f[a].d()}}}function pl(t){let e;return{c(){e=L("Add scar")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function ml(t){let e;return{c(){e=L("Download character")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function _l(t){let e;return{c(){e=L("Delete character")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function $l(t){let e;return{c(){e=L(`Adding a scar is an irreversible action that enables you to advance your
    character. Have you consulted with the Warden to confirm that you can
    acquire a scar?`)},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function bl(t){let e,n,l;return n=new Xe({props:{value:t[3],maxValue:12,hideMaxValue:!0}}),n.$on("decrease",t[14]),n.$on("increase",t[15]),{c(){e=L(`How many damage points was taken?
    `),T(n.$$.fragment)},m(s,a){S(s,e,a),A(n,s,a),l=!0},p(s,a){const i={};a&8&&(i.value=s[3]),n.$set(i)},i(s){l||($(n.$$.fragment,s),l=!0)},o(s){k(n.$$.fragment,s),l=!1},d(s){s&&H(e),R(n,s)}}}function vl(t){let e;return{c(){e=L("Do you really want to delete this character?")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function kl(t){let e,n,l,s,a,i,r,o,c,f,u,d,m,_,v,y,g,z,I,D=t[4].length===0&&Et(),F=J(t[4]),j=[];for(let M=0;M<F.length;M+=1)j[M]=Ft(jt(t,F,M));const G=M=>k(j[M],1,1,()=>{j[M]=null});return o=new K({props:{padding:4,disabled:t[5].hp>0,$$slots:{default:[pl]},$$scope:{ctx:t}}}),o.$on("click",t[9]),f=new K({props:{padding:4,$$slots:{default:[ml]},$$scope:{ctx:t}}}),f.$on("click",t[10]),d=new K({props:{padding:4,$$slots:{default:[_l]},$$scope:{ctx:t}}}),d.$on("click",t[11]),_=new Ie({props:{isShown:t[1],$$slots:{default:[$l]},$$scope:{ctx:t}}}),_.$on("cancel",t[12]),_.$on("ok",t[13]),y=new Ie({props:{isShown:t[2],disableOk:t[3]===0,$$slots:{default:[bl]},$$scope:{ctx:t}}}),y.$on("cancel",t[16]),y.$on("ok",t[17]),z=new Ie({props:{isShown:t[0],$$slots:{default:[vl]},$$scope:{ctx:t}}}),z.$on("cancel",t[18]),z.$on("ok",t[19]),{c(){e=b("div"),n=b("span"),n.textContent="Scars history:",l=C(),s=b("div"),a=b("div"),D&&D.c(),i=C();for(let M=0;M<j.length;M+=1)j[M].c();r=C(),T(o.$$.fragment),c=C(),T(f.$$.fragment),u=C(),T(d.$$.fragment),m=C(),T(_.$$.fragment),v=C(),T(y.$$.fragment),g=C(),T(z.$$.fragment),h(n,"class","title svelte-ug8e1t"),h(a,"class","wrap svelte-ug8e1t"),h(s,"class","scars svelte-ug8e1t"),h(e,"class","menu svelte-ug8e1t")},m(M,w){S(M,e,w),p(e,n),p(e,l),p(e,s),p(s,a),D&&D.m(a,null),p(a,i);for(let N=0;N<j.length;N+=1)j[N]&&j[N].m(a,null);p(e,r),A(o,e,null),p(e,c),A(f,e,null),p(e,u),A(d,e,null),p(e,m),A(_,e,null),p(e,v),A(y,e,null),p(e,g),A(z,e,null),I=!0},p(M,[w]){if(M[4].length===0?D||(D=Et(),D.c(),D.m(a,i)):D&&(D.d(1),D=null),w&16){F=J(M[4]);let V;for(V=0;V<F.length;V+=1){const He=jt(M,F,V);j[V]?(j[V].p(He,w),$(j[V],1)):(j[V]=Ft(He),j[V].c(),$(j[V],1),j[V].m(a,null))}for(fe(),V=F.length;V<j.length;V+=1)G(V);ue()}const N={};w&32&&(N.disabled=M[5].hp>0),w&8388608&&(N.$$scope={dirty:w,ctx:M}),o.$set(N);const U={};w&8388608&&(U.$$scope={dirty:w,ctx:M}),f.$set(U);const he={};w&8388608&&(he.$$scope={dirty:w,ctx:M}),d.$set(he);const ne={};w&2&&(ne.isShown=M[1]),w&8388608&&(ne.$$scope={dirty:w,ctx:M}),_.$set(ne);const pe={};w&4&&(pe.isShown=M[2]),w&8&&(pe.disableOk=M[3]===0),w&8388616&&(pe.$$scope={dirty:w,ctx:M}),y.$set(pe);const me={};w&1&&(me.isShown=M[0]),w&8388608&&(me.$$scope={dirty:w,ctx:M}),z.$set(me)},i(M){if(!I){for(let w=0;w<F.length;w+=1)$(j[w]);$(o.$$.fragment,M),$(f.$$.fragment,M),$(d.$$.fragment,M),$(_.$$.fragment,M),$(y.$$.fragment,M),$(z.$$.fragment,M),I=!0}},o(M){j=j.filter(Boolean);for(let w=0;w<j.length;w+=1)k(j[w]);k(o.$$.fragment,M),k(f.$$.fragment,M),k(d.$$.fragment,M),k(_.$$.fragment,M),k(y.$$.fragment,M),k(z.$$.fragment,M),I=!1},d(M){M&&H(e),D&&D.d(),be(j,M),R(o),R(f),R(d),R(_),R(y),R(z)}}}function yl(t,e,n){let l,s;oe(t,x,G=>n(4,l=G)),oe(t,Z,G=>n(5,s=G));let a=!1,i=!1,r=!1,o=0;const c=()=>{x.add(o),n(2,r=!1),n(3,o=0)},f=()=>{_e.set(""),x.reset(),localStorage.removeItem("pc__character")};return[a,i,r,o,l,s,c,f,G=>x.resolve(G),()=>n(1,i=!0),()=>nl(),()=>n(0,a=!0),()=>n(1,i=!1),()=>{n(2,r=!0),n(1,i=!1)},()=>o>0?n(3,o-=1):n(3,o),()=>o<12?n(3,o+=1):n(3,o),()=>{n(2,r=!1),n(3,o=0)},()=>c(),()=>n(0,a=!1),()=>f()]}class wl extends q{constructor(e){super(),W(this,e,yl,kl,B,{})}}function Nt(t,e,n){const l=t.slice();return l[4]=e[n],l}function Bt(t){let e,n;function l(){return t[2](t[4])}function s(){return t[3](t[4])}return e=new Xe({props:{title:t[4],value:t[0][t[4]],maxValue:t[0][`${t[4]}Max`]}}),e.$on("decrease",l),e.$on("increase",s),{c(){T(e.$$.fragment)},m(a,i){A(e,a,i),n=!0},p(a,i){t=a;const r={};i&1&&(r.value=t[0][t[4]]),i&1&&(r.maxValue=t[0][`${t[4]}Max`]),e.$set(r)},i(a){n||($(e.$$.fragment,a),n=!0)},o(a){k(e.$$.fragment,a),n=!1},d(a){R(e,a)}}}function Hl(t){let e,n,l=J(t[1]),s=[];for(let i=0;i<l.length;i+=1)s[i]=Bt(Nt(t,l,i));const a=i=>k(s[i],1,1,()=>{s[i]=null});return{c(){e=b("div");for(let i=0;i<s.length;i+=1)s[i].c();h(e,"class","abilities svelte-pcinmc")},m(i,r){S(i,e,r);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);n=!0},p(i,[r]){if(r&3){l=J(i[1]);let o;for(o=0;o<l.length;o+=1){const c=Nt(i,l,o);s[o]?(s[o].p(c,r),$(s[o],1)):(s[o]=Bt(c),s[o].c(),$(s[o],1),s[o].m(e,null))}for(fe(),o=l.length;o<s.length;o+=1)a(o);ue()}},i(i){if(!n){for(let r=0;r<l.length;r+=1)$(s[r]);n=!0}},o(i){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)k(s[r]);n=!1},d(i){i&&H(e),be(s,i)}}}function Sl(t,e,n){let l;return oe(t,re,r=>n(0,l=r)),[l,["str","dex","wil"],r=>re.decrease(r),r=>re.increase(r)]}class Ml extends q{constructor(e){super(),W(this,e,Sl,Hl,B,{})}}function Cl(t){let e,n,l,s,a,i,r;return ee(t[5]),{c(){e=b("label"),n=b("input"),l=C(),s=b("span"),h(n,"type","checkbox"),n.checked=t[0],h(n,"class","svelte-8qpl5n"),h(s,"class","checkmark svelte-8qpl5n"),h(e,"ontouchstart",""),h(e,"class","checkbox svelte-8qpl5n"),h(e,"style",a=`width: ${t[2]}px;height: ${t[2]}px`)},m(o,c){S(o,e,c),p(e,n),p(e,l),p(e,s),i||(r=[X(window,"resize",t[5]),X(n,"change",t[6])],i=!0)},p(o,[c]){c&1&&(n.checked=o[0]),c&4&&a!==(a=`width: ${o[2]}px;height: ${o[2]}px`)&&h(e,"style",a)},i:E,o:E,d(o){o&&H(e),i=!1,te(r)}}}function Al(t,e,n){let l,{size:s=0}=e,{checked:a=!1}=e;const i=ce();let r;function o(){n(1,r=window.innerWidth)}const c=()=>i("change");return t.$$set=f=>{"size"in f&&n(4,s=f.size),"checked"in f&&n(0,a=f.checked)},t.$$.update=()=>{t.$$.dirty&18&&n(2,l=r>374?s:s*.75)},[a,r,l,i,s,o,c]}class rt extends q{constructor(e){super(),W(this,e,Al,Cl,B,{size:4,checked:0})}}function Rl(t){let e,n,l,s,a;return{c(){e=b("input"),h(e,"class","input svelte-1fwis61"),h(e,"placeholder",t[1]),h(e,"inputmode",n=t[3]?"decimal":"text"),h(e,"style",l=`
    border-bottom: ${t[2]?"1px solid var(--main)":"none"};
    ${t[4]&&"padding-right: "+t[4]}
  `)},m(i,r){S(i,e,r),We(e,t[0]),s||(a=[X(e,"input",t[6]),X(e,"input",t[7])],s=!0)},p(i,[r]){r&2&&h(e,"placeholder",i[1]),r&8&&n!==(n=i[3]?"decimal":"text")&&h(e,"inputmode",n),r&20&&l!==(l=`
    border-bottom: ${i[2]?"1px solid var(--main)":"none"};
    ${i[4]&&"padding-right: "+i[4]}
  `)&&h(e,"style",l),r&1&&e.value!==i[0]&&We(e,i[0])},i:E,o:E,d(i){i&&H(e),s=!1,te(a)}}}function Tl(t,e,n){let{value:l="0"}=e,{placeholder:s=""}=e,{border:a=!0}=e,{numbers:i=!1}=e,{paddingRight:r=""}=e;const o=ce();function c(){l=this.value,n(0,l),n(3,i)}const f=()=>o("input",l);return t.$$set=u=>{"value"in u&&n(0,l=u.value),"placeholder"in u&&n(1,s=u.placeholder),"border"in u&&n(2,a=u.border),"numbers"in u&&n(3,i=u.numbers),"paddingRight"in u&&n(4,r=u.paddingRight)},t.$$.update=()=>{t.$$.dirty&9&&n(0,l=i?l.replace(/[^0-9]/g,""):l)},[l,s,a,i,r,o,c,f]}class vt extends q{constructor(e){super(),W(this,e,Tl,Rl,B,{value:0,placeholder:1,border:2,numbers:3,paddingRight:4})}}function It(t,e,n){const l=t.slice();return l[5]=e[n],l[6]=e,l[7]=n,l}function Wt(t){let e,n,l,s,a,i,r,o;function c(){return t[1](t[5],t[6],t[7])}n=new rt({props:{size:20,checked:t[5].inHand}}),n.$on("change",c);function f(...d){return t[2](t[5],t[6],t[7],...d)}s=new vt({props:{placeholder:"Item",value:t[5].title,border:!1}}),s.$on("input",f);function u(){return t[3](t[5],t[6],t[7])}return i=new rt({props:{size:20,checked:t[5].fatigue}}),i.$on("change",u),{c(){e=b("div"),T(n.$$.fragment),l=C(),T(s.$$.fragment),a=C(),T(i.$$.fragment),r=C(),h(e,"class","item svelte-1volka6")},m(d,m){S(d,e,m),A(n,e,null),p(e,l),A(s,e,null),p(e,a),A(i,e,null),p(e,r),o=!0},p(d,m){t=d;const _={};m&1&&(_.checked=t[5].inHand),n.$set(_);const v={};m&1&&(v.value=t[5].title),s.$set(v);const y={};m&1&&(y.checked=t[5].fatigue),i.$set(y)},i(d){o||($(n.$$.fragment,d),$(s.$$.fragment,d),$(i.$$.fragment,d),o=!0)},o(d){k(n.$$.fragment,d),k(s.$$.fragment,d),k(i.$$.fragment,d),o=!1},d(d){d&&H(e),R(n),R(s),R(i)}}}function zl(t){let e,n,l,s,a,i=J(t[0]),r=[];for(let c=0;c<i.length;c+=1)r[c]=Wt(It(t,i,c));const o=c=>k(r[c],1,1,()=>{r[c]=null});return{c(){e=b("div"),n=b("div"),n.innerHTML='<span class="info svelte-1volka6">Hand</span> <span class="info svelte-1volka6">Fatigue</span>',l=C(),s=b("div");for(let c=0;c<r.length;c+=1)r[c].c();h(n,"class","heading svelte-1volka6"),h(s,"class","list svelte-1volka6"),h(e,"class","inventory svelte-1volka6")},m(c,f){S(c,e,f),p(e,n),p(e,l),p(e,s);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(s,null);a=!0},p(c,[f]){if(f&1){i=J(c[0]);let u;for(u=0;u<i.length;u+=1){const d=It(c,i,u);r[u]?(r[u].p(d,f),$(r[u],1)):(r[u]=Wt(d),r[u].c(),$(r[u],1),r[u].m(s,null))}for(fe(),u=i.length;u<r.length;u+=1)o(u);ue()}},i(c){if(!a){for(let f=0;f<i.length;f+=1)$(r[f]);a=!0}},o(c){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)k(r[f]);a=!1},d(c){c&&H(e),be(r,c)}}}function Pl(t,e,n){let l;oe(t,$e,o=>n(4,l=o));const s=l;return[s,(o,c,f)=>{n(0,c[f].inHand=!o.inHand,s),$e.change(s)},(o,c,f,u)=>{n(0,c[f].title=u.detail,s),$e.change(s)},(o,c,f)=>{n(0,c[f].fatigue=!o.fatigue,s),$e.change(s)}]}class Ol extends q{constructor(e){super(),W(this,e,Pl,zl,B,{})}}function Dl(t){let e,n,l,s,a,i,r,o,c,f;return n=new Xe({props:{title:"HP",value:t[0].hp,maxValue:t[0].hpMax}}),n.$on("decrease",Z.decreaseHp),n.$on("increase",Z.increaseHp),s=new Xe({props:{title:"Armor",value:t[0].armor,maxValue:9,hideMaxValue:!0}}),s.$on("decrease",Z.decreaseArmor),s.$on("increase",Z.increaceArmor),c=new rt({props:{size:40,checked:t[0].deprived}}),c.$on("change",Z.changeDeprived),{c(){e=b("div"),T(n.$$.fragment),l=C(),T(s.$$.fragment),a=C(),i=b("div"),r=b("span"),r.textContent="Deprived",o=C(),T(c.$$.fragment),h(r,"class","title svelte-1vgmhp6"),h(i,"class","deprived svelte-1vgmhp6"),h(e,"class","stats svelte-1vgmhp6")},m(u,d){S(u,e,d),A(n,e,null),p(e,l),A(s,e,null),p(e,a),p(e,i),p(i,r),p(i,o),A(c,i,null),f=!0},p(u,[d]){const m={};d&1&&(m.value=u[0].hp),d&1&&(m.maxValue=u[0].hpMax),n.$set(m);const _={};d&1&&(_.value=u[0].armor),s.$set(_);const v={};d&1&&(v.checked=u[0].deprived),c.$set(v)},i(u){f||($(n.$$.fragment,u),$(s.$$.fragment,u),$(c.$$.fragment,u),f=!0)},o(u){k(n.$$.fragment,u),k(s.$$.fragment,u),k(c.$$.fragment,u),f=!1},d(u){u&&H(e),R(n),R(s),R(c)}}}function Ll(t,e,n){let l;return oe(t,Z,s=>n(0,l=s)),[l]}class jl extends q{constructor(e){super(),W(this,e,Ll,Dl,B,{})}}function qt(t,e,n){const l=t.slice();return l[3]=e[n],l}function Vt(t){let e,n,l,s,a,i;function r(...o){return t[2](t[3],...o)}return s=new vt({props:{value:t[0][t[3]],numbers:!0}}),s.$on("input",r),{c(){e=b("div"),n=b("span"),n.textContent=`${t[3]}:`,l=C(),T(s.$$.fragment),a=C(),h(n,"class","currency svelte-34bm3u"),h(e,"class","item svelte-34bm3u")},m(o,c){S(o,e,c),p(e,n),p(e,l),A(s,e,null),p(e,a),i=!0},p(o,c){t=o;const f={};c&1&&(f.value=t[0][t[3]]),s.$set(f)},i(o){i||($(s.$$.fragment,o),i=!0)},o(o){k(s.$$.fragment,o),i=!1},d(o){o&&H(e),R(s)}}}function El(t){let e,n,l=J(t[1]),s=[];for(let i=0;i<l.length;i+=1)s[i]=Vt(qt(t,l,i));const a=i=>k(s[i],1,1,()=>{s[i]=null});return{c(){e=b("div");for(let i=0;i<s.length;i+=1)s[i].c();h(e,"class","coins svelte-34bm3u")},m(i,r){S(i,e,r);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);n=!0},p(i,[r]){if(r&3){l=J(i[1]);let o;for(o=0;o<l.length;o+=1){const c=qt(i,l,o);s[o]?(s[o].p(c,r),$(s[o],1)):(s[o]=Vt(c),s[o].c(),$(s[o],1),s[o].m(e,null))}for(fe(),o=l.length;o<s.length;o+=1)a(o);ue()}},i(i){if(!n){for(let r=0;r<l.length;r+=1)$(s[r]);n=!0}},o(i){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)k(s[r]);n=!1},d(i){i&&H(e),be(s,i)}}}function Fl(t,e,n){let l;return oe(t,we,i=>n(0,l=i)),[l,["gp","sp","cp"],(i,r)=>{we[i]=r.detail,we.change(i,r.detail)}]}class Nl extends q{constructor(e){super(),W(this,e,Fl,El,B,{})}}function Bl(t){let e,n,l;const s=t[2].default,a=ct(s,t,t[1],null);return{c(){e=b("section"),a&&a.c(),h(e,"class",n=ge(`section ${t[0]}`)+" svelte-1wj47wp")},m(i,r){S(i,e,r),a&&a.m(e,null),l=!0},p(i,[r]){a&&a.p&&(!l||r&2)&&ut(a,s,i,i[1],l?ft(s,i[1],r,null):dt(i[1]),null),(!l||r&1&&n!==(n=ge(`section ${i[0]}`)+" svelte-1wj47wp"))&&h(e,"class",n)},i(i){l||($(a,i),l=!0)},o(i){k(a,i),l=!1},d(i){i&&H(e),a&&a.d(i)}}}function Il(t,e,n){let{$$slots:l={},$$scope:s}=e,{position:a=""}=e;return t.$$set=i=>{"position"in i&&n(0,a=i.position),"$$scope"in i&&n(1,s=i.$$scope)},[a,s,l]}class Fe extends q{constructor(e){super(),W(this,e,Il,Bl,B,{position:0})}}function Wl(t){let e,n;return e=new Ml({}),{c(){T(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function ql(t){let e,n;return e=new jl({}),{c(){T(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Vl(t){let e,n;return e=new Nl({}),{c(){T(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Gl(t){let e,n;return e=new Ol({}),{c(){T(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Yl(t){let e,n,l,s,a,i,r,o,c;return n=new Fe({props:{position:"first",$$slots:{default:[Wl]},$$scope:{ctx:t}}}),s=new Fe({props:{$$slots:{default:[ql]},$$scope:{ctx:t}}}),i=new Fe({props:{$$slots:{default:[Vl]},$$scope:{ctx:t}}}),o=new Fe({props:{position:"last",$$slots:{default:[Gl]},$$scope:{ctx:t}}}),{c(){e=b("div"),T(n.$$.fragment),l=C(),T(s.$$.fragment),a=C(),T(i.$$.fragment),r=C(),T(o.$$.fragment),h(e,"class","sheet svelte-m6gaop")},m(f,u){S(f,e,u),A(n,e,null),p(e,l),A(s,e,null),p(e,a),A(i,e,null),p(e,r),A(o,e,null),c=!0},p(f,[u]){const d={};u&1&&(d.$$scope={dirty:u,ctx:f}),n.$set(d);const m={};u&1&&(m.$$scope={dirty:u,ctx:f}),s.$set(m);const _={};u&1&&(_.$$scope={dirty:u,ctx:f}),i.$set(_);const v={};u&1&&(v.$$scope={dirty:u,ctx:f}),o.$set(v)},i(f){c||($(n.$$.fragment,f),$(s.$$.fragment,f),$(i.$$.fragment,f),$(o.$$.fragment,f),c=!0)},o(f){k(n.$$.fragment,f),k(s.$$.fragment,f),k(i.$$.fragment,f),k(o.$$.fragment,f),c=!1},d(f){f&&H(e),R(n),R(s),R(i),R(o)}}}class Jl extends q{constructor(e){super(),W(this,e,null,Yl,B,{})}}const Gt="/pocket-cairn/assets/settings-8bd1b2da.svg",Yt="/pocket-cairn/assets/notes-058e4448.svg",Ne="/pocket-cairn/assets/cross-5d728ea7.svg";function Ul(t){let e,n,l=t[0]+`
`,s,a,i,r,o,c;return{c(){e=b("div"),n=b("pre"),s=L(l),a=L(`
  `),i=C(),r=b("textarea"),h(n,"class","pre svelte-19rvjtd"),h(n,"aria-hidden","true"),Ee(n,"min-height",t[2]),Ee(n,"max-height",t[1]),h(r,"class","textarea svelte-19rvjtd"),h(e,"class","container svelte-19rvjtd")},m(f,u){S(f,e,u),p(e,n),p(n,s),p(n,a),p(e,i),p(e,r),We(r,t[0]),o||(c=[X(r,"input",t[6]),X(r,"input",t[7])],o=!0)},p(f,[u]){u&1&&l!==(l=f[0]+`
`)&&ie(s,l),u&4&&Ee(n,"min-height",f[2]),u&2&&Ee(n,"max-height",f[1]),u&1&&We(r,f[0])},i:E,o:E,d(f){f&&H(e),o=!1,te(c)}}}function Kl(t,e,n){let l,s,{value:a=""}=e,{minRows:i=14}=e,{maxRows:r=36}=e;const o=ce();function c(){a=this.value,n(0,a)}const f=()=>o("input",a);return t.$$set=u=>{"value"in u&&n(0,a=u.value),"minRows"in u&&n(4,i=u.minRows),"maxRows"in u&&n(5,r=u.maxRows)},t.$$.update=()=>{t.$$.dirty&16&&n(2,l=`${1+i*1.2}em`),t.$$.dirty&32&&n(1,s=r?`${1+r*1.2}em`:"auto")},[a,s,l,o,i,r,c,f]}class Xl extends q{constructor(e){super(),W(this,e,Kl,Ul,B,{value:0,minRows:4,maxRows:5})}}function Ql(t){let e,n,l,s,a,i,r;return i=new Xl({props:{value:t[0]}}),i.$on("input",t[1]),{c(){e=b("div"),n=b("span"),n.textContent="Notes:",l=C(),s=b("div"),a=b("div"),T(i.$$.fragment),h(n,"class","title svelte-4qvuv"),h(a,"class","wrap svelte-4qvuv"),h(s,"class","content svelte-4qvuv"),h(e,"class","notes svelte-4qvuv")},m(o,c){S(o,e,c),p(e,n),p(e,l),p(e,s),p(s,a),A(i,a,null),r=!0},p(o,[c]){const f={};c&1&&(f.value=o[0]),i.$set(f)},i(o){r||($(i.$$.fragment,o),r=!0)},o(o){k(i.$$.fragment,o),r=!1},d(o){o&&H(e),R(i)}}}function Zl(t,e,n){let l;return oe(t,Le,a=>n(0,l=a)),[l,a=>Le.change(a.detail)]}class xl extends q{constructor(e){super(),W(this,e,Zl,Ql,B,{})}}function es(t){let e,n,l,s,a,i,r,o,c,f,u,d,m,_,v,y,g,z,I,D,F,j,G,M;return l=new K({props:{borderless:!0,image:t[1]?Ne:Yt,alt:"notes",disabled:t[0]}}),l.$on("click",t[4]),f=new K({props:{borderless:!0,image:t[0]?Ne:Gt,alt:"settings",disabled:t[1]}}),f.$on("click",t[5]),m=new xl({}),v=new Jl({}),g=new wl({}),F=new Vn({}),{c(){e=b("div"),n=b("div"),T(l.$$.fragment),s=C(),a=b("div"),i=b("div"),r=b("h2"),o=L(t[3]),c=C(),T(f.$$.fragment),u=C(),d=b("div"),T(m.$$.fragment),_=C(),T(v.$$.fragment),y=C(),T(g.$$.fragment),I=C(),D=b("footer"),T(F.$$.fragment),h(r,"class","text svelte-pzbrdw"),h(i,"class","wrap svelte-pzbrdw"),h(a,"class","name svelte-pzbrdw"),h(n,"class","header svelte-pzbrdw"),h(d,"class","main svelte-pzbrdw"),h(d,"style",z=`left: ${t[2]()}`),h(D,"class","footer svelte-pzbrdw"),h(e,"class","character svelte-pzbrdw")},m(w,N){S(w,e,N),p(e,n),A(l,n,null),p(n,s),p(n,a),p(a,i),p(i,r),p(r,o),p(n,c),A(f,n,null),p(e,u),p(e,d),A(m,d,null),p(d,_),A(v,d,null),p(d,y),A(g,d,null),p(e,I),p(e,D),A(F,D,null),M=!0},p(w,[N]){const U={};N&2&&(U.image=w[1]?Ne:Yt),N&1&&(U.disabled=w[0]),l.$set(U),(!M||N&8)&&ie(o,w[3]);const he={};N&1&&(he.image=w[0]?Ne:Gt),N&2&&(he.disabled=w[1]),f.$set(he),(!M||N&4&&z!==(z=`left: ${w[2]()}`))&&h(d,"style",z)},i(w){M||($(l.$$.fragment,w),$(f.$$.fragment,w),$(m.$$.fragment,w),$(v.$$.fragment,w),$(g.$$.fragment,w),$(F.$$.fragment,w),w&&ee(()=>{M&&(G&&G.end(1),j=xe(e,Te,{delay:200,duration:200}),j.start())}),M=!0)},o(w){k(l.$$.fragment,w),k(f.$$.fragment,w),k(m.$$.fragment,w),k(v.$$.fragment,w),k(g.$$.fragment,w),k(F.$$.fragment,w),j&&j.invalidate(),w&&(G=$t(e,Te,{duration:200})),M=!1},d(w){w&&H(e),R(l),R(f),R(m),R(v),R(g),R(F),w&&G&&G.end()}}}function ts(t,e,n){let l,s;oe(t,_e,c=>n(3,s=c));let a=!1,i=!1;const r=()=>n(1,i=!i),o=()=>n(0,a=!a);return t.$$.update=()=>{t.$$.dirty&3&&n(2,l=()=>a?"-200%":i?"0":"-100%")},[a,i,l,s,r,o]}class ns extends q{constructor(e){super(),W(this,e,ts,es,B,{})}}const vn=t=>{const e=bt();let n=!0;return Object.keys(e).forEach(l=>{Object.keys(t).includes(l)||(console.log(e,t),n=!1)}),n},ls=t=>{if(t.target){const e=new FileReader;e.onload=()=>{if(e.result){const l=JSON.parse(e.result);vn(l)&&(_e.set(l.name),re.set(l.abilities),Z.set(l.stats),we.set(l.coins),$e.set(l.inventory),x.set(l.scars))}};const n=t.target.files;n&&e.readAsText(n[0])}};function ss(t){let e,n,l,s,a,i;return{c(){e=b("div"),n=b("input"),l=C(),s=b("label"),s.textContent="Upload the character",h(n,"id","upload"),h(n,"type","file"),h(n,"class","input svelte-16cchwi"),h(s,"ontouchstart",""),h(s,"for","upload"),h(s,"class","label svelte-16cchwi"),h(e,"class","file svelte-16cchwi")},m(r,o){S(r,e,o),p(e,n),p(e,l),p(e,s),a||(i=X(n,"change",t[1]),a=!0)},p:E,i:E,o:E,d(r){r&&H(e),a=!1,i()}}}function is(t){const e=ce();return[e,l=>e("change",l)]}class as extends q{constructor(e){super(),W(this,e,is,ss,B,{})}}function rs(t){let e;return{c(){e=L("Roll a character")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function os(t){let e;return{c(){e=L("Wrong file type or json structure")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function cs(t){let e,n,l,s,a,i,r;return n=new K({props:{$$slots:{default:[rs]},$$scope:{ctx:t}}}),n.$on("click",t[3]),s=new as({}),s.$on("change",t[4]),i=new Ie({props:{submission:!0,isShown:t[0],$$slots:{default:[os]},$$scope:{ctx:t}}}),i.$on("cancel",t[5]),{c(){e=b("div"),T(n.$$.fragment),l=C(),T(s.$$.fragment),a=C(),T(i.$$.fragment),h(e,"class","menu svelte-1ykn2qf")},m(o,c){S(o,e,c),A(n,e,null),p(e,l),A(s,e,null),S(o,a,c),A(i,o,c),r=!0},p(o,[c]){const f={};c&128&&(f.$$scope={dirty:c,ctx:o}),n.$set(f);const u={};c&1&&(u.isShown=o[0]),c&128&&(u.$$scope={dirty:c,ctx:o}),i.$set(u)},i(o){r||($(n.$$.fragment,o),$(s.$$.fragment,o),$(i.$$.fragment,o),r=!0)},o(o){k(n.$$.fragment,o),k(s.$$.fragment,o),k(i.$$.fragment,o),r=!1},d(o){o&&(H(e),H(a)),R(n),R(s),R(i,o)}}}function fs(t,e,n){let l;oe(t,_e,f=>n(6,l=f));const s=ce();let a=!1;const i=f=>{ls(f.detail),l.length||n(0,a=!0)};return[a,s,i,()=>s("show-form"),f=>i(f),()=>n(0,a=!1)]}class us extends q{constructor(e){super(),W(this,e,fs,cs,B,{})}}const ds="/pocket-cairn/assets/Inventory-c55900a0.png";function gs(t){let e,n,l,s,a,i,r;return s=new us({}),s.$on("show-form",t[1]),{c(){e=b("div"),n=b("div"),n.innerHTML=`<h1 class="title svelte-1kr81t3">Pocket Cairn
      <span class="version svelte-1kr81t3">v.1.03</span></h1> <img class="image svelte-1kr81t3" src="${ds}" alt="inventory"/> <span class="info svelte-1kr81t3">Cairn is a game created by
      <a href="https://newschoolrevolution.com" target="_blank" class="svelte-1kr81t3">Yochai Gal</a><br/>
      Official game page:
      <a href="https://cairnrpg.com" target="_blank" class="svelte-1kr81t3">cairnrpg.com</a><br/>
      Watch the video guide
      <a href="https://youtu.be/jrlL-aNhzeg" target="_blank" class="svelte-1kr81t3">YouTube</a><br/>
      Read the instructions on
      <a href="https://github.com/BrightsDays/pocket-cairn" target="_blank" class="svelte-1kr81t3">GitHub</a><br/>
      Application by
      <a href="https://brightsdays.github.io" target="_blank" class="svelte-1kr81t3">brightsdays</a></span>`,l=C(),T(s.$$.fragment),h(n,"class","header svelte-1kr81t3"),h(e,"class","creation svelte-1kr81t3")},m(o,c){S(o,e,c),p(e,n),p(e,l),A(s,e,null),r=!0},p:E,i(o){r||($(s.$$.fragment,o),o&&ee(()=>{r&&(i&&i.end(1),a=xe(e,Te,{delay:200,duration:200}),a.start())}),r=!0)},o(o){k(s.$$.fragment,o),a&&a.invalidate(),o&&(i=$t(e,Te,{duration:200})),r=!1},d(o){o&&H(e),R(s),o&&i&&i.end()}}}function hs(t){const e=ce();return[e,()=>e("show-form")]}class ps extends q{constructor(e){super(),W(this,e,hs,gs,B,{})}}const ot=["","Adhere","Earthquake","Masquerade","Smoke Form","Anchor","Elasticity","Miniaturize","Sniff","Animate Object","Elemental Wall","Mirror Image","Snuff","Anthropomorphize","Filch","Mirrorwalk","Sort","Arcane Eye","Flare","Multiarm","Spectacle","Astral Prison","Fog Cloud","Night Sphere","Spellsaw","Attract","Frenzy","Objectify","Spider Climb","Auditory Illusion","Gate","Ooze Form","Summon Cube","Babble","Gravity Shift","Pacify","Swarm","Bait Flower","Greed","Phobia","Telekinesis","Beast Form","Haste","Pit","Telepathy","Befuddle","Hatred","Primal Surge","Teleport","Body Swap","Hear Whispers","Push/Pull","Target Lure","Charm","Hover","Raise Dead","Thicket","Command","Hypnotize","Raise Spirit","Summon Idol","Comprehend","Icy Touch","Read Mind","Time Control","Cone of Foam","Identify Owner","Repel","True Sight","Control Plants","Illuminate","Scry","Upwell","Control Weather","Invisible Tether","Sculpt Elements","Vision","Cure Wounds","Knock","Sense","Visual Illusion","Deafen","Leap","Shield","Ward","Detect Magic","Liquid Air","Shroud","Web","Disassemble","Magic Dampener","Shuffle","Widget","Disguise","Manse","Sleep","Wizard Mark","Displace","Marble Craze","Slick	100	X-Ray Vision"],Jt=()=>{const t=[""];for(let e=1;e<=20;e++)e<=3?t.push(""):e<=14?t.push("Brigandine (1 Armor, bulky)"):e<=19?t.push("Chainmail (2 Armor, bulky)"):t.push("Plate (3 Armor, bulky)");return t},ms=()=>{const t=[""];for(let e=1;e<=20;e++)e<=13?t.push(""):e<=16?t.push("Helmet (+1 Armor)"):e<=19?t.push("Shield (+1 Armor)"):t.push("both");return t},Ut=()=>{const t=[""];for(let e=1;e<=20;e++)e<=5?t.push("Dagger/Cudgel/Staff  (d6 damage)"):e<=14?t.push("Sword/Mace/Axe (d8 damage)"):e<=16?t.push("Sling (d4 damage)"):e<=18?t.push("Bow (d6 damage, bulky)"):e<=19?t.push("Crossbow (d8 damage, bulky)"):t.push("Halberd/War Hammer/Battleaxe  (d10 damage, bulky)");return t},Kt=["","Air Bladder","Fire Oil","Manacles","Rope (25ft)","Antitoxin","Grappling Hook","Pick","Spirit Ward","Cart (+4 slots, bulky)","Large Sack","Pole (10ft)","Spyglass","Chain (10ft)","Large Trap","Pulley","Tinderbox","Dowsing Rod","Lockpicks","Repellent","Wolfsbane"],Xt=["","Bellows","Cook Pots","Grease","Net","Bucket","Crowbar","Hammer","Saw","Caltrops","Drill (Manual)","Hour Glass","Sealant","Chalk","Fishing Rod","Metal File","Shovel","Chisel","Glue","Nails","Tongs"],Qt=["","Bottle","Horn","Mirror","Soap","Card Deck","Incense","Perfume","Sponge","Dice Set","Instrument","Quill & Ink","Tar Pot","Face Paint","Lens","Salt Pack","Twine","Fake Jewels","Marbles","Small Bell","Whistle"],_s=()=>{const t=ms()[P(1,20)],e=l=>l<=3?Xt[P(1,20)]:l<=5?Qt[P(1,20)]:l<=13?Kt[P(1,20)]:l<=15?Jt()[P(1,20)]:l<=17?Ut()[P(1,20)]:`Spellbook (${ot[P(1,100)]})`;return[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:Jt()[P(1,20)],inHand:!1,fatigue:!1},{title:Ut()[P(1,20)],inHand:!1,fatigue:!1},{title:t==="both"?"Helmet (+1 Armor)":t,inHand:!1,fatigue:!1},{title:t==="both"?"Shield (+1 Armor)":"",inHand:!1,fatigue:!1},{title:Kt[P(1,20)],inHand:!1,fatigue:!1},{title:Xt[P(1,20)],inHand:!1,fatigue:!1},{title:Qt[P(1,20)],inHand:!1,fatigue:!1},{title:e(P(1,20)),inHand:!1,fatigue:!1}].sort((l,s)=>l.title>s.title?-1:1)};function Zt(t,e,n){const l=t.slice();return l[8]=e[n],l}function xt(t){let e,n,l,s,a,i,r=J(t[0]),o=[];for(let c=0;c<r.length;c+=1)o[c]=en(Zt(t,r,c));return{c(){e=b("div");for(let c=0;c<o.length;c+=1)o[c].c();h(e,"class","list svelte-1lvg6px"),h(e,"style",n=`top: -${t[0].length/2*25}%`)},m(c,f){S(c,e,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);s=!0,a||(i=[fn(bn.call(null,e)),X(e,"click_outside",t[6])],a=!0)},p(c,f){if(f&9){r=J(c[0]);let u;for(u=0;u<r.length;u+=1){const d=Zt(c,r,u);o[u]?o[u].p(d,f):(o[u]=en(d),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}(!s||f&1&&n!==(n=`top: -${c[0].length/2*25}%`))&&h(e,"style",n)},i(c){s||(c&&ee(()=>{s&&(l||(l=Je(e,Ke,{delay:100,duration:200,easing:Ue,axis:"y"},!0)),l.run(1))}),s=!0)},o(c){c&&(l||(l=Je(e,Ke,{delay:100,duration:200,easing:Ue,axis:"y"},!1)),l.run(0)),s=!1},d(c){c&&H(e),be(o,c),c&&l&&l.end(),a=!1,te(i)}}}function en(t){let e,n=t[8]+"",l,s,a,i;function r(){return t[5](t[8])}return{c(){e=b("button"),l=L(n),s=C(),h(e,"class","item svelte-1lvg6px")},m(o,c){S(o,e,c),p(e,l),p(e,s),a||(i=X(e,"click",r),a=!0)},p(o,c){t=o,c&1&&n!==(n=t[8]+"")&&ie(l,n)},d(o){o&&H(e),a=!1,i()}}}function $s(t){let e,n,l,s,a,i,r=t[2]&&xt(t);return{c(){e=b("div"),n=b("button"),l=L(t[1]),s=C(),r&&r.c(),h(n,"ontouchstart",""),h(n,"class","select svelte-1lvg6px"),h(e,"class","input svelte-1lvg6px")},m(o,c){S(o,e,c),p(e,n),p(n,l),p(e,s),r&&r.m(e,null),a||(i=X(n,"click",t[4]),a=!0)},p(o,[c]){c&2&&ie(l,o[1]),o[2]?r?(r.p(o,c),c&4&&$(r,1)):(r=xt(o),r.c(),$(r,1),r.m(e,null)):r&&(fe(),k(r,1,1,()=>{r=null}),ue())},i(o){$(r)},o(o){k(r)},d(o){o&&H(e),r&&r.d(),a=!1,i()}}}function bs(t,e,n){let{options:l=[""]}=e,{value:s}=e;const a=ce();let i=!1;const r=u=>{n(2,i=!1),a("select",u)},o=()=>n(2,i=!0),c=u=>r(u),f=()=>n(2,i=!1);return t.$$set=u=>{"options"in u&&n(0,l=u.options),"value"in u&&n(1,s=u.value)},[l,s,i,r,o,c,f]}class vs extends q{constructor(e){super(),W(this,e,bs,$s,B,{options:0,value:1})}}const Qe=()=>[{title:"Cleric",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"War Hammer (d10, bulky)",inHand:!1,fatigue:!1},{title:"Chainmail (2 Armor, bulky)",inHand:!1,fatigue:!1},{title:"Gauntlets (+1 Armor)",inHand:!1,fatigue:!1},{title:"Cleansing Blade (d6)",inHand:!1,fatigue:!1},{title:"Holy Symbol (Ward once per day)",inHand:!1,fatigue:!1},{title:"Cloak of the Order",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Dowser",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Sickle (d6)",inHand:!1,fatigue:!1},{title:"Patchwork Doublet (+1 Armor)",inHand:!1,fatigue:!1},{title:"Dowsing Rod",inHand:!1,fatigue:!1},{title:"Eyestone (Sense if placed in fresh water)",inHand:!1,fatigue:!1},{title:"Worn Map",inHand:!1,fatigue:!1},{title:"Spyglass",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Dwarf",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Prickly Root (d6)",inHand:!1,fatigue:!1},{title:"Pinecone Lattice (1 Armor)",inHand:!1,fatigue:!1},{title:"Trowel",inHand:!1,fatigue:!1},{title:"Jar of Forest Ants",inHand:!1,fatigue:!1},{title:"Poisonous mushroom",inHand:!1,fatigue:!1},{title:"Hand Drill",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Elf",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Elegant Sword (d8)",inHand:!1,fatigue:!1},{title:"Recurve Bow (d8)",inHand:!1,fatigue:!1},{title:"Gilt Clothing (1 Armor)",inHand:!1,fatigue:!1},{title:"Spellbook (Detect Magic)",inHand:!1,fatigue:!1},{title:"Golden Flute",inHand:!1,fatigue:!1},{title:"Air Bladder",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Fighter",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Glaive (d10, bulky)",inHand:!1,fatigue:!1},{title:"Scimitar (d8)",inHand:!1,fatigue:!1},{title:"Shortsword (d6)",inHand:!1,fatigue:!1},{title:"Shortsword (d6)",inHand:!1,fatigue:!1},{title:"Tobacco Pouch & Pipe",inHand:!1,fatigue:!1},{title:"Dice Set",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Friar",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Scepter (d6)",inHand:!1,fatigue:!1},{title:"Deceptive Robes (+1 Armor)",inHand:!1,fatigue:!1},{title:"Censer & Holy Water",inHand:!1,fatigue:!1},{title:"Jug of Honey Wine",inHand:!1,fatigue:!1},{title:"Folk Songbook",inHand:!1,fatigue:!1},{title:"Cart (+4 slots, bulky)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Knight",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Longsword (d10, bulky)",inHand:!1,fatigue:!1},{title:"Chainmail (2 Armor, bulky)",inHand:!1,fatigue:!1},{title:"Helmet (+1 Armor)",inHand:!1,fatigue:!1},{title:"Heraldic Cape",inHand:!1,fatigue:!1},{title:"Manacles",inHand:!1,fatigue:!1},{title:"Fine Rope",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Magic User",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Fizzled Staff (d8, bulky)",inHand:!1,fatigue:!1},{title:"Dagger (d6)",inHand:!1,fatigue:!1},{title:`Spellbook (${ot[P(1,100)]})`,inHand:!1,fatigue:!1},{title:`Spellbook (${ot[P(1,100)]})`,inHand:!1,fatigue:!1},{title:"Ragged Clothing (hidden pockets)",inHand:!1,fatigue:!1},{title:"Leycap (x2, see Relics)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Thief",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Two daggers (d6+d6)",inHand:!1,fatigue:!1},{title:"Hooded Jerkin (1 Armor)",inHand:!1,fatigue:!1},{title:"Lockpicks",inHand:!1,fatigue:!1},{title:"Caltrops",inHand:!1,fatigue:!1},{title:"Grappling Hook",inHand:!1,fatigue:!1},{title:"Metal File",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Ranger",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Longbow (d8, bulky)",inHand:!1,fatigue:!1},{title:"Hatchet (d6)",inHand:!1,fatigue:!1},{title:"Padded Leathers (1 Armor)",inHand:!1,fatigue:!1},{title:"Large Trap",inHand:!1,fatigue:!1},{title:"Bloodhound | 2 HP, 12 DEX, bite (d6)",inHand:!1,fatigue:!1},{title:"Thundering Horn",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]}],ks=["","Arwel","Breglor","Grinwit","Melnax","Bevan","Canhoreal","Gruwid","Orthax","Boroth","Emrys","Gruwth","Triunein","Borrid","Ethex","Gwestin","Wenlan","Breagle","Gringle","Mannog","Yirmeor"],ys=["","Agune","Drelil","Lirann","Sybil","Beatrice","Elgile","Lirathil","Theune","Breagan","Esme","Lisabeth","Wenain","Bronwyn","Griya","Moralil","Ygwal","Cannora","Henaine","Morgwen","Yslen"],ws=["","Abernathy","Crumwaller","Harper","Swinney","Addercap","Dunswallow","Loomer","Thatcher","Burl","Getri","Malksmilk","Tolmen","Candlewick","Glass","Smythe","Weaver","Cormick","Harkness","Sunderman","Wolder"],Hs=["","alchemist","cleric","magician","performer","blacksmith","gambler","mercenary","pickpocket","burglar","gravedigger","merchant","smuggler","butcher","herbalist","miner","servant","carpenter","hunter","outlaw","ranger"],Ss=["","athletic","scrawny","brawny","short","flabby","statuesque","lanky","stout","rugged","towering"],Ms=["","birthmark","round","dark","soft","elongated","tanned","pockmarked","tattooed","rosy","weathered"],Cs=["","bald","long","braided","luxurious","curly","oily","filthy","wavy","frizzy","wispy"],As=["","bony","perfect","broken","rat-like","chiseled","sharp","elongated","square","pale","sunken"],Rs=["","blunt","gravelly","booming","precise","cryptic","squeaky","droning","stuttering","formal","whispery"],Ts=["","antique","frayed","bloody","frumpy","elegant","livery","filthy","rancid","foreign","soiled"],zs=["","ambitious","honorable","cautious","humble","courageous","merciful","disciplined","serene","gregarious","tolerant"],Ps=["","aggressive","lazy","bitter","nervous","craven","rude","deceitful","vain","greedy","vengeful"],Os=["","ambitious","loafer","boor","oddball","dangerous","repulsive","entertainer","respected","honest","wise"],Ds=["","abandoned","defrauded","addicted","demoted","blackmailed","discredited","condemned","disowned","cursed","exiled"],Ls="/pocket-cairn/assets/dice-9509d5d1.svg";function tn(t,e,n){const l=t.slice();return l[14]=e[n],l}function nn(t,e,n){const l=t.slice();return l[17]=e[n],l}function ln(t){let e,n,l,s=t[0][t[17]]+"",a,i,r,o,c;function f(){return t[9](t[17])}return{c(){e=b("button"),n=L(t[17]),l=L(": "),a=L(s),h(e,"ontouchstart",""),e.disabled=i=!t[2].includes(t[17])&&t[2].length>=2,h(e,"class",r=ge(`item${t[2].includes(t[17])?" selected":""}`)+" svelte-1nkfjpp")},m(u,d){S(u,e,d),p(e,n),p(e,l),p(e,a),o||(c=X(e,"click",f),o=!0)},p(u,d){t=u,d&1&&s!==(s=t[0][t[17]]+"")&&ie(a,s),d&4&&i!==(i=!t[2].includes(t[17])&&t[2].length>=2)&&(e.disabled=i),d&4&&r!==(r=ge(`item${t[2].includes(t[17])?" selected":""}`)+" svelte-1nkfjpp")&&h(e,"class",r)},d(u){u&&H(e),o=!1,c()}}}function sn(t){let e,n=J(Qe().find(t[11]).inventory),l=[];for(let s=0;s<n.length;s+=1)l[s]=rn(tn(t,n,s));return{c(){e=b("div");for(let s=0;s<l.length;s+=1)l[s].c();h(e,"class","items-list")},m(s,a){S(s,e,a);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(s,a){if(a&2){n=J(Qe().find(s[11]).inventory);let i;for(i=0;i<n.length;i+=1){const r=tn(s,n,i);l[i]?l[i].p(r,a):(l[i]=rn(r),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(s){s&&H(e),be(l,s)}}}function an(t){let e,n=t[14].title+"",l;return{c(){e=b("span"),l=L(n),h(e,"class","item svelte-1nkfjpp")},m(s,a){S(s,e,a),p(e,l)},p(s,a){a&2&&n!==(n=s[14].title+"")&&ie(l,n)},d(s){s&&H(e)}}}function rn(t){let e,n=t[14].title&&an(t);return{c(){n&&n.c(),e=hn()},m(l,s){n&&n.m(l,s),S(l,e,s)},p(l,s){l[14].title?n?n.p(l,s):(n=an(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(l){l&&H(e),n&&n.d(l)}}}function js(t){let e;return{c(){e=L("Back")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function Es(t){let e;return{c(){e=L("Save")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function Fs(t){let e,n,l,s,a,i,r,o,c,f,u,d,m,_,v,y,g,z,I,D,F,j,G,M,w,N,U,he,ne,pe,me,V;a=new vt({props:{value:t[0].name,placeholder:"Name",paddingRight:"45px"}}),a.$on("input",t[8]),o=new K({props:{borderless:!0,image:Ls,height:25}}),o.$on("click",t[5]);let He=J(["str","dex","wil"]),ae=[];for(let O=0;O<3;O+=1)ae[O]=ln(nn(t,He,O));F=new vs({props:{options:t[4],value:t[1]}}),F.$on("select",t[10]);let Q=t[1]!=="random"&&sn(t);return U=new K({props:{$$slots:{default:[js]},$$scope:{ctx:t}}}),U.$on("click",t[12]),ne=new K({props:{disabled:!t[0].name,$$slots:{default:[Es]},$$scope:{ctx:t}}}),ne.$on("click",t[13]),{c(){e=b("div"),n=b("h2"),n.textContent="Create a character",l=C(),s=b("div"),T(a.$$.fragment),i=C(),r=b("div"),T(o.$$.fragment),c=C(),f=b("section"),u=b("div"),u.innerHTML='<span class="text svelte-1nkfjpp">Stats</span>',d=C(),m=b("div");for(let O=0;O<3;O+=1)ae[O].c();_=C(),v=b("span"),v.textContent=`You can swap two of your stats by selecting or deselecting them with a
        click, and the change will take effect after character creation.`,y=C(),g=b("section"),z=b("div"),z.innerHTML='<span class="text svelte-1nkfjpp">Starting gear</span>',I=C(),D=b("div"),T(F.$$.fragment),j=C(),G=b("span"),G.textContent=`You can use randomly generated starting gear or choose one of the
        starting packages.`,M=C(),Q&&Q.c(),w=C(),N=b("div"),T(U.$$.fragment),he=C(),T(ne.$$.fragment),h(n,"class","title svelte-1nkfjpp"),h(r,"class","dice svelte-1nkfjpp"),h(s,"class","name svelte-1nkfjpp"),h(u,"class","heading svelte-1nkfjpp"),h(v,"class","info svelte-1nkfjpp"),h(m,"class","stats svelte-1nkfjpp"),h(f,"class","wrap svelte-1nkfjpp"),h(z,"class","heading svelte-1nkfjpp"),h(G,"class","info svelte-1nkfjpp"),h(D,"class","inventory svelte-1nkfjpp"),h(g,"class","wrap svelte-1nkfjpp"),h(N,"class","controls svelte-1nkfjpp"),h(e,"class","form svelte-1nkfjpp")},m(O,le){S(O,e,le),p(e,n),p(e,l),p(e,s),A(a,s,null),p(s,i),p(s,r),A(o,r,null),p(e,c),p(e,f),p(f,u),p(f,d),p(f,m);for(let ke=0;ke<3;ke+=1)ae[ke]&&ae[ke].m(m,null);p(m,_),p(m,v),p(e,y),p(e,g),p(g,z),p(g,I),p(g,D),A(F,D,null),p(D,j),p(D,G),p(D,M),Q&&Q.m(D,null),p(e,w),p(e,N),A(U,N,null),p(N,he),A(ne,N,null),V=!0},p(O,[le]){const ke={};if(le&1&&(ke.value=O[0].name),a.$set(ke),le&69){He=J(["str","dex","wil"]);let se;for(se=0;se<3;se+=1){const wt=nn(O,He,se);ae[se]?ae[se].p(wt,le):(ae[se]=ln(wt),ae[se].c(),ae[se].m(m,_))}for(;se<3;se+=1)ae[se].d(1)}const kt={};le&2&&(kt.value=O[1]),F.$set(kt),O[1]!=="random"?Q?Q.p(O,le):(Q=sn(O),Q.c(),Q.m(D,null)):Q&&(Q.d(1),Q=null);const yt={};le&1048576&&(yt.$$scope={dirty:le,ctx:O}),U.$set(yt);const et={};le&1&&(et.disabled=!O[0].name),le&1048576&&(et.$$scope={dirty:le,ctx:O}),ne.$set(et)},i(O){V||($(a.$$.fragment,O),$(o.$$.fragment,O),$(F.$$.fragment,O),$(U.$$.fragment,O),$(ne.$$.fragment,O),O&&ee(()=>{V&&(me&&me.end(1),pe=xe(e,Te,{delay:200,duration:200}),pe.start())}),V=!0)},o(O){k(a.$$.fragment,O),k(o.$$.fragment,O),k(F.$$.fragment,O),k(U.$$.fragment,O),k(ne.$$.fragment,O),pe&&pe.invalidate(),O&&(me=$t(e,Te,{duration:200})),V=!1},d(O){O&&H(e),R(a),R(o),be(ae,O),R(F),Q&&Q.d(),R(U),R(ne),O&&me&&me.end()}}}function Ns(t,e,n){const l=ce();let s={name:"",str:P(3,6),dex:P(3,6),wil:P(3,6),hp:P(1,6),gp:P(3,6)},a=["random",...Qe().map(g=>g.title)],i=a[0],r=[];const o=()=>{const g=P(1,2)===1?ys[P(1,20)]:ks[P(1,20)];n(0,s.name=`${g} ${ws[P(1,20)]}`,s)},c=g=>{if(r.includes(g)){const z=r.indexOf(g,0);z!==-1&&(r.splice(z,1),n(2,r=[...r]))}else{if(r.length>=2)return;n(2,r=[...r,g])}},f=()=>{if(r.length===2){const g=s[r[0]],z=s[r[1]];n(0,s[r[0]]=z,s),n(0,s[r[1]]=g,s)}_e.set(s.name),re.set({str:s.str,dex:s.dex,wil:s.wil,strMax:s.str,dexMax:s.dex,wilMax:s.wil}),Z.set({hp:s.hp,hpMax:s.hp,armor:0,deprived:!1}),we.set({gp:s.gp.toString(),sp:"0",cp:"0"}),$e.set(i==="random"?_s():Qe().find(g=>g.title===i).inventory),Le.set(`Age: ${P(2,20)+10}, formerly a ${Hs[P(1,20)]}.
You have an ${Ss[P(1,10)]} physique, ${Ms[P(1,10)]} skin, ${Cs[P(1,10)]} hair, and a ${As[P(1,10)]} face.
You speak in a ${Rs[P(1,10)]} manner and wear ${Ts[P(1,10)]} clothing.
You are ${Ps[P(1,10)]} yet ${zs[P(1,10)]}, and are generally regarded as ${Os[P(1,10)]}.
You have had the misfortune of being ${Ds[P(1,10)]}.`),Y(),l("hide-form")};return[s,i,r,l,a,o,c,f,g=>n(0,s.name=g.detail,s),g=>c(g),g=>n(1,i=g.detail),g=>g.title===i,()=>l("hide-form"),()=>f()]}class Bs extends q{constructor(e){super(),W(this,e,Ns,Fs,B,{})}}function Is(t){let e,n;return e=new Bs({}),e.$on("hide-form",t[3]),{c(){T(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},p:E,i(l){n||($(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Ws(t){let e,n;return e=new ps({}),e.$on("show-form",t[2]),{c(){T(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},p:E,i(l){n||($(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function qs(t){let e,n;return e=new ns({}),{c(){T(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},p:E,i(l){n||($(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Vs(t){let e,n,l,s;const a=[qs,Ws,Is],i=[];function r(o,c){return o[0]?0:o[1]?2:1}return n=r(t),l=i[n]=a[n](t),{c(){e=b("main"),l.c(),h(e,"class","svelte-ncbruq")},m(o,c){S(o,e,c),i[n].m(e,null),s=!0},p(o,[c]){let f=n;n=r(o),n===f?i[n].p(o,c):(fe(),k(i[f],1,1,()=>{i[f]=null}),ue(),l=i[n],l?l.p(o,c):(l=i[n]=a[n](o),l.c()),$(l,1),l.m(e,null))},i(o){s||($(l),s=!0)},o(o){k(l),s=!1},d(o){o&&H(e),i[n].d()}}}function Gs(t,e,n){let l;oe(t,_e,o=>n(4,l=o));let s=l,a=!1;return _e.subscribe(o=>n(0,s=o)),Pn(()=>{const o=localStorage.getItem("pc__character");o&&vn(JSON.parse(o))&&(_e.set(JSON.parse(o).name),re.set(JSON.parse(o).abilities),Z.set(JSON.parse(o).stats),we.set(JSON.parse(o).coins),$e.set(JSON.parse(o).inventory),x.set(JSON.parse(o).scars),Le.set(JSON.parse(o).notes))}),[s,a,()=>n(1,a=!0),()=>n(1,a=!1)]}class Ys extends q{constructor(e){super(),W(this,e,Gs,Vs,B,{})}}new Ys({target:document.getElementById("app")});
