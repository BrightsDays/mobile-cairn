var kn=Object.defineProperty;var yn=(t,e,n)=>e in t?kn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var tt=(t,e,n)=>(yn(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function L(){}const Ze=t=>t;function wn(t,e){for(const n in e)t[n]=e[n];return t}function on(t){return t()}function Ht(){return Object.create(null)}function te(t){t.forEach(on)}function ze(t){return typeof t=="function"}function B(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let De;function St(t,e){return t===e?!0:(De||(De=document.createElement("a")),De.href=e,t===De.href)}function Hn(t){return Object.keys(t).length===0}function Sn(t,...e){if(t==null){for(const l of e)l(void 0);return L}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function oe(t,e,n){t.$$.on_destroy.push(Sn(e,n))}function ft(t,e,n,l){if(t){const s=fn(t,e,n,l);return t[0](s)}}function fn(t,e,n,l){return t[1]&&l?wn(n.ctx.slice(),t[1](l(e))):n.ctx}function ct(t,e,n,l){if(t[2]&&l){const s=t[2](l(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],a=Math.max(e.dirty.length,s.length);for(let r=0;r<a;r+=1)i[r]=e.dirty[r]|s[r];return i}return e.dirty|s}return e.dirty}function ut(t,e,n,l,s,i){if(s){const a=fn(e,n,l,i);t.p(a,s)}}function dt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function ge(t){return t??""}function cn(t){return t&&ze(t.destroy)?t.destroy:L}const un=typeof window<"u";let gt=un?()=>window.performance.now():()=>Date.now(),ht=un?t=>requestAnimationFrame(t):L;const Ae=new Set;function dn(t){Ae.forEach(e=>{e.c(t)||(Ae.delete(e),e.f())}),Ae.size!==0&&ht(dn)}function mt(t){let e;return Ae.size===0&&ht(dn),{promise:new Promise(n=>{Ae.add(e={c:t,f:n})}),abort(){Ae.delete(e)}}}function h(t,e){t.appendChild(e)}function gn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Mn(t){const e=b("style");return e.textContent="/* empty */",Cn(gn(t),e),e.sheet}function Cn(t,e){return h(t.head||t,e),e.sheet}function S(t,e,n){t.insertBefore(e,n||null)}function H(t){t.parentNode&&t.parentNode.removeChild(t)}function be(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function b(t){return document.createElement(t)}function O(t){return document.createTextNode(t)}function C(){return O(" ")}function hn(){return O("")}function X(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function An(t){return Array.from(t.childNodes)}function ie(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ie(t,e){t.value=e??""}function Le(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function mn(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}const We=new Map;let Ve=0;function Rn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function jn(t,e){const n={stylesheet:Mn(e),rules:{}};return We.set(t,n),n}function Ge(t,e,n,l,s,i,a,r=0){const o=16.666/l;let f=`{
`;for(let y=0;y<=1;y+=o){const g=e+(n-e)*i(y);f+=y*100+`%{${a(g,1-g)}}
`}const c=f+`100% {${a(n,1-n)}}
}`,u=`__svelte_${Rn(c)}_${r}`,d=gn(t),{stylesheet:p,rules:_}=We.get(d)||jn(d,t);_[u]||(_[u]=!0,p.insertRule(`@keyframes ${u} ${c}`,p.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${u} ${l}ms linear ${s}ms 1 both`,Ve+=1,u}function Ye(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=n.length-l.length;s&&(t.style.animation=l.join(", "),Ve-=s,Ve||zn())}function zn(){ht(()=>{Ve||(We.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&H(e)}),We.clear())})}let Pe;function qe(t){Pe=t}function pn(){if(!Pe)throw new Error("Function called outside component initialization");return Pe}function Tn(t){pn().$$.on_mount.push(t)}function fe(){const t=pn();return(e,n,{cancelable:l=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=mn(e,n,{cancelable:l});return s.slice().forEach(a=>{a.call(t,i)}),!i.defaultPrevented}return!0}}const Ce=[],Mt=[];let Re=[];const Ct=[],qn=Promise.resolve();let at=!1;function Pn(){at||(at=!0,qn.then(_n))}function ee(t){Re.push(t)}const nt=new Set;let Se=0;function _n(){if(Se!==0)return;const t=Pe;do{try{for(;Se<Ce.length;){const e=Ce[Se];Se++,qe(e),On(e.$$)}}catch(e){throw Ce.length=0,Se=0,e}for(qe(null),Ce.length=0,Se=0;Mt.length;)Mt.pop()();for(let e=0;e<Re.length;e+=1){const n=Re[e];nt.has(n)||(nt.add(n),n())}Re.length=0}while(Ce.length);for(;Ct.length;)Ct.pop()();at=!1,nt.clear(),qe(t)}function On(t){if(t.fragment!==null){t.update(),te(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ee)}}function Dn(t){const e=[],n=[];Re.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Re=e}let Te;function pt(){return Te||(Te=Promise.resolve(),Te.then(()=>{Te=null})),Te}function ye(t,e,n){t.dispatchEvent(mn(`${e?"intro":"outro"}${n}`))}const Be=new Set;let de;function ce(){de={r:0,c:[],p:de}}function ue(){de.r||te(de.c),de=de.p}function $(t,e){t&&t.i&&(Be.delete(t),t.i(e))}function k(t,e,n,l){if(t&&t.o){if(Be.has(t))return;Be.add(t),de.c.push(()=>{Be.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const _t={duration:0};function xe(t,e,n){const l={direction:"in"};let s=e(t,n,l),i=!1,a,r,o=0;function f(){a&&Ye(t,a)}function c(){const{delay:d=0,duration:p=300,easing:_=Ze,tick:v=L,css:y}=s||_t;y&&(a=Ge(t,0,1,p,d,_,y,o++)),v(0,1);const g=gt()+d,z=g+p;r&&r.abort(),i=!0,ee(()=>ye(t,!0,"start")),r=mt(N=>{if(i){if(N>=z)return v(1,0),ye(t,!0,"end"),f(),i=!1;if(N>=g){const P=_((N-g)/p);v(P,1-P)}}return i})}let u=!1;return{start(){u||(u=!0,Ye(t),ze(s)?(s=s(l),pt().then(c)):c())},invalidate(){u=!1},end(){i&&(f(),i=!1)}}}function $t(t,e,n){const l={direction:"out"};let s=e(t,n,l),i=!0,a;const r=de;r.r+=1;let o;function f(){const{delay:c=0,duration:u=300,easing:d=Ze,tick:p=L,css:_}=s||_t;_&&(a=Ge(t,1,0,u,c,d,_));const v=gt()+c,y=v+u;ee(()=>ye(t,!1,"start")),"inert"in t&&(o=t.inert,t.inert=!0),mt(g=>{if(i){if(g>=y)return p(0,1),ye(t,!1,"end"),--r.r||te(r.c),!1;if(g>=v){const z=d((g-v)/u);p(1-z,z)}}return i})}return ze(s)?pt().then(()=>{s=s(l),f()}):f(),{end(c){c&&"inert"in t&&(t.inert=o),c&&s.tick&&s.tick(1,0),i&&(a&&Ye(t,a),i=!1)}}}function Je(t,e,n,l){let i=e(t,n,{direction:"both"}),a=l?0:1,r=null,o=null,f=null,c;function u(){f&&Ye(t,f)}function d(_,v){const y=_.b-a;return v*=Math.abs(y),{a,b:_.b,d:y,duration:v,start:_.start,end:_.start+v,group:_.group}}function p(_){const{delay:v=0,duration:y=300,easing:g=Ze,tick:z=L,css:N}=i||_t,P={start:gt()+v,b:_};_||(P.group=de,de.r+=1),"inert"in t&&(_?c!==void 0&&(t.inert=c):(c=t.inert,t.inert=!0)),r||o?o=P:(N&&(u(),f=Ge(t,a,_,y,v,g,N)),_&&z(0,1),r=d(P,y),ee(()=>ye(t,_,"start")),mt(E=>{if(o&&E>o.start&&(r=d(o,y),o=null,ye(t,r.b,"start"),N&&(u(),f=Ge(t,a,r.b,r.duration,0,g,i.css))),r){if(E>=r.end)z(a=r.b,1-a),ye(t,r.b,"end"),o||(r.b?u():--r.group.r||te(r.group.c)),r=null;else if(E>=r.start){const D=E-r.start;a=r.a+r.d*g(D/r.duration),z(a,1-a)}}return!!(r||o)}))}return{run(_){ze(i)?pt().then(()=>{i=i({direction:_?"in":"out"}),p(_)}):p(_)},end(){u(),r=o=null}}}function J(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function j(t){t&&t.c()}function A(t,e,n){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,n),ee(()=>{const i=t.$$.on_mount.map(on).filter(ze);t.$$.on_destroy?t.$$.on_destroy.push(...i):te(i),t.$$.on_mount=[]}),s.forEach(ee)}function R(t,e){const n=t.$$;n.fragment!==null&&(Dn(n.after_update),te(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ln(t,e){t.$$.dirty[0]===-1&&(Ce.push(t),Pn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function I(t,e,n,l,s,i,a,r=[-1]){const o=Pe;qe(t);const f=t.$$={fragment:null,ctx:[],props:i,update:L,not_equal:s,bound:Ht(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:Ht(),dirty:r,skip_bound:!1,root:e.target||o.$$.root};a&&a(f.root);let c=!1;if(f.ctx=n?n(t,e.props||{},(u,d,...p)=>{const _=p.length?p[0]:d;return f.ctx&&s(f.ctx[u],f.ctx[u]=_)&&(!f.skip_bound&&f.bound[u]&&f.bound[u](_),c&&Ln(t,u)),d}):[],f.update(),c=!0,te(f.before_update),f.fragment=l?l(f.ctx):!1,e.target){if(e.hydrate){const u=An(e.target);f.fragment&&f.fragment.l(u),u.forEach(H)}else f.fragment&&f.fragment.c();e.intro&&$(t.$$.fragment),A(t,e.target,e.anchor),_n()}qe(o)}class W{constructor(){tt(this,"$$");tt(this,"$$set")}$destroy(){R(this,1),this.$destroy=L}$on(e,n){if(!ze(n))return L;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!Hn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const En="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(En);const Me=[];function ve(t,e=L){let n;const l=new Set;function s(r){if(B(t,r)&&(t=r,n)){const o=!Me.length;for(const f of l)f[1](),Me.push(f,t);if(o){for(let f=0;f<Me.length;f+=2)Me[f][0](Me[f+1]);Me.length=0}}}function i(r){s(r(t))}function a(r,o=L){const f=[r,o];return l.add(f),l.size===1&&(n=e(s,i)||L),r(t),()=>{l.delete(f),l.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:a}}const T=(t=1,e=6)=>{const n=[];for(let l=0;l<t;l++){const s=Math.floor(Math.random()*e)+1;n.push(s)}return n.reduce((l,s)=>l+s,0)},Fn=()=>{const{subscribe:t,set:e,update:n}=ve([{key:"4",value:4,count:0},{key:"6",value:6,count:0},{key:"8",value:8,count:0},{key:"10",value:10,count:0},{key:"12",value:12,count:0},{key:"20",value:20,count:0}]);return{subscribe:t,set:e,roll:l=>n(s=>(s.find(i=>i.key===l).count+=1,s.find(i=>i.key===l).value=T(1,+l),[...s]))}},lt=Fn();function $n(t){const e=t-1;return e*e*e+1}function Bn(t){return t*t*t*t*t}function Ue(t){return--t*t*t*t*t+1}function je(t,{delay:e=0,duration:n=400,easing:l=Ze}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:i=>`opacity: ${i*s}`}}function Ke(t,{delay:e=0,duration:n=400,easing:l=$n,axis:s="y"}={}){const i=getComputedStyle(t),a=+i.opacity,r=s==="y"?"height":"width",o=parseFloat(i[r]),f=s==="y"?["top","bottom"]:["left","right"],c=f.map(g=>`${g[0].toUpperCase()}${g.slice(1)}`),u=parseFloat(i[`padding${c[0]}`]),d=parseFloat(i[`padding${c[1]}`]),p=parseFloat(i[`margin${c[0]}`]),_=parseFloat(i[`margin${c[1]}`]),v=parseFloat(i[`border${c[0]}Width`]),y=parseFloat(i[`border${c[1]}Width`]);return{delay:e,duration:n,easing:l,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*a};${r}: ${g*o}px;padding-${f[0]}: ${g*u}px;padding-${f[1]}: ${g*d}px;margin-${f[0]}: ${g*p}px;margin-${f[1]}: ${g*_}px;border-${f[0]}-width: ${g*v}px;border-${f[1]}-width: ${g*y}px;`}}function Nn(t,{delay:e=0,duration:n=400,easing:l=$n,start:s=0,opacity:i=0}={}){const a=getComputedStyle(t),r=+a.opacity,o=a.transform==="none"?"":a.transform,f=1-s,c=r*(1-i);return{delay:e,duration:n,easing:l,css:(u,d)=>`
			transform: ${o} scale(${1-f*d});
			opacity: ${r-c*d}
		`}}function At(t,e,n){const l=t.slice();return l[5]=e[n],l[7]=n,l}function Rt(t){let e,n=t[5].value+"",l,s;return{c(){e=b("span"),l=O(n),m(e,"class","svelte-1d6ztrx")},m(i,a){S(i,e,a),h(e,l)},p(i,a){a&1&&n!==(n=i[5].value+"")&&ie(l,n)},i(i){i&&(s||ee(()=>{s=xe(e,Nn,{delay:150,duration:200,easing:Bn}),s.start()}))},o:L,d(i){i&&H(e)}}}function jt(t){let e,n=t[5].count,l,s,i,a,r=Rt(t);function o(){return t[3](t[5],t[7])}return{c(){e=b("button"),r.c(),l=C(),m(e,"ontouchstart",""),m(e,"class",s=ge(`dice d${t[5].key}${t[1]===t[7]?" green":""}`)+" svelte-1d6ztrx")},m(f,c){S(f,e,c),r.m(e,null),h(e,l),i||(a=X(e,"click",o),i=!0)},p(f,c){t=f,c&1&&B(n,n=t[5].count)?(ce(),k(r,1,1,L),ue(),r=Rt(t),r.c(),$(r,1),r.m(e,l)):r.p(t,c),c&3&&s!==(s=ge(`dice d${t[5].key}${t[1]===t[7]?" green":""}`)+" svelte-1d6ztrx")&&m(e,"class",s)},d(f){f&&H(e),r.d(f),i=!1,a()}}}function In(t){let e,n=J(t[0]),l=[];for(let s=0;s<n.length;s+=1)l[s]=jt(At(t,n,s));return{c(){e=b("div");for(let s=0;s<l.length;s+=1)l[s].c();m(e,"class","dice-list svelte-1d6ztrx")},m(s,i){S(s,e,i);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(s,[i]){if(i&7){n=J(s[0]);let a;for(a=0;a<n.length;a+=1){const r=At(s,n,a);l[a]?l[a].p(r,i):(l[a]=jt(r),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=n.length}},i:L,o:L,d(s){s&&H(e),be(l,s)}}}function Wn(t,e,n){let l;oe(t,lt,o=>n(4,l=o));let s=l;lt.subscribe(o=>n(0,s=o));let i;const a=(o,f)=>{lt.roll(o),n(1,i=f)};return[s,i,a,(o,f)=>a(o.key,f)]}class Vn extends W{constructor(e){super(),I(this,e,Wn,In,B,{})}}const Gn=()=>{const{subscribe:t,set:e,update:n}=ve("");return{subscribe:t,set:e,change:l=>n(s=>(s=l,Y(),s))}},Oe=Gn(),Yn=t=>{let e;re.subscribe(l=>e=l[`${t}Max`]);const n=T(1,20);return n===1||n<=e},st=(t,e=1)=>{let n;Z.subscribe(s=>n=s.hpMax);const l=T(e,6);t!=="add"?l>n?(Z.setMaxHp(l),x.addHistory(`HP has been set to ${l}.`)):x.addHistory("HP roll result was too low, no upgrade."):(Z.setMaxHp(n+l),x.addHistory(`${l} has been added to HP.`))},it=(t,e)=>{const n=e||["","str","dex","wil"][T(1,3)];let l;re.subscribe(i=>l=i[`${n}Max`]);const s=T(3,6);if(t!=="add")l<s?(re.setMaxAbility(n,s),x.addHistory(`${n.toUpperCase()} has been set to ${s}.`)):x.addHistory(`${n.toUpperCase()} roll result was too low, no upgrade.`);else if(Yn(n)){const i=T(1,4);re.setMaxAbility(n,l+i),x.addHistory(`${i} has been added to ${n.toUpperCase()}.`)}else x.addHistory(`${n.toUpperCase()} save was failed, no upgrade.`)},Jn=()=>{const t=[],{subscribe:e,set:n,update:l}=ve([...t]);return{subscribe:e,set:n,add:s=>l(i=>{switch(s){case 1:i=[...i,{content:`Lasting Scar on ${["","Neck","Hands","Eye","Chest","Legs","Ear"][T(1,6)]}.`}],st("change",1);break;case 2:i=[...i,{content:"Rattling Blow. You’re disoriented and shaken. Describe how you refocus."}],st("change",1);break;case 3:i=[...i,{content:"Walloped: You’re sent flying and land flat on your face, winded. You are deprived until you rest for a few hours, when resolve.",resolve:{action:"increaseHP",type:"add",num:1}}];break;case 4:i=[...i,{content:`Broken Limb: ${["","Leg","Leg","Arm","Arm","Rib","Skull"][T(1,6)]}. Once mended, resolve.`,resolve:{action:"increaseHP",type:"change",num:2}}];break;case 5:i=[...i,{content:"Diseased: You’re afflicted with a gross, uncomfortable infection. When you get over it, resolve.",resolve:{action:"increaseHP",type:"change",num:2}}];break;case 6:i=[...i,{content:"Reorienting Head Wound."}],it("change");break;case 7:i=[...i,{content:"Hamstrung: You can barely move until you get serious help and rest. After recovery, resolve.",resolve:{action:"increaseAbility",type:"change",key:"dex"}}];break;case 8:i=[...i,{content:"Deafened: You cannot hear anything until you find extraordinary aid. Regardless, resolve.",resolve:{action:"increaseAbility",type:"add",key:"wil"}}];break;case 9:i=[...i,{content:"Re-brained: Some hidden part of your psyche is knocked loose."}],it("change","wil");break;case 10:i=[...i,{content:"Sundered: An appendage is torn off, crippled or useless. The Warden will tell you which. Then resolve.",resolve:{action:"increaseAbility",type:"add",key:"wil"}}];break;case 11:i=[...i,{content:"Mortal Wound: You are deprived and out of action. You die in one hour unless healed. Upon recovery, resolve.",resolve:{action:"increaseHP",type:"change",num:2}}];break;case 12:i=[...i,{content:"Doomed: Death seemed ever so close, but somehow you survived. If your next save against critical damage is a fail, you die horribly. If you pass, resolve",resolve:{action:"increaseHP",type:"change",num:3}}];break}return setTimeout(()=>Y(),0),[...i]}),addHistory:s=>setTimeout(()=>l(i=>(i=[...i,{content:s}],setTimeout(()=>Y(),0),[...i])),0),resolve:s=>l(i=>{const a=i[s].resolve;switch(a.action){case"increaseHP":st(a.type,a.num);break;case"increaseAbility":it(a.type,a.key);break}return i[s].resolve=null,Y(),[...i]}),reset:()=>{n([...t]),Y()}}},x=Jn(),bt=()=>{let t;_e.subscribe(r=>t=r);let e;re.subscribe(r=>e=r);let n;Z.subscribe(r=>n=r);let l;we.subscribe(r=>l=r);let s;$e.subscribe(r=>s=r);let i;x.subscribe(r=>i=r);let a;return Oe.subscribe(r=>a=r),{name:t,abilities:{str:e.str,dex:e.dex,wil:e.wil,strMax:e.strMax,dexMax:e.dexMax,wilMax:e.wilMax},stats:{hp:n.hp,hpMax:n.hpMax,armor:n.armor,deprived:n.deprived},coins:{gp:l.gp,sp:l.sp,cp:l.cp},inventory:s,scars:i,notes:a}},Y=()=>{const t=bt();localStorage.setItem("pc__character",JSON.stringify(t))},Un=()=>{const{subscribe:t,set:e,update:n}=ve({str:0,dex:0,wil:0,strMax:0,dexMax:0,wilMax:0});return{subscribe:t,set:e,increase:l=>n(s=>(s[l]+=s[l]<s[`${l}Max`]?1:0,Y(),{...s})),decrease:l=>n(s=>(s[l]-=s[l]>0?1:0,Y(),{...s})),setMaxAbility:(l,s)=>n(i=>(i[`${l}Max`]=s,Y(),{...i}))}},Kn=()=>{const{subscribe:t,set:e,update:n}=ve({hp:0,hpMax:10,armor:0,deprived:!1});return{subscribe:t,set:e,increaseHp:()=>n(l=>(l.hp+=l.hp<l.hpMax?1:0,Y(),{...l})),decreaseHp:()=>n(l=>(l.hp-=l.hp>0?1:0,Y(),{...l})),setMaxHp:l=>n(s=>(s.hpMax=l,Y(),{...s})),increaceArmor:()=>n(l=>(l.armor+=l.armor<9?1:0,Y(),{...l})),decreaseArmor:()=>n(l=>(l.armor-=l.armor>0?1:0,Y(),{...l})),changeDeprived:()=>n(l=>(l.deprived=!l.deprived,Y(),{...l}))}},Xn=()=>{const{subscribe:t,set:e,update:n}=ve({gp:"0",sp:"0",cp:"0"});return{subscribe:t,set:e,change:(l,s)=>n(i=>(i[l]=s,Y(),{...i}))}},Qn=()=>{const{subscribe:t,set:e,update:n}=ve([{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]);return{subscribe:t,set:e,change:l=>n(s=>(s=l,Y(),[...s]))}},_e=ve(""),re=Un(),Z=Kn(),we=Xn(),$e=Qn();function Zn(t){let e,n;const l=t[11].default,s=ft(l,t,t[10],null);return{c(){e=b("p"),s&&s.c(),m(e,"class","svelte-12ggqjz")},m(i,a){S(i,e,a),s&&s.m(e,null),n=!0},p(i,a){s&&s.p&&(!n||a&1024)&&ut(s,l,i,i[10],n?ct(l,i[10],a,null):dt(i[10]),null)},i(i){n||($(s,i),n=!0)},o(i){k(s,i),n=!1},d(i){i&&H(e),s&&s.d(i)}}}function xn(t){let e,n;return{c(){e=b("img"),m(e,"class","image svelte-12ggqjz"),St(e.src,n=t[4])||m(e,"src",n),m(e,"alt",t[5])},m(l,s){S(l,e,s)},p(l,s){s&16&&!St(e.src,n=l[4])&&m(e,"src",n),s&32&&m(e,"alt",l[5])},i:L,o:L,d(l){l&&H(e)}}}function el(t){let e,n,l,s,i,a,r,o;ee(t[12]);const f=[xn,Zn],c=[];function u(d,p){return d[4]?0:1}return n=u(t),l=c[n]=f[n](t),{c(){e=b("button"),l.c(),m(e,"ontouchstart",""),m(e,"class",s=ge(`button${t[3]?" borderless":""}`)+" svelte-12ggqjz"),e.disabled=t[2],m(e,"style",i=`
    min-width: ${t[7]}px;
    height: ${t[7]}px;
    border-radius: ${t[7]/2}px;
    padding: ${t[0]}px;
    font-size: ${t[1]};
    line-height: ${t[1]};
  `)},m(d,p){S(d,e,p),c[n].m(e,null),a=!0,r||(o=[X(window,"resize",t[12]),X(e,"click",t[13])],r=!0)},p(d,[p]){let _=n;n=u(d),n===_?c[n].p(d,p):(ce(),k(c[_],1,1,()=>{c[_]=null}),ue(),l=c[n],l?l.p(d,p):(l=c[n]=f[n](d),l.c()),$(l,1),l.m(e,null)),(!a||p&8&&s!==(s=ge(`button${d[3]?" borderless":""}`)+" svelte-12ggqjz"))&&m(e,"class",s),(!a||p&4)&&(e.disabled=d[2]),(!a||p&131&&i!==(i=`
    min-width: ${d[7]}px;
    height: ${d[7]}px;
    border-radius: ${d[7]/2}px;
    padding: ${d[0]}px;
    font-size: ${d[1]};
    line-height: ${d[1]};
  `))&&m(e,"style",i)},i(d){a||($(l),a=!0)},o(d){k(l),a=!1},d(d){d&&H(e),c[n].d(),r=!1,te(o)}}}function tl(t,e,n){let l,{$$slots:s={},$$scope:i}=e,{height:a=40}=e,{padding:r=0}=e,{fontSize:o="1.6rem"}=e,{disabled:f=!1}=e,{borderless:c=!1}=e,{image:u=void 0}=e,{alt:d=void 0}=e;const p=fe();let _;function v(){n(6,_=window.innerWidth)}const y=()=>p("click");return t.$$set=g=>{"height"in g&&n(9,a=g.height),"padding"in g&&n(0,r=g.padding),"fontSize"in g&&n(1,o=g.fontSize),"disabled"in g&&n(2,f=g.disabled),"borderless"in g&&n(3,c=g.borderless),"image"in g&&n(4,u=g.image),"alt"in g&&n(5,d=g.alt),"$$scope"in g&&n(10,i=g.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&n(0,r||(r=0)),t.$$.dirty&576&&n(7,l=_>374?a:a*.75)},[r,o,f,c,u,d,_,l,p,a,i,s,v,y]}class K extends W{constructor(e){super(),I(this,e,tl,el,B,{height:9,padding:0,fontSize:1,disabled:2,borderless:3,image:4,alt:5})}}const nl=(t="character")=>{const e=bt(),n=`${e.name}.json`,l=JSON.stringify(e),s=document.createElement("a");s.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(l)),s.setAttribute("download",n),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)},bn=t=>{const e=n=>{t&&!t.contains(n.target)&&!n.defaultPrevented&&t.dispatchEvent(new CustomEvent("click_outside",t))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}};function zt(t){let e,n,l,s,i,a,r,o,f,c,u,d,p=t[1]&&Tt(t);const _=t[5].default,v=ft(_,t,t[9],null);a=new K({props:{$$slots:{default:[ll]},$$scope:{ctx:t}}}),a.$on("click",t[6]);let y=!t[2]&&qt(t);return{c(){e=b("div"),p&&p.c(),n=C(),l=b("span"),v&&v.c(),s=C(),i=b("div"),j(a.$$.fragment),r=C(),y&&y.c(),m(l,"class","content svelte-gefx1c"),m(i,"class",o=ge(`controls${t[2]?" submission":""}`)+" svelte-gefx1c"),m(e,"class","modal svelte-gefx1c")},m(g,z){S(g,e,z),p&&p.m(e,null),h(e,n),h(e,l),v&&v.m(l,null),h(e,s),h(e,i),A(a,i,null),h(i,r),y&&y.m(i,null),c=!0,u||(d=[cn(bn.call(null,e)),X(e,"click_outside",t[8])],u=!0)},p(g,z){g[1]?p?p.p(g,z):(p=Tt(g),p.c(),p.m(e,n)):p&&(p.d(1),p=null),v&&v.p&&(!c||z&512)&&ut(v,_,g,g[9],c?ct(_,g[9],z,null):dt(g[9]),null);const N={};z&512&&(N.$$scope={dirty:z,ctx:g}),a.$set(N),g[2]?y&&(ce(),k(y,1,1,()=>{y=null}),ue()):y?(y.p(g,z),z&4&&$(y,1)):(y=qt(g),y.c(),$(y,1),y.m(i,null)),(!c||z&4&&o!==(o=ge(`controls${g[2]?" submission":""}`)+" svelte-gefx1c"))&&m(i,"class",o)},i(g){c||($(v,g),$(a.$$.fragment,g),$(y),g&&ee(()=>{c&&(f||(f=Je(e,Ke,{delay:250,duration:300,easing:Ue,axis:"y"},!0)),f.run(1))}),c=!0)},o(g){k(v,g),k(a.$$.fragment,g),k(y),g&&(f||(f=Je(e,Ke,{delay:250,duration:300,easing:Ue,axis:"y"},!1)),f.run(0)),c=!1},d(g){g&&H(e),p&&p.d(),v&&v.d(g),R(a),y&&y.d(),g&&f&&f.end(),u=!1,te(d)}}}function Tt(t){let e,n;return{c(){e=b("h2"),n=O(t[1]),m(e,"class","title svelte-gefx1c")},m(l,s){S(l,e,s),h(e,n)},p(l,s){s&2&&ie(n,l[1])},d(l){l&&H(e)}}}function ll(t){let e;return{c(){e=O("Cancel")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function qt(t){let e,n;return e=new K({props:{disabled:t[3],$$slots:{default:[sl]},$$scope:{ctx:t}}}),e.$on("click",t[7]),{c(){j(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},p(l,s){const i={};s&8&&(i.disabled=l[3]),s&512&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function sl(t){let e;return{c(){e=O("OK")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function il(t){let e,n,l=t[0]&&zt(t);return{c(){l&&l.c(),e=hn()},m(s,i){l&&l.m(s,i),S(s,e,i),n=!0},p(s,[i]){s[0]?l?(l.p(s,i),i&1&&$(l,1)):(l=zt(s),l.c(),$(l,1),l.m(e.parentNode,e)):l&&(ce(),k(l,1,1,()=>{l=null}),ue())},i(s){n||($(l),n=!0)},o(s){k(l),n=!1},d(s){s&&H(e),l&&l.d(s)}}}function al(t,e,n){let{$$slots:l={},$$scope:s}=e,{isShown:i}=e,{title:a=void 0}=e,{submission:r=!1}=e,{disableOk:o=!1}=e;const f=fe(),c=()=>f("cancel"),u=()=>f("ok"),d=()=>f("cancel");return t.$$set=p=>{"isShown"in p&&n(0,i=p.isShown),"title"in p&&n(1,a=p.title),"submission"in p&&n(2,r=p.submission),"disableOk"in p&&n(3,o=p.disableOk),"$$scope"in p&&n(9,s=p.$$scope)},[i,a,r,o,f,l,c,u,d,s]}class Ne extends W{constructor(e){super(),I(this,e,al,il,B,{isShown:0,title:1,submission:2,disableOk:3})}}function Pt(t){let e,n;return{c(){e=b("span"),n=O(t[0]),m(e,"class","title svelte-bnsxjt")},m(l,s){S(l,e,s),h(e,n)},p(l,s){s&1&&ie(n,l[0])},d(l){l&&H(e)}}}function rl(t){let e;return{c(){e=O("−")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function Ot(t){let e,n;return{c(){e=O("/ "),n=O(t[2])},m(l,s){S(l,e,s),S(l,n,s)},p(l,s){s&4&&ie(n,l[2])},d(l){l&&(H(e),H(n))}}}function ol(t){let e;return{c(){e=O("+")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function fl(t){let e,n,l,s,i,a,r,o,f,c,u,d=t[0]&&Pt(t);s=new K({props:{disabled:t[1]===0,$$slots:{default:[rl]},$$scope:{ctx:t}}}),s.$on("click",t[5]);let p=!t[3]&&Ot(t);return c=new K({props:{disabled:t[1]===t[2],$$slots:{default:[ol]},$$scope:{ctx:t}}}),c.$on("click",t[6]),{c(){e=b("div"),d&&d.c(),n=C(),l=b("div"),j(s.$$.fragment),i=C(),a=b("div"),r=O(t[1]),o=C(),p&&p.c(),f=C(),j(c.$$.fragment),m(a,"class","current svelte-bnsxjt"),m(l,"class","controls svelte-bnsxjt"),m(e,"class","ability svelte-bnsxjt")},m(_,v){S(_,e,v),d&&d.m(e,null),h(e,n),h(e,l),A(s,l,null),h(l,i),h(l,a),h(a,r),h(a,o),p&&p.m(a,null),h(l,f),A(c,l,null),u=!0},p(_,[v]){_[0]?d?d.p(_,v):(d=Pt(_),d.c(),d.m(e,n)):d&&(d.d(1),d=null);const y={};v&2&&(y.disabled=_[1]===0),v&128&&(y.$$scope={dirty:v,ctx:_}),s.$set(y),(!u||v&2)&&ie(r,_[1]),_[3]?p&&(p.d(1),p=null):p?p.p(_,v):(p=Ot(_),p.c(),p.m(a,null));const g={};v&6&&(g.disabled=_[1]===_[2]),v&128&&(g.$$scope={dirty:v,ctx:_}),c.$set(g)},i(_){u||($(s.$$.fragment,_),$(c.$$.fragment,_),u=!0)},o(_){k(s.$$.fragment,_),k(c.$$.fragment,_),u=!1},d(_){_&&H(e),d&&d.d(),R(s),p&&p.d(),R(c)}}}function cl(t,e,n){let{title:l=""}=e,{value:s=0}=e,{maxValue:i=0}=e,{hideMaxValue:a=!1}=e;const r=fe(),o=()=>r("decrease"),f=()=>r("increase");return t.$$set=c=>{"title"in c&&n(0,l=c.title),"value"in c&&n(1,s=c.value),"maxValue"in c&&n(2,i=c.maxValue),"hideMaxValue"in c&&n(3,a=c.hideMaxValue)},[l,s,i,a,r,o,f]}class Xe extends W{constructor(e){super(),I(this,e,cl,fl,B,{title:0,value:1,maxValue:2,hideMaxValue:3})}}function Dt(t,e,n){const l=t.slice();return l[20]=e[n],l[22]=n,l}function Lt(t){let e;return{c(){e=b("div"),e.textContent="You have no scars",m(e,"class","item svelte-k67aan")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function ul(t){let e,n;return e=new K({props:{height:30,fontSize:"1rem",disabled:!0,$$slots:{default:[gl]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function dl(t){let e,n;function l(){return t[8](t[22])}return e=new K({props:{height:30,fontSize:"1rem",$$slots:{default:[hl]},$$scope:{ctx:t}}}),e.$on("click",l),{c(){j(e.$$.fragment)},m(s,i){A(e,s,i),n=!0},p(s,i){t=s;const a={};i&8388608&&(a.$$scope={dirty:i,ctx:t}),e.$set(a)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){k(e.$$.fragment,s),n=!1},d(s){R(e,s)}}}function gl(t){let e;return{c(){e=O("Resolved")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function hl(t){let e;return{c(){e=O("Resolve")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function Et(t){let e,n=t[20].content+"",l,s,i,a,r,o;const f=[dl,ul],c=[];function u(d,p){return d[20].resolve?0:1}return i=u(t),a=c[i]=f[i](t),{c(){e=b("div"),l=O(n),s=C(),a.c(),r=C(),m(e,"class","item resolvable svelte-k67aan")},m(d,p){S(d,e,p),h(e,l),h(e,s),c[i].m(e,null),h(e,r),o=!0},p(d,p){(!o||p&16)&&n!==(n=d[20].content+"")&&ie(l,n);let _=i;i=u(d),i!==_&&(ce(),k(c[_],1,1,()=>{c[_]=null}),ue(),a=c[i],a||(a=c[i]=f[i](d),a.c()),$(a,1),a.m(e,r))},i(d){o||($(a),o=!0)},o(d){k(a),o=!1},d(d){d&&H(e),c[i].d()}}}function ml(t){let e;return{c(){e=O("Add scar")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function pl(t){let e;return{c(){e=O("Download character")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function _l(t){let e;return{c(){e=O("Delete character")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function $l(t){let e;return{c(){e=O(`Adding a scar is an irreversible action that enables you to advance your
    character. Have you consulted with the Warden to confirm that you can
    acquire a scar?`)},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function bl(t){let e,n,l;return n=new Xe({props:{value:t[3],maxValue:12,hideMaxValue:!0}}),n.$on("decrease",t[14]),n.$on("increase",t[15]),{c(){e=O(`How many damage points was taken?
    `),j(n.$$.fragment)},m(s,i){S(s,e,i),A(n,s,i),l=!0},p(s,i){const a={};i&8&&(a.value=s[3]),n.$set(a)},i(s){l||($(n.$$.fragment,s),l=!0)},o(s){k(n.$$.fragment,s),l=!1},d(s){s&&H(e),R(n,s)}}}function vl(t){let e;return{c(){e=O("Do you really want to delete this character?")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function kl(t){let e,n,l,s,i,a,r,o,f,c,u,d,p,_,v,y,g,z,N,P=t[4].length===0&&Lt(),E=J(t[4]),D=[];for(let M=0;M<E.length;M+=1)D[M]=Et(Dt(t,E,M));const G=M=>k(D[M],1,1,()=>{D[M]=null});return o=new K({props:{padding:4,disabled:t[5].hp>0,$$slots:{default:[ml]},$$scope:{ctx:t}}}),o.$on("click",t[9]),c=new K({props:{padding:4,$$slots:{default:[pl]},$$scope:{ctx:t}}}),c.$on("click",t[10]),d=new K({props:{padding:4,$$slots:{default:[_l]},$$scope:{ctx:t}}}),d.$on("click",t[11]),_=new Ne({props:{isShown:t[1],$$slots:{default:[$l]},$$scope:{ctx:t}}}),_.$on("cancel",t[12]),_.$on("ok",t[13]),y=new Ne({props:{isShown:t[2],disableOk:t[3]===0,$$slots:{default:[bl]},$$scope:{ctx:t}}}),y.$on("cancel",t[16]),y.$on("ok",t[17]),z=new Ne({props:{isShown:t[0],$$slots:{default:[vl]},$$scope:{ctx:t}}}),z.$on("cancel",t[18]),z.$on("ok",t[19]),{c(){e=b("div"),n=b("span"),n.textContent="Scars history:",l=C(),s=b("div"),i=b("div"),P&&P.c(),a=C();for(let M=0;M<D.length;M+=1)D[M].c();r=C(),j(o.$$.fragment),f=C(),j(c.$$.fragment),u=C(),j(d.$$.fragment),p=C(),j(_.$$.fragment),v=C(),j(y.$$.fragment),g=C(),j(z.$$.fragment),m(n,"class","title svelte-k67aan"),m(i,"class","wrap svelte-k67aan"),m(s,"class","scars svelte-k67aan"),m(e,"class","menu svelte-k67aan")},m(M,w){S(M,e,w),h(e,n),h(e,l),h(e,s),h(s,i),P&&P.m(i,null),h(i,a);for(let F=0;F<D.length;F+=1)D[F]&&D[F].m(i,null);h(e,r),A(o,e,null),h(e,f),A(c,e,null),h(e,u),A(d,e,null),h(e,p),A(_,e,null),h(e,v),A(y,e,null),h(e,g),A(z,e,null),N=!0},p(M,[w]){if(M[4].length===0?P||(P=Lt(),P.c(),P.m(i,a)):P&&(P.d(1),P=null),w&16){E=J(M[4]);let V;for(V=0;V<E.length;V+=1){const He=Dt(M,E,V);D[V]?(D[V].p(He,w),$(D[V],1)):(D[V]=Et(He),D[V].c(),$(D[V],1),D[V].m(i,null))}for(ce(),V=E.length;V<D.length;V+=1)G(V);ue()}const F={};w&32&&(F.disabled=M[5].hp>0),w&8388608&&(F.$$scope={dirty:w,ctx:M}),o.$set(F);const U={};w&8388608&&(U.$$scope={dirty:w,ctx:M}),c.$set(U);const he={};w&8388608&&(he.$$scope={dirty:w,ctx:M}),d.$set(he);const ne={};w&2&&(ne.isShown=M[1]),w&8388608&&(ne.$$scope={dirty:w,ctx:M}),_.$set(ne);const me={};w&4&&(me.isShown=M[2]),w&8&&(me.disableOk=M[3]===0),w&8388616&&(me.$$scope={dirty:w,ctx:M}),y.$set(me);const pe={};w&1&&(pe.isShown=M[0]),w&8388608&&(pe.$$scope={dirty:w,ctx:M}),z.$set(pe)},i(M){if(!N){for(let w=0;w<E.length;w+=1)$(D[w]);$(o.$$.fragment,M),$(c.$$.fragment,M),$(d.$$.fragment,M),$(_.$$.fragment,M),$(y.$$.fragment,M),$(z.$$.fragment,M),N=!0}},o(M){D=D.filter(Boolean);for(let w=0;w<D.length;w+=1)k(D[w]);k(o.$$.fragment,M),k(c.$$.fragment,M),k(d.$$.fragment,M),k(_.$$.fragment,M),k(y.$$.fragment,M),k(z.$$.fragment,M),N=!1},d(M){M&&H(e),P&&P.d(),be(D,M),R(o),R(c),R(d),R(_),R(y),R(z)}}}function yl(t,e,n){let l,s;oe(t,x,G=>n(4,l=G)),oe(t,Z,G=>n(5,s=G));let i=!1,a=!1,r=!1,o=0;const f=()=>{x.add(o),n(2,r=!1),n(3,o=0)},c=()=>{_e.set(""),x.reset(),localStorage.removeItem("pc__character")};return[i,a,r,o,l,s,f,c,G=>x.resolve(G),()=>n(1,a=!0),()=>nl(),()=>n(0,i=!0),()=>n(1,a=!1),()=>{n(2,r=!0),n(1,a=!1)},()=>o>0?n(3,o-=1):n(3,o),()=>o<12?n(3,o+=1):n(3,o),()=>{n(2,r=!1),n(3,o=0)},()=>f(),()=>n(0,i=!1),()=>c()]}class wl extends W{constructor(e){super(),I(this,e,yl,kl,B,{})}}function Ft(t,e,n){const l=t.slice();return l[4]=e[n],l}function Bt(t){let e,n;function l(){return t[2](t[4])}function s(){return t[3](t[4])}return e=new Xe({props:{title:t[4],value:t[0][t[4]],maxValue:t[0][`${t[4]}Max`]}}),e.$on("decrease",l),e.$on("increase",s),{c(){j(e.$$.fragment)},m(i,a){A(e,i,a),n=!0},p(i,a){t=i;const r={};a&1&&(r.value=t[0][t[4]]),a&1&&(r.maxValue=t[0][`${t[4]}Max`]),e.$set(r)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){k(e.$$.fragment,i),n=!1},d(i){R(e,i)}}}function Hl(t){let e,n,l=J(t[1]),s=[];for(let a=0;a<l.length;a+=1)s[a]=Bt(Ft(t,l,a));const i=a=>k(s[a],1,1,()=>{s[a]=null});return{c(){e=b("div");for(let a=0;a<s.length;a+=1)s[a].c();m(e,"class","abilities")},m(a,r){S(a,e,r);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);n=!0},p(a,[r]){if(r&3){l=J(a[1]);let o;for(o=0;o<l.length;o+=1){const f=Ft(a,l,o);s[o]?(s[o].p(f,r),$(s[o],1)):(s[o]=Bt(f),s[o].c(),$(s[o],1),s[o].m(e,null))}for(ce(),o=l.length;o<s.length;o+=1)i(o);ue()}},i(a){if(!n){for(let r=0;r<l.length;r+=1)$(s[r]);n=!0}},o(a){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)k(s[r]);n=!1},d(a){a&&H(e),be(s,a)}}}function Sl(t,e,n){let l;return oe(t,re,r=>n(0,l=r)),[l,["str","dex","wil"],r=>re.decrease(r),r=>re.increase(r)]}class Ml extends W{constructor(e){super(),I(this,e,Sl,Hl,B,{})}}function Cl(t){let e,n,l,s,i,a,r;return ee(t[5]),{c(){e=b("label"),n=b("input"),l=C(),s=b("span"),m(n,"type","checkbox"),n.checked=t[0],m(n,"class","svelte-8qpl5n"),m(s,"class","checkmark svelte-8qpl5n"),m(e,"ontouchstart",""),m(e,"class","checkbox svelte-8qpl5n"),m(e,"style",i=`width: ${t[2]}px;height: ${t[2]}px`)},m(o,f){S(o,e,f),h(e,n),h(e,l),h(e,s),a||(r=[X(window,"resize",t[5]),X(n,"change",t[6])],a=!0)},p(o,[f]){f&1&&(n.checked=o[0]),f&4&&i!==(i=`width: ${o[2]}px;height: ${o[2]}px`)&&m(e,"style",i)},i:L,o:L,d(o){o&&H(e),a=!1,te(r)}}}function Al(t,e,n){let l,{size:s=0}=e,{checked:i=!1}=e;const a=fe();let r;function o(){n(1,r=window.innerWidth)}const f=()=>a("change");return t.$$set=c=>{"size"in c&&n(4,s=c.size),"checked"in c&&n(0,i=c.checked)},t.$$.update=()=>{t.$$.dirty&18&&n(2,l=r>374?s:s*.75)},[i,r,l,a,s,o,f]}class rt extends W{constructor(e){super(),I(this,e,Al,Cl,B,{size:4,checked:0})}}function Rl(t){let e,n,l,s;return{c(){e=b("input"),m(e,"class","input svelte-mukj6k"),m(e,"placeholder",t[1]),m(e,"style",n=`
    border-bottom: ${t[2]?"1px solid var(--main)":"none"};
    ${t[3]&&"padding-right: "+t[3]}
  `)},m(i,a){S(i,e,a),Ie(e,t[0]),l||(s=[X(e,"input",t[6]),X(e,"input",t[7])],l=!0)},p(i,[a]){a&2&&m(e,"placeholder",i[1]),a&12&&n!==(n=`
    border-bottom: ${i[2]?"1px solid var(--main)":"none"};
    ${i[3]&&"padding-right: "+i[3]}
  `)&&m(e,"style",n),a&1&&e.value!==i[0]&&Ie(e,i[0])},i:L,o:L,d(i){i&&H(e),l=!1,te(s)}}}function jl(t,e,n){let{value:l="0"}=e,{placeholder:s=""}=e,{border:i=!0}=e,{numbers:a=!1}=e,{paddingRight:r=""}=e;const o=fe();function f(){l=this.value,n(0,l),n(5,a)}const c=()=>o("input",l);return t.$$set=u=>{"value"in u&&n(0,l=u.value),"placeholder"in u&&n(1,s=u.placeholder),"border"in u&&n(2,i=u.border),"numbers"in u&&n(5,a=u.numbers),"paddingRight"in u&&n(3,r=u.paddingRight)},t.$$.update=()=>{t.$$.dirty&33&&n(0,l=a?l.replace(/[^0-9]/g,""):l)},[l,s,i,r,o,a,f,c]}class vt extends W{constructor(e){super(),I(this,e,jl,Rl,B,{value:0,placeholder:1,border:2,numbers:5,paddingRight:3})}}function Nt(t,e,n){const l=t.slice();return l[5]=e[n],l[6]=e,l[7]=n,l}function It(t){let e,n,l,s,i,a,r,o;function f(){return t[1](t[5],t[6],t[7])}n=new rt({props:{size:20,checked:t[5].inHand}}),n.$on("change",f);function c(...d){return t[2](t[5],t[6],t[7],...d)}s=new vt({props:{placeholder:"Item",value:t[5].title,border:!1}}),s.$on("input",c);function u(){return t[3](t[5],t[6],t[7])}return a=new rt({props:{size:20,checked:t[5].fatigue}}),a.$on("change",u),{c(){e=b("div"),j(n.$$.fragment),l=C(),j(s.$$.fragment),i=C(),j(a.$$.fragment),r=C(),m(e,"class","item svelte-1volka6")},m(d,p){S(d,e,p),A(n,e,null),h(e,l),A(s,e,null),h(e,i),A(a,e,null),h(e,r),o=!0},p(d,p){t=d;const _={};p&1&&(_.checked=t[5].inHand),n.$set(_);const v={};p&1&&(v.value=t[5].title),s.$set(v);const y={};p&1&&(y.checked=t[5].fatigue),a.$set(y)},i(d){o||($(n.$$.fragment,d),$(s.$$.fragment,d),$(a.$$.fragment,d),o=!0)},o(d){k(n.$$.fragment,d),k(s.$$.fragment,d),k(a.$$.fragment,d),o=!1},d(d){d&&H(e),R(n),R(s),R(a)}}}function zl(t){let e,n,l,s,i,a=J(t[0]),r=[];for(let f=0;f<a.length;f+=1)r[f]=It(Nt(t,a,f));const o=f=>k(r[f],1,1,()=>{r[f]=null});return{c(){e=b("div"),n=b("div"),n.innerHTML='<span class="info svelte-1volka6">Hand</span> <span class="info svelte-1volka6">Fatigue</span>',l=C(),s=b("div");for(let f=0;f<r.length;f+=1)r[f].c();m(n,"class","heading svelte-1volka6"),m(s,"class","list svelte-1volka6"),m(e,"class","inventory svelte-1volka6")},m(f,c){S(f,e,c),h(e,n),h(e,l),h(e,s);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(s,null);i=!0},p(f,[c]){if(c&1){a=J(f[0]);let u;for(u=0;u<a.length;u+=1){const d=Nt(f,a,u);r[u]?(r[u].p(d,c),$(r[u],1)):(r[u]=It(d),r[u].c(),$(r[u],1),r[u].m(s,null))}for(ce(),u=a.length;u<r.length;u+=1)o(u);ue()}},i(f){if(!i){for(let c=0;c<a.length;c+=1)$(r[c]);i=!0}},o(f){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)k(r[c]);i=!1},d(f){f&&H(e),be(r,f)}}}function Tl(t,e,n){let l;oe(t,$e,o=>n(4,l=o));const s=l;return[s,(o,f,c)=>{n(0,f[c].inHand=!o.inHand,s),$e.change(s)},(o,f,c,u)=>{n(0,f[c].title=u.detail,s),$e.change(s)},(o,f,c)=>{n(0,f[c].fatigue=!o.fatigue,s),$e.change(s)}]}class ql extends W{constructor(e){super(),I(this,e,Tl,zl,B,{})}}function Pl(t){let e,n,l,s,i,a,r,o,f,c;return n=new Xe({props:{title:"HP",value:t[0].hp,maxValue:t[0].hpMax}}),n.$on("decrease",Z.decreaseHp),n.$on("increase",Z.increaseHp),s=new Xe({props:{title:"Armor",value:t[0].armor,maxValue:9,hideMaxValue:!0}}),s.$on("decrease",Z.decreaseArmor),s.$on("increase",Z.increaceArmor),f=new rt({props:{size:40,checked:t[0].deprived}}),f.$on("change",Z.changeDeprived),{c(){e=b("div"),j(n.$$.fragment),l=C(),j(s.$$.fragment),i=C(),a=b("div"),r=b("span"),r.textContent="Deprived",o=C(),j(f.$$.fragment),m(r,"class","title svelte-182rp0w"),m(a,"class","deprived svelte-182rp0w"),m(e,"class","stats")},m(u,d){S(u,e,d),A(n,e,null),h(e,l),A(s,e,null),h(e,i),h(e,a),h(a,r),h(a,o),A(f,a,null),c=!0},p(u,[d]){const p={};d&1&&(p.value=u[0].hp),d&1&&(p.maxValue=u[0].hpMax),n.$set(p);const _={};d&1&&(_.value=u[0].armor),s.$set(_);const v={};d&1&&(v.checked=u[0].deprived),f.$set(v)},i(u){c||($(n.$$.fragment,u),$(s.$$.fragment,u),$(f.$$.fragment,u),c=!0)},o(u){k(n.$$.fragment,u),k(s.$$.fragment,u),k(f.$$.fragment,u),c=!1},d(u){u&&H(e),R(n),R(s),R(f)}}}function Ol(t,e,n){let l;return oe(t,Z,s=>n(0,l=s)),[l]}class Dl extends W{constructor(e){super(),I(this,e,Ol,Pl,B,{})}}function Wt(t,e,n){const l=t.slice();return l[3]=e[n],l}function Vt(t){let e,n,l,s,i,a;function r(...o){return t[2](t[3],...o)}return s=new vt({props:{value:t[0][t[3]],numbers:!0}}),s.$on("input",r),{c(){e=b("div"),n=b("span"),n.textContent=`${t[3]}:`,l=C(),j(s.$$.fragment),i=C(),m(n,"class","currency svelte-1oxprji"),m(e,"class","item svelte-1oxprji")},m(o,f){S(o,e,f),h(e,n),h(e,l),A(s,e,null),h(e,i),a=!0},p(o,f){t=o;const c={};f&1&&(c.value=t[0][t[3]]),s.$set(c)},i(o){a||($(s.$$.fragment,o),a=!0)},o(o){k(s.$$.fragment,o),a=!1},d(o){o&&H(e),R(s)}}}function Ll(t){let e,n,l=J(t[1]),s=[];for(let a=0;a<l.length;a+=1)s[a]=Vt(Wt(t,l,a));const i=a=>k(s[a],1,1,()=>{s[a]=null});return{c(){e=b("div");for(let a=0;a<s.length;a+=1)s[a].c();m(e,"class","coins svelte-1oxprji")},m(a,r){S(a,e,r);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);n=!0},p(a,[r]){if(r&3){l=J(a[1]);let o;for(o=0;o<l.length;o+=1){const f=Wt(a,l,o);s[o]?(s[o].p(f,r),$(s[o],1)):(s[o]=Vt(f),s[o].c(),$(s[o],1),s[o].m(e,null))}for(ce(),o=l.length;o<s.length;o+=1)i(o);ue()}},i(a){if(!n){for(let r=0;r<l.length;r+=1)$(s[r]);n=!0}},o(a){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)k(s[r]);n=!1},d(a){a&&H(e),be(s,a)}}}function El(t,e,n){let l;return oe(t,we,a=>n(0,l=a)),[l,["gp","sp","cp"],(a,r)=>{we[a]=r.detail,we.change(a,r.detail)}]}class Fl extends W{constructor(e){super(),I(this,e,El,Ll,B,{})}}function Bl(t){let e,n,l;const s=t[2].default,i=ft(s,t,t[1],null);return{c(){e=b("section"),i&&i.c(),m(e,"class",n=ge(`section ${t[0]}`)+" svelte-1wj47wp")},m(a,r){S(a,e,r),i&&i.m(e,null),l=!0},p(a,[r]){i&&i.p&&(!l||r&2)&&ut(i,s,a,a[1],l?ct(s,a[1],r,null):dt(a[1]),null),(!l||r&1&&n!==(n=ge(`section ${a[0]}`)+" svelte-1wj47wp"))&&m(e,"class",n)},i(a){l||($(i,a),l=!0)},o(a){k(i,a),l=!1},d(a){a&&H(e),i&&i.d(a)}}}function Nl(t,e,n){let{$$slots:l={},$$scope:s}=e,{position:i=""}=e;return t.$$set=a=>{"position"in a&&n(0,i=a.position),"$$scope"in a&&n(1,s=a.$$scope)},[i,s,l]}class Ee extends W{constructor(e){super(),I(this,e,Nl,Bl,B,{position:0})}}function Il(t){let e,n;return e=new Ml({}),{c(){j(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Wl(t){let e,n;return e=new Dl({}),{c(){j(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Vl(t){let e,n;return e=new Fl({}),{c(){j(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Gl(t){let e,n;return e=new ql({}),{c(){j(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Yl(t){let e,n,l,s,i,a,r,o,f;return n=new Ee({props:{position:"first",$$slots:{default:[Il]},$$scope:{ctx:t}}}),s=new Ee({props:{$$slots:{default:[Wl]},$$scope:{ctx:t}}}),a=new Ee({props:{$$slots:{default:[Vl]},$$scope:{ctx:t}}}),o=new Ee({props:{position:"last",$$slots:{default:[Gl]},$$scope:{ctx:t}}}),{c(){e=b("div"),j(n.$$.fragment),l=C(),j(s.$$.fragment),i=C(),j(a.$$.fragment),r=C(),j(o.$$.fragment),m(e,"class","sheet svelte-1aujks7")},m(c,u){S(c,e,u),A(n,e,null),h(e,l),A(s,e,null),h(e,i),A(a,e,null),h(e,r),A(o,e,null),f=!0},p(c,[u]){const d={};u&1&&(d.$$scope={dirty:u,ctx:c}),n.$set(d);const p={};u&1&&(p.$$scope={dirty:u,ctx:c}),s.$set(p);const _={};u&1&&(_.$$scope={dirty:u,ctx:c}),a.$set(_);const v={};u&1&&(v.$$scope={dirty:u,ctx:c}),o.$set(v)},i(c){f||($(n.$$.fragment,c),$(s.$$.fragment,c),$(a.$$.fragment,c),$(o.$$.fragment,c),f=!0)},o(c){k(n.$$.fragment,c),k(s.$$.fragment,c),k(a.$$.fragment,c),k(o.$$.fragment,c),f=!1},d(c){c&&H(e),R(n),R(s),R(a),R(o)}}}class Jl extends W{constructor(e){super(),I(this,e,null,Yl,B,{})}}const Gt="/pocket-cairn/assets/settings-8bd1b2da.svg",Yt="/pocket-cairn/assets/notes-058e4448.svg",Fe="/pocket-cairn/assets/cross-5d728ea7.svg";function Ul(t){let e,n,l=t[0]+`
`,s,i,a,r,o,f;return{c(){e=b("div"),n=b("pre"),s=O(l),i=O(`
  `),a=C(),r=b("textarea"),m(n,"class","pre svelte-1eoxiym"),m(n,"aria-hidden","true"),Le(n,"min-height",t[2]),Le(n,"max-height",t[1]),m(r,"class","textarea svelte-1eoxiym"),m(e,"class","container svelte-1eoxiym")},m(c,u){S(c,e,u),h(e,n),h(n,s),h(n,i),h(e,a),h(e,r),Ie(r,t[0]),o||(f=[X(r,"input",t[6]),X(r,"input",t[7])],o=!0)},p(c,[u]){u&1&&l!==(l=c[0]+`
`)&&ie(s,l),u&4&&Le(n,"min-height",c[2]),u&2&&Le(n,"max-height",c[1]),u&1&&Ie(r,c[0])},i:L,o:L,d(c){c&&H(e),o=!1,te(f)}}}function Kl(t,e,n){let l,s,{value:i=""}=e,{minRows:a=14}=e,{maxRows:r=36}=e;const o=fe();function f(){i=this.value,n(0,i)}const c=()=>o("input",i);return t.$$set=u=>{"value"in u&&n(0,i=u.value),"minRows"in u&&n(4,a=u.minRows),"maxRows"in u&&n(5,r=u.maxRows)},t.$$.update=()=>{t.$$.dirty&16&&n(2,l=`${1+a*1.2}em`),t.$$.dirty&32&&n(1,s=r?`${1+r*1.2}em`:"auto")},[i,s,l,o,a,r,f,c]}class Xl extends W{constructor(e){super(),I(this,e,Kl,Ul,B,{value:0,minRows:4,maxRows:5})}}function Ql(t){let e,n,l,s,i,a,r;return a=new Xl({props:{value:t[0]}}),a.$on("input",t[1]),{c(){e=b("div"),n=b("span"),n.textContent="Notes:",l=C(),s=b("div"),i=b("div"),j(a.$$.fragment),m(n,"class","title svelte-1cjph25"),m(i,"class","wrap svelte-1cjph25"),m(s,"class","content svelte-1cjph25"),m(e,"class","notes svelte-1cjph25")},m(o,f){S(o,e,f),h(e,n),h(e,l),h(e,s),h(s,i),A(a,i,null),r=!0},p(o,[f]){const c={};f&1&&(c.value=o[0]),a.$set(c)},i(o){r||($(a.$$.fragment,o),r=!0)},o(o){k(a.$$.fragment,o),r=!1},d(o){o&&H(e),R(a)}}}function Zl(t,e,n){let l;return oe(t,Oe,i=>n(0,l=i)),[l,i=>Oe.change(i.detail)]}class xl extends W{constructor(e){super(),I(this,e,Zl,Ql,B,{})}}function es(t){let e,n,l,s,i,a,r,o,f,c,u,d,p,_,v,y,g,z,N,P,E,D,G,M;return l=new K({props:{borderless:!0,image:t[1]?Fe:Yt,alt:"notes",disabled:t[0]}}),l.$on("click",t[4]),c=new K({props:{borderless:!0,image:t[0]?Fe:Gt,alt:"settings",disabled:t[1]}}),c.$on("click",t[5]),p=new xl({}),v=new Jl({}),g=new wl({}),E=new Vn({}),{c(){e=b("div"),n=b("div"),j(l.$$.fragment),s=C(),i=b("div"),a=b("div"),r=b("h2"),o=O(t[3]),f=C(),j(c.$$.fragment),u=C(),d=b("div"),j(p.$$.fragment),_=C(),j(v.$$.fragment),y=C(),j(g.$$.fragment),N=C(),P=b("footer"),j(E.$$.fragment),m(r,"class","text svelte-1xzqru8"),m(a,"class","wrap svelte-1xzqru8"),m(i,"class","name svelte-1xzqru8"),m(n,"class","header svelte-1xzqru8"),m(d,"class","main svelte-1xzqru8"),m(d,"style",z=`left: ${t[2]()}`),m(P,"class","footer svelte-1xzqru8"),m(e,"class","character svelte-1xzqru8")},m(w,F){S(w,e,F),h(e,n),A(l,n,null),h(n,s),h(n,i),h(i,a),h(a,r),h(r,o),h(n,f),A(c,n,null),h(e,u),h(e,d),A(p,d,null),h(d,_),A(v,d,null),h(d,y),A(g,d,null),h(e,N),h(e,P),A(E,P,null),M=!0},p(w,[F]){const U={};F&2&&(U.image=w[1]?Fe:Yt),F&1&&(U.disabled=w[0]),l.$set(U),(!M||F&8)&&ie(o,w[3]);const he={};F&1&&(he.image=w[0]?Fe:Gt),F&2&&(he.disabled=w[1]),c.$set(he),(!M||F&4&&z!==(z=`left: ${w[2]()}`))&&m(d,"style",z)},i(w){M||($(l.$$.fragment,w),$(c.$$.fragment,w),$(p.$$.fragment,w),$(v.$$.fragment,w),$(g.$$.fragment,w),$(E.$$.fragment,w),w&&ee(()=>{M&&(G&&G.end(1),D=xe(e,je,{delay:200,duration:200}),D.start())}),M=!0)},o(w){k(l.$$.fragment,w),k(c.$$.fragment,w),k(p.$$.fragment,w),k(v.$$.fragment,w),k(g.$$.fragment,w),k(E.$$.fragment,w),D&&D.invalidate(),w&&(G=$t(e,je,{duration:200})),M=!1},d(w){w&&H(e),R(l),R(c),R(p),R(v),R(g),R(E),w&&G&&G.end()}}}function ts(t,e,n){let l,s;oe(t,_e,f=>n(3,s=f));let i=!1,a=!1;const r=()=>n(1,a=!a),o=()=>n(0,i=!i);return t.$$.update=()=>{t.$$.dirty&3&&n(2,l=()=>i?"-200%":a?"0":"-100%")},[i,a,l,s,r,o]}class ns extends W{constructor(e){super(),I(this,e,ts,es,B,{})}}const vn=t=>{const e=bt();let n=!0;return Object.keys(e).forEach(l=>{Object.keys(t).includes(l)||(console.log(e,t),n=!1)}),n},ls=t=>{if(t.target){const e=new FileReader;e.onload=()=>{if(e.result){const l=JSON.parse(e.result);vn(l)&&(_e.set(l.name),re.set(l.abilities),Z.set(l.stats),we.set(l.coins),$e.set(l.inventory),x.set(l.scars))}};const n=t.target.files;n&&e.readAsText(n[0])}};function ss(t){let e,n,l,s,i,a;return{c(){e=b("div"),n=b("input"),l=C(),s=b("label"),s.textContent="Upload the character",m(n,"id","upload"),m(n,"type","file"),m(n,"class","input svelte-qbymqo"),m(s,"ontouchstart",""),m(s,"for","upload"),m(s,"class","label svelte-qbymqo"),m(e,"class","file svelte-qbymqo")},m(r,o){S(r,e,o),h(e,n),h(e,l),h(e,s),i||(a=X(n,"change",t[1]),i=!0)},p:L,i:L,o:L,d(r){r&&H(e),i=!1,a()}}}function is(t){const e=fe();return[e,l=>e("change",l)]}class as extends W{constructor(e){super(),I(this,e,is,ss,B,{})}}function rs(t){let e;return{c(){e=O("Roll a character")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function os(t){let e;return{c(){e=O("Wrong file type or json structure")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function fs(t){let e,n,l,s,i,a,r;return n=new K({props:{$$slots:{default:[rs]},$$scope:{ctx:t}}}),n.$on("click",t[3]),s=new as({}),s.$on("change",t[4]),a=new Ne({props:{submission:!0,isShown:t[0],$$slots:{default:[os]},$$scope:{ctx:t}}}),a.$on("cancel",t[5]),{c(){e=b("div"),j(n.$$.fragment),l=C(),j(s.$$.fragment),i=C(),j(a.$$.fragment),m(e,"class","menu svelte-3jyezx")},m(o,f){S(o,e,f),A(n,e,null),h(e,l),A(s,e,null),S(o,i,f),A(a,o,f),r=!0},p(o,[f]){const c={};f&128&&(c.$$scope={dirty:f,ctx:o}),n.$set(c);const u={};f&1&&(u.isShown=o[0]),f&128&&(u.$$scope={dirty:f,ctx:o}),a.$set(u)},i(o){r||($(n.$$.fragment,o),$(s.$$.fragment,o),$(a.$$.fragment,o),r=!0)},o(o){k(n.$$.fragment,o),k(s.$$.fragment,o),k(a.$$.fragment,o),r=!1},d(o){o&&(H(e),H(i)),R(n),R(s),R(a,o)}}}function cs(t,e,n){let l;oe(t,_e,c=>n(6,l=c));const s=fe();let i=!1;const a=c=>{ls(c.detail),l.length||n(0,i=!0)};return[i,s,a,()=>s("show-form"),c=>a(c),()=>n(0,i=!1)]}class us extends W{constructor(e){super(),I(this,e,cs,fs,B,{})}}const ds="/pocket-cairn/assets/Inventory-c55900a0.png";function gs(t){let e,n,l,s,i,a,r;return s=new us({}),s.$on("show-form",t[1]),{c(){e=b("div"),n=b("div"),n.innerHTML=`<h1 class="title svelte-q1tn16">Pocket Cairn
      <span class="version svelte-q1tn16">v.1.01</span></h1> <img class="image svelte-q1tn16" src="${ds}" alt="inventory"/> <span class="info svelte-q1tn16">Cairn is a game created by
      <a href="https://newschoolrevolution.com" target="_blank" class="svelte-q1tn16">Yochai Gal</a><br/>
      Official game page:
      <a href="https://cairnrpg.com" target="_blank" class="svelte-q1tn16">cairnrpg.com</a><br/>
      Read the instructions on
      <a href="https://github.com/BrightsDays/pocket-cairn" target="_blank" class="svelte-q1tn16">GitHub</a><br/>
      Application by
      <a href="https://brightsdays.github.io" target="_blank" class="svelte-q1tn16">brightsdays</a></span>`,l=C(),j(s.$$.fragment),m(n,"class","header svelte-q1tn16"),m(e,"class","creation svelte-q1tn16")},m(o,f){S(o,e,f),h(e,n),h(e,l),A(s,e,null),r=!0},p:L,i(o){r||($(s.$$.fragment,o),o&&ee(()=>{r&&(a&&a.end(1),i=xe(e,je,{delay:200,duration:200}),i.start())}),r=!0)},o(o){k(s.$$.fragment,o),i&&i.invalidate(),o&&(a=$t(e,je,{duration:200})),r=!1},d(o){o&&H(e),R(s),o&&a&&a.end()}}}function hs(t){const e=fe();return[e,()=>e("show-form")]}class ms extends W{constructor(e){super(),I(this,e,hs,gs,B,{})}}const ot=["","Adhere","Earthquake","Masquerade","Smoke Form","Anchor","Elasticity","Miniaturize","Sniff","Animate Object","Elemental Wall","Mirror Image","Snuff","Anthropomorphize","Filch","Mirrorwalk","Sort","Arcane Eye","Flare","Multiarm","Spectacle","Astral Prison","Fog Cloud","Night Sphere","Spellsaw","Attract","Frenzy","Objectify","Spider Climb","Auditory Illusion","Gate","Ooze Form","Summon Cube","Babble","Gravity Shift","Pacify","Swarm","Bait Flower","Greed","Phobia","Telekinesis","Beast Form","Haste","Pit","Telepathy","Befuddle","Hatred","Primal Surge","Teleport","Body Swap","Hear Whispers","Push/Pull","Target Lure","Charm","Hover","Raise Dead","Thicket","Command","Hypnotize","Raise Spirit","Summon Idol","Comprehend","Icy Touch","Read Mind","Time Control","Cone of Foam","Identify Owner","Repel","True Sight","Control Plants","Illuminate","Scry","Upwell","Control Weather","Invisible Tether","Sculpt Elements","Vision","Cure Wounds","Knock","Sense","Visual Illusion","Deafen","Leap","Shield","Ward","Detect Magic","Liquid Air","Shroud","Web","Disassemble","Magic Dampener","Shuffle","Widget","Disguise","Manse","Sleep","Wizard Mark","Displace","Marble Craze","Slick	100	X-Ray Vision"],Jt=()=>{const t=[""];for(let e=1;e<=20;e++)e<=3?t.push(""):e<=14?t.push("Brigandine (1 Armor, bulky)"):e<=19?t.push("Chainmail (2 Armor, bulky)"):t.push("Plate (3 Armor, bulky)");return t},ps=()=>{const t=[""];for(let e=1;e<=20;e++)e<=13?t.push(""):e<=16?t.push("Helmet (+1 Armor)"):e<=19?t.push("Shield (+1 Armor)"):t.push("both");return t},Ut=()=>{const t=[""];for(let e=1;e<=20;e++)e<=5?t.push("Dagger/Cudgel/Staff  (d6 damage)"):e<=14?t.push("Sword/Mace/Axe (d8 damage)"):e<=16?t.push("Sling (d4 damage)"):e<=18?t.push("Bow (d6 damage, bulky)"):e<=19?t.push("Crossbow (d8 damage, bulky)"):t.push("Halberd/War Hammer/Battleaxe  (d10 damage, bulky)");return t},Kt=["","Air Bladder","Fire Oil","Manacles","Rope (25ft)","Antitoxin","Grappling Hook","Pick","Spirit Ward","Cart (+4 slots, bulky)","Large Sack","Pole (10ft)","Spyglass","Chain (10ft)","Large Trap","Pulley","Tinderbox","Dowsing Rod","Lockpicks","Repellent","Wolfsbane"],Xt=["","Bellows","Cook Pots","Grease","Net","Bucket","Crowbar","Hammer","Saw","Caltrops","Drill (Manual)","Hour Glass","Sealant","Chalk","Fishing Rod","Metal File","Shovel","Chisel","Glue","Nails","Tongs"],Qt=["","Bottle","Horn","Mirror","Soap","Card Deck","Incense","Perfume","Sponge","Dice Set","Instrument","Quill & Ink","Tar Pot","Face Paint","Lens","Salt Pack","Twine","Fake Jewels","Marbles","Small Bell","Whistle"],_s=()=>{const t=ps()[T(1,20)],e=l=>l<=3?Xt[T(1,20)]:l<=5?Qt[T(1,20)]:l<=13?Kt[T(1,20)]:l<=15?Jt()[T(1,20)]:l<=17?Ut()[T(1,20)]:`Spellbook (${ot[T(1,100)]})`;return[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:Jt()[T(1,20)],inHand:!1,fatigue:!1},{title:Ut()[T(1,20)],inHand:!1,fatigue:!1},{title:t==="both"?"Helmet (+1 Armor)":t,inHand:!1,fatigue:!1},{title:t==="both"?"Shield (+1 Armor)":"",inHand:!1,fatigue:!1},{title:Kt[T(1,20)],inHand:!1,fatigue:!1},{title:Xt[T(1,20)],inHand:!1,fatigue:!1},{title:Qt[T(1,20)],inHand:!1,fatigue:!1},{title:e(T(1,20)),inHand:!1,fatigue:!1}].sort((l,s)=>l.title>s.title?-1:1)};function Zt(t,e,n){const l=t.slice();return l[8]=e[n],l}function xt(t){let e,n,l,s,i,a,r=J(t[0]),o=[];for(let f=0;f<r.length;f+=1)o[f]=en(Zt(t,r,f));return{c(){e=b("div");for(let f=0;f<o.length;f+=1)o[f].c();m(e,"class","list svelte-1rjslf"),m(e,"style",n=`top: -${t[0].length/2*25}%`)},m(f,c){S(f,e,c);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);s=!0,i||(a=[cn(bn.call(null,e)),X(e,"click_outside",t[6])],i=!0)},p(f,c){if(c&9){r=J(f[0]);let u;for(u=0;u<r.length;u+=1){const d=Zt(f,r,u);o[u]?o[u].p(d,c):(o[u]=en(d),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}(!s||c&1&&n!==(n=`top: -${f[0].length/2*25}%`))&&m(e,"style",n)},i(f){s||(f&&ee(()=>{s&&(l||(l=Je(e,Ke,{delay:100,duration:200,easing:Ue,axis:"y"},!0)),l.run(1))}),s=!0)},o(f){f&&(l||(l=Je(e,Ke,{delay:100,duration:200,easing:Ue,axis:"y"},!1)),l.run(0)),s=!1},d(f){f&&H(e),be(o,f),f&&l&&l.end(),i=!1,te(a)}}}function en(t){let e,n=t[8]+"",l,s,i,a;function r(){return t[5](t[8])}return{c(){e=b("button"),l=O(n),s=C(),m(e,"class","item svelte-1rjslf")},m(o,f){S(o,e,f),h(e,l),h(e,s),i||(a=X(e,"click",r),i=!0)},p(o,f){t=o,f&1&&n!==(n=t[8]+"")&&ie(l,n)},d(o){o&&H(e),i=!1,a()}}}function $s(t){let e,n,l,s,i,a,r=t[2]&&xt(t);return{c(){e=b("div"),n=b("button"),l=O(t[1]),s=C(),r&&r.c(),m(n,"ontouchstart",""),m(n,"class","select svelte-1rjslf"),m(e,"class","input svelte-1rjslf")},m(o,f){S(o,e,f),h(e,n),h(n,l),h(e,s),r&&r.m(e,null),i||(a=X(n,"click",t[4]),i=!0)},p(o,[f]){f&2&&ie(l,o[1]),o[2]?r?(r.p(o,f),f&4&&$(r,1)):(r=xt(o),r.c(),$(r,1),r.m(e,null)):r&&(ce(),k(r,1,1,()=>{r=null}),ue())},i(o){$(r)},o(o){k(r)},d(o){o&&H(e),r&&r.d(),i=!1,a()}}}function bs(t,e,n){let{options:l=[""]}=e,{value:s}=e;const i=fe();let a=!1;const r=u=>{n(2,a=!1),i("select",u)},o=()=>n(2,a=!0),f=u=>r(u),c=()=>n(2,a=!1);return t.$$set=u=>{"options"in u&&n(0,l=u.options),"value"in u&&n(1,s=u.value)},[l,s,a,r,o,f,c]}class vs extends W{constructor(e){super(),I(this,e,bs,$s,B,{options:0,value:1})}}const Qe=()=>[{title:"Cleric",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"War Hammer (d10, bulky)",inHand:!1,fatigue:!1},{title:"Chainmail (2 Armor, bulky)",inHand:!1,fatigue:!1},{title:"Gauntlets (+1 Armor)",inHand:!1,fatigue:!1},{title:"Cleansing Blade (d6)",inHand:!1,fatigue:!1},{title:"Holy Symbol (Ward once per day)",inHand:!1,fatigue:!1},{title:"Cloak of the Order",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Dowser",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Sickle (d6)",inHand:!1,fatigue:!1},{title:"Patchwork Doublet (+1 Armor)",inHand:!1,fatigue:!1},{title:"Dowsing Rod",inHand:!1,fatigue:!1},{title:"Eyestone (Sense if placed in fresh water)",inHand:!1,fatigue:!1},{title:"Worn Map",inHand:!1,fatigue:!1},{title:"Spyglass",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Dwarf",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Prickly Root (d6)",inHand:!1,fatigue:!1},{title:"Pinecone Lattice (1 Armor)",inHand:!1,fatigue:!1},{title:"Trowel",inHand:!1,fatigue:!1},{title:"Jar of Forest Ants",inHand:!1,fatigue:!1},{title:"Poisonous mushroom",inHand:!1,fatigue:!1},{title:"Hand Drill",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Elf",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Elegant Sword (d8)",inHand:!1,fatigue:!1},{title:"Recurve Bow (d8)",inHand:!1,fatigue:!1},{title:"Gilt Clothing (1 Armor)",inHand:!1,fatigue:!1},{title:"Spellbook (Detect Magic)",inHand:!1,fatigue:!1},{title:"Golden Flute",inHand:!1,fatigue:!1},{title:"Air Bladder",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Fighter",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Glaive (d10, bulky)",inHand:!1,fatigue:!1},{title:"Scimitar (d8)",inHand:!1,fatigue:!1},{title:"Shortsword (d6)",inHand:!1,fatigue:!1},{title:"Shortsword (d6)",inHand:!1,fatigue:!1},{title:"Tobacco Pouch & Pipe",inHand:!1,fatigue:!1},{title:"Dice Set",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Friar",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Scepter (d6)",inHand:!1,fatigue:!1},{title:"Deceptive Robes (+1 Armor)",inHand:!1,fatigue:!1},{title:"Censer & Holy Water",inHand:!1,fatigue:!1},{title:"Jug of Honey Wine",inHand:!1,fatigue:!1},{title:"Folk Songbook",inHand:!1,fatigue:!1},{title:"Cart (+4 slots, bulky)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Knight",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Longsword (d10, bulky)",inHand:!1,fatigue:!1},{title:"Chainmail (2 Armor, bulky)",inHand:!1,fatigue:!1},{title:"Helmet (+1 Armor)",inHand:!1,fatigue:!1},{title:"Heraldic Cape",inHand:!1,fatigue:!1},{title:"Manacles",inHand:!1,fatigue:!1},{title:"Fine Rope",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Magic User",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Fizzled Staff (d8, bulky)",inHand:!1,fatigue:!1},{title:"Dagger (d6)",inHand:!1,fatigue:!1},{title:`Spellbook (${ot[T(1,100)]})`,inHand:!1,fatigue:!1},{title:`Spellbook (${ot[T(1,100)]})`,inHand:!1,fatigue:!1},{title:"Ragged Clothing (hidden pockets)",inHand:!1,fatigue:!1},{title:"Leycap (x2, see Relics)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Thief",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Two daggers (d6+d6)",inHand:!1,fatigue:!1},{title:"Hooded Jerkin (1 Armor)",inHand:!1,fatigue:!1},{title:"Lockpicks",inHand:!1,fatigue:!1},{title:"Caltrops",inHand:!1,fatigue:!1},{title:"Grappling Hook",inHand:!1,fatigue:!1},{title:"Metal File",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Ranger",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Longbow (d8, bulky)",inHand:!1,fatigue:!1},{title:"Hatchet (d6)",inHand:!1,fatigue:!1},{title:"Padded Leathers (1 Armor)",inHand:!1,fatigue:!1},{title:"Large Trap",inHand:!1,fatigue:!1},{title:"Bloodhound | 2 HP, 12 DEX, bite (d6)",inHand:!1,fatigue:!1},{title:"Thundering Horn",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]}],ks=["","Arwel","Breglor","Grinwit","Melnax","Bevan","Canhoreal","Gruwid","Orthax","Boroth","Emrys","Gruwth","Triunein","Borrid","Ethex","Gwestin","Wenlan","Breagle","Gringle","Mannog","Yirmeor"],ys=["","Agune","Drelil","Lirann","Sybil","Beatrice","Elgile","Lirathil","Theune","Breagan","Esme","Lisabeth","Wenain","Bronwyn","Griya","Moralil","Ygwal","Cannora","Henaine","Morgwen","Yslen"],ws=["","Abernathy","Crumwaller","Harper","Swinney","Addercap","Dunswallow","Loomer","Thatcher","Burl","Getri","Malksmilk","Tolmen","Candlewick","Glass","Smythe","Weaver","Cormick","Harkness","Sunderman","Wolder"],Hs=["","alchemist","cleric","magician","performer","blacksmith","gambler","mercenary","pickpocket","burglar","gravedigger","merchant","smuggler","butcher","herbalist","miner","servant","carpenter","hunter","outlaw","ranger"],Ss=["","athletic","scrawny","brawny","short","flabby","statuesque","lanky","stout","rugged","towering"],Ms=["","birthmark","round","dark","soft","elongated","tanned","pockmarked","tattooed","rosy","weathered"],Cs=["","bald","long","braided","luxurious","curly","oily","filthy","wavy","frizzy","wispy"],As=["","bony","perfect","broken","rat-like","chiseled","sharp","elongated","square","pale","sunken"],Rs=["","blunt","gravelly","booming","precise","cryptic","squeaky","droning","stuttering","formal","whispery"],js=["","antique","frayed","bloody","frumpy","elegant","livery","filthy","rancid","foreign","soiled"],zs=["","ambitious","honorable","cautious","humble","courageous","merciful","disciplined","serene","gregarious","tolerant"],Ts=["","aggressive","lazy","bitter","nervous","craven","rude","deceitful","vain","greedy","vengeful"],qs=["","ambitious","loafer","boor","oddball","dangerous","repulsive","entertainer","respected","honest","wise"],Ps=["","abandoned","defrauded","addicted","demoted","blackmailed","discredited","condemned","disowned","cursed","exiled"],Os="/pocket-cairn/assets/dice-9509d5d1.svg";function tn(t,e,n){const l=t.slice();return l[14]=e[n],l}function nn(t,e,n){const l=t.slice();return l[17]=e[n],l}function ln(t){let e,n,l,s=t[0][t[17]]+"",i,a,r,o,f;function c(){return t[9](t[17])}return{c(){e=b("button"),n=O(t[17]),l=O(": "),i=O(s),m(e,"ontouchstart",""),e.disabled=a=!t[2].includes(t[17])&&t[2].length>=2,m(e,"class",r=ge(`item${t[2].includes(t[17])?" selected":""}`)+" svelte-1j3vf0r")},m(u,d){S(u,e,d),h(e,n),h(e,l),h(e,i),o||(f=X(e,"click",c),o=!0)},p(u,d){t=u,d&1&&s!==(s=t[0][t[17]]+"")&&ie(i,s),d&4&&a!==(a=!t[2].includes(t[17])&&t[2].length>=2)&&(e.disabled=a),d&4&&r!==(r=ge(`item${t[2].includes(t[17])?" selected":""}`)+" svelte-1j3vf0r")&&m(e,"class",r)},d(u){u&&H(e),o=!1,f()}}}function sn(t){let e,n=J(Qe().find(t[11]).inventory),l=[];for(let s=0;s<n.length;s+=1)l[s]=rn(tn(t,n,s));return{c(){e=b("div");for(let s=0;s<l.length;s+=1)l[s].c();m(e,"class","items-list")},m(s,i){S(s,e,i);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(s,i){if(i&2){n=J(Qe().find(s[11]).inventory);let a;for(a=0;a<n.length;a+=1){const r=tn(s,n,a);l[a]?l[a].p(r,i):(l[a]=rn(r),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=n.length}},d(s){s&&H(e),be(l,s)}}}function an(t){let e,n=t[14].title+"",l;return{c(){e=b("span"),l=O(n),m(e,"class","item svelte-1j3vf0r")},m(s,i){S(s,e,i),h(e,l)},p(s,i){i&2&&n!==(n=s[14].title+"")&&ie(l,n)},d(s){s&&H(e)}}}function rn(t){let e,n=t[14].title&&an(t);return{c(){n&&n.c(),e=hn()},m(l,s){n&&n.m(l,s),S(l,e,s)},p(l,s){l[14].title?n?n.p(l,s):(n=an(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(l){l&&H(e),n&&n.d(l)}}}function Ds(t){let e;return{c(){e=O("Back")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function Ls(t){let e;return{c(){e=O("Save")},m(n,l){S(n,e,l)},d(n){n&&H(e)}}}function Es(t){let e,n,l,s,i,a,r,o,f,c,u,d,p,_,v,y,g,z,N,P,E,D,G,M,w,F,U,he,ne,me,pe,V;i=new vt({props:{value:t[0].name,placeholder:"Name",paddingRight:"45px"}}),i.$on("input",t[8]),o=new K({props:{borderless:!0,image:Os,height:25}}),o.$on("click",t[5]);let He=J(["str","dex","wil"]),ae=[];for(let q=0;q<3;q+=1)ae[q]=ln(nn(t,He,q));E=new vs({props:{options:t[4],value:t[1]}}),E.$on("select",t[10]);let Q=t[1]!=="random"&&sn(t);return U=new K({props:{$$slots:{default:[Ds]},$$scope:{ctx:t}}}),U.$on("click",t[12]),ne=new K({props:{disabled:!t[0].name,$$slots:{default:[Ls]},$$scope:{ctx:t}}}),ne.$on("click",t[13]),{c(){e=b("div"),n=b("h2"),n.textContent="Create a character",l=C(),s=b("div"),j(i.$$.fragment),a=C(),r=b("div"),j(o.$$.fragment),f=C(),c=b("section"),u=b("div"),u.innerHTML='<span class="text svelte-1j3vf0r">Stats</span>',d=C(),p=b("div");for(let q=0;q<3;q+=1)ae[q].c();_=C(),v=b("span"),v.textContent=`You can swap two of your stats by selecting or deselecting them with a
        click, and the change will take effect after character creation.`,y=C(),g=b("section"),z=b("div"),z.innerHTML='<span class="text svelte-1j3vf0r">Starting gear</span>',N=C(),P=b("div"),j(E.$$.fragment),D=C(),G=b("span"),G.textContent=`You can use randomly generated starting gear or choose one of the
        starting packages.`,M=C(),Q&&Q.c(),w=C(),F=b("div"),j(U.$$.fragment),he=C(),j(ne.$$.fragment),m(n,"class","title svelte-1j3vf0r"),m(r,"class","dice svelte-1j3vf0r"),m(s,"class","name svelte-1j3vf0r"),m(u,"class","heading svelte-1j3vf0r"),m(v,"class","info svelte-1j3vf0r"),m(p,"class","stats svelte-1j3vf0r"),m(c,"class","wrap svelte-1j3vf0r"),m(z,"class","heading svelte-1j3vf0r"),m(G,"class","info svelte-1j3vf0r"),m(P,"class","inventory svelte-1j3vf0r"),m(g,"class","wrap svelte-1j3vf0r"),m(F,"class","controls svelte-1j3vf0r"),m(e,"class","form svelte-1j3vf0r")},m(q,le){S(q,e,le),h(e,n),h(e,l),h(e,s),A(i,s,null),h(s,a),h(s,r),A(o,r,null),h(e,f),h(e,c),h(c,u),h(c,d),h(c,p);for(let ke=0;ke<3;ke+=1)ae[ke]&&ae[ke].m(p,null);h(p,_),h(p,v),h(e,y),h(e,g),h(g,z),h(g,N),h(g,P),A(E,P,null),h(P,D),h(P,G),h(P,M),Q&&Q.m(P,null),h(e,w),h(e,F),A(U,F,null),h(F,he),A(ne,F,null),V=!0},p(q,[le]){const ke={};if(le&1&&(ke.value=q[0].name),i.$set(ke),le&69){He=J(["str","dex","wil"]);let se;for(se=0;se<3;se+=1){const wt=nn(q,He,se);ae[se]?ae[se].p(wt,le):(ae[se]=ln(wt),ae[se].c(),ae[se].m(p,_))}for(;se<3;se+=1)ae[se].d(1)}const kt={};le&2&&(kt.value=q[1]),E.$set(kt),q[1]!=="random"?Q?Q.p(q,le):(Q=sn(q),Q.c(),Q.m(P,null)):Q&&(Q.d(1),Q=null);const yt={};le&1048576&&(yt.$$scope={dirty:le,ctx:q}),U.$set(yt);const et={};le&1&&(et.disabled=!q[0].name),le&1048576&&(et.$$scope={dirty:le,ctx:q}),ne.$set(et)},i(q){V||($(i.$$.fragment,q),$(o.$$.fragment,q),$(E.$$.fragment,q),$(U.$$.fragment,q),$(ne.$$.fragment,q),q&&ee(()=>{V&&(pe&&pe.end(1),me=xe(e,je,{delay:200,duration:200}),me.start())}),V=!0)},o(q){k(i.$$.fragment,q),k(o.$$.fragment,q),k(E.$$.fragment,q),k(U.$$.fragment,q),k(ne.$$.fragment,q),me&&me.invalidate(),q&&(pe=$t(e,je,{duration:200})),V=!1},d(q){q&&H(e),R(i),R(o),be(ae,q),R(E),Q&&Q.d(),R(U),R(ne),q&&pe&&pe.end()}}}function Fs(t,e,n){const l=fe();let s={name:"",str:T(3,6),dex:T(3,6),wil:T(3,6),hp:T(1,6),gp:T(3,6)},i=["random",...Qe().map(g=>g.title)],a=i[0],r=[];const o=()=>{const g=T(1,2)===1?ys[T(1,20)]:ks[T(1,20)];n(0,s.name=`${g} ${ws[T(1,20)]}`,s)},f=g=>{if(r.includes(g)){const z=r.indexOf(g,0);z!==-1&&(r.splice(z,1),n(2,r=[...r]))}else{if(r.length>=2)return;n(2,r=[...r,g])}},c=()=>{if(r.length===2){const g=s[r[0]],z=s[r[1]];n(0,s[r[0]]=z,s),n(0,s[r[1]]=g,s)}_e.set(s.name),re.set({str:s.str,dex:s.dex,wil:s.wil,strMax:s.str,dexMax:s.dex,wilMax:s.wil}),Z.set({hp:s.hp,hpMax:s.hp,armor:0,deprived:!1}),we.set({gp:s.gp.toString(),sp:"0",cp:"0"}),$e.set(a==="random"?_s():Qe().find(g=>g.title===a).inventory),Oe.set(`Age: ${T(2,20)+10}, formerly a ${Hs[T(1,20)]}.
You have an ${Ss[T(1,10)]} physique, ${Ms[T(1,10)]} skin, ${Cs[T(1,10)]} hair, and a ${As[T(1,10)]} face.
You speak in a ${Rs[T(1,10)]} manner and wear ${js[T(1,10)]} clothing.
You are ${Ts[T(1,10)]} yet ${zs[T(1,10)]}, and are generally regarded as ${qs[T(1,10)]}.
You have had the misfortune of being ${Ps[T(1,10)]}.`),Y(),l("hide-form")};return[s,a,r,l,i,o,f,c,g=>n(0,s.name=g.detail,s),g=>f(g),g=>n(1,a=g.detail),g=>g.title===a,()=>l("hide-form"),()=>c()]}class Bs extends W{constructor(e){super(),I(this,e,Fs,Es,B,{})}}function Ns(t){let e,n;return e=new Bs({}),e.$on("hide-form",t[3]),{c(){j(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},p:L,i(l){n||($(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Is(t){let e,n;return e=new ms({}),e.$on("show-form",t[2]),{c(){j(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},p:L,i(l){n||($(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Ws(t){let e,n;return e=new ns({}),{c(){j(e.$$.fragment)},m(l,s){A(e,l,s),n=!0},p:L,i(l){n||($(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Vs(t){let e,n,l,s;const i=[Ws,Is,Ns],a=[];function r(o,f){return o[0]?0:o[1]?2:1}return n=r(t),l=a[n]=i[n](t),{c(){e=b("main"),l.c(),m(e,"class","svelte-ncbruq")},m(o,f){S(o,e,f),a[n].m(e,null),s=!0},p(o,[f]){let c=n;n=r(o),n===c?a[n].p(o,f):(ce(),k(a[c],1,1,()=>{a[c]=null}),ue(),l=a[n],l?l.p(o,f):(l=a[n]=i[n](o),l.c()),$(l,1),l.m(e,null))},i(o){s||($(l),s=!0)},o(o){k(l),s=!1},d(o){o&&H(e),a[n].d()}}}function Gs(t,e,n){let l;oe(t,_e,o=>n(4,l=o));let s=l,i=!1;return _e.subscribe(o=>n(0,s=o)),Tn(()=>{const o=localStorage.getItem("pc__character");o&&vn(JSON.parse(o))&&(_e.set(JSON.parse(o).name),re.set(JSON.parse(o).abilities),Z.set(JSON.parse(o).stats),we.set(JSON.parse(o).coins),$e.set(JSON.parse(o).inventory),x.set(JSON.parse(o).scars),Oe.set(JSON.parse(o).notes))}),[s,i,()=>n(1,i=!0),()=>n(1,i=!1)]}class Ys extends W{constructor(e){super(),I(this,e,Gs,Vs,B,{})}}new Ys({target:document.getElementById("app")});
